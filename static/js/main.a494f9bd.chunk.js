(this["webpackJsonpreact-front"]=this["webpackJsonpreact-front"]||[]).push([[0],{62:function(n,e,t){"use strict";t.r(e);var r,o=t(5),i=t(2),s=t.n(i),a=t(39),c=t.n(a),p=t(4),u=t.n(p),d=t(7),l=t(3),x=t(8),b=t(9),h={black:"#222831",gray:"#393e46",yellow:"#ffd369",white:"#eeeeee",red:"#f05454",blue:"#30475e",lightBlue:"#338ae7",lightBlueHover:"#3898fe"},f=t(6),m=t(17),j=t(18),g=t(11),O=t.n(g),v=t(1),w=h.black,y=f.b.div(r||(r=Object(o.a)(["\n  max-width: fit-content;\n  max-height: ",";\n  border-radius: 50%;\n  box-shadow: 0 0.4px 1.5px -3px ",",\n    0 0.9px 3.6px -3px ",",\n    0 1.8px 6.8px -3px ",",\n    0 3.1px 12.1px -3px ",",\n    0 5.8px 22.6px -3px ",",\n    0 14px 54px -3px ",";\n\n  .frame {\n    height: ",";\n    width: ",";\n    border-radius: 50%;\n    overflow: hidden;\n    background-color: #eee;\n  }\n  img {\n    height: 100%;\n    width: 100%;\n    object-fit: cover;\n  }\n"])),(function(n){return n.size}),(function(n){var e=n.lm,t=n.black;return e?t+"33":"transparent"}),(function(n){var e=n.lm,t=n.black;return e?t+"25":"transparent"}),(function(n){var e=n.lm,t=n.black;return e?t+"22":"transparent"}),(function(n){var e=n.lm,t=n.black;return e?t+"18":"transparent"}),(function(n){var e=n.lm,t=n.black;return e?t+"14":"transparent"}),(function(n){var e=n.lm,t=n.black;return e?t+"11":"transparent"}),(function(n){return n.size}),(function(n){return n.size}));var k,N=function(n){var e=n.size,t=n.lightMode,r=n.needsUpdate,o=n.setUpdateStatus,s=n.src,a=n.userId,c=Object(i.useState)(null),p=Object(l.a)(c,2),x=p[0],b=p[1],h="https://frozen-thicket-71687.herokuapp.com/images/"+s;return Object(i.useEffect)((function(){r&&function(){var n=Object(d.a)(u.a.mark((function n(){var e,t;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://frozen-thicket-71687.herokuapp.com/profileData/".concat(a));case 2:return e=n.sent,n.next=5,e.text();case 5:t=n.sent,b(t),o(!1),window.location.reload();case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()}),[r,a,o]),Object(v.jsx)(y,{lm:t,black:w,size:e,children:Object(v.jsxs)("div",{className:"frame",children:[!s&&Object(v.jsx)(O.a,{circle:!0,height:e,width:e}),s&&Object(v.jsx)("img",{src:x||h,alt:"profile",loading:"lazy"})]})})},z=f.b.div(k||(k=Object(o.a)(["\n  .toggle {\n    cursor: pointer;\n    position: relative;\n    height: 40px;\n    display: flex;\n    align-items: center;\n  }\n  .rail {\n    background: ",";\n    width: 35px;\n    height: 14px;\n    border-radius: 25px;\n    transition: background 0.4s ease 0s;\n    border: 1px solid ","22;\n  }\n  .ball {\n    background: ",";\n    height: 12px;\n    width: 12px;\n    border-radius: 50%;\n    border: 1px solid ","22;\n    // Box shadow prevents choppiness while transitioning\n    box-shadow: 0px 0px 0px transparent;\n    position: absolute;\n    top: 14px;\n    left: ",";\n    transition: left 0.1s cubic-bezier(0.08, 0.82, 0.66, 1.2),\n      background 0.4s ease 0s;\n  }\n"])),(function(n){var e=n.light,t=n.gray,r=n.white;return e?t:r}),(function(n){return n.white}),(function(n){var e=n.light,t=n.gray,r=n.white;return e?r:t}),(function(n){return n.white}),(function(n){return n.light?"22px":"1px"}));var C,S=function(n){var e=n.colors,t=n.light,r=e.gray,o=e.white;return Object(v.jsx)(z,{gray:r,white:o,light:t,children:Object(v.jsxs)("div",{className:"toggle modal-component",children:[Object(v.jsx)("div",{className:"rail modal-component"}),Object(v.jsx)("div",{className:"ball modal-component"})]})})},U=t(30),F=t(10),I=h.black,_=h.gray,E=h.white,L=f.b.div(C||(C=Object(o.a)(["\n  display: ",";\n  position: fixed;\n  bottom: 55px;\n  right: 10px;\n  width: 300px;\n  background: ",";\n  padding: 8px;\n  border: 1px solid ","55;\n  border-radius: 8px;\n  color: ",";\n\n  a {\n    padding: 0;\n\n    &:hover {\n      color: ",";\n    }\n  }\n\n  .name-container {\n    display: flex;\n    padding: 8px;\n    border-radius: 8px;\n\n    .pfp {\n      margin-right: 10px;\n    }\n\n    h3 {\n      font-size: 16px;\n    }\n\n    p {\n      color: ",";\n      font-size: 14px;\n      font-weight: 400;\n    }\n\n    &-right {\n      display: grid;\n      gap: 5px;\n      align-content: space between;\n      align-self: center;\n      word-break: break-word;\n    }\n\n    &:hover,\n    &:active {\n      background: ","33;\n      color: ",";\n    }\n  }\n\n  .spacer {\n    height: 10px;\n    margin: 0 10px;\n    border-bottom: 1px solid ","33;\n  }\n\n  ul li {\n    height: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: start;\n    font-size: 14px;\n    padding 0 8px;\n    border-radius: 8px;\n    margin-top: 5px;\n\n    .icon {\n      width: 50px;\n      display: flex;\n      justify-content: start;\n      font-size: 24px;\n    }\n\n    &:hover,\n    &:active {\n      background: ","33;\n      cursor: pointer;\n    }\n\n    .logout-icon {\n      font-size: 24px;\n    }\n  }\n"])),(function(n){return n.vis?"grid":"none"}),(function(n){return n.light?E:_}),(function(n){return n.light?I:E}),(function(n){return n.light?I:E}),(function(n){return n.light?I:E}),(function(n){return n.light?I:E+"aa"}),(function(n){return n.light?_:E}),(function(n){return n.light?I:E}),(function(n){return n.light?I:E}),(function(n){return n.light?_:E})),M=new F.a;var P=function(n){var e=n.modalVis,t=n.currentUser,r=n.toggleVis,o=n.light,s=n.changeColorMode,a=Object(i.useState)(null),c=Object(l.a)(a,2),p=c[0],b=c[1],f=Object(i.useState)(null),m=Object(l.a)(f,2),g=m[0],O=m[1],w=function(n){Object(j.a)(n.target.classList).includes("modal-component")||e&&r()};return Object(i.useEffect)((function(){return document.querySelector("body").addEventListener("click",w),function(){document.querySelector("body").removeEventListener("click",w)}})),Object(i.useEffect)((function(){!function(){var n=Object(d.a)(u.a.mark((function n(){var e,r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://frozen-thicket-71687.herokuapp.com/users/".concat(t));case 2:return e=n.sent,n.next=5,e.json();case 5:r=n.sent,b("".concat(r.firstName," ").concat(r.lastName)),O(r.profilePhotoSrc);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()}),[t]),Object(v.jsxs)(L,{vis:e,light:o,id:"settings-modal",className:"modal-component",children:[Object(v.jsxs)(x.b,{to:"/profile",className:"name-container modal-component",onClick:r,children:[Object(v.jsx)("div",{className:"pfp",children:Object(v.jsx)(N,{src:g,userId:t,size:"60px"})}),Object(v.jsxs)("div",{className:"name-container-right modal-component",children:[Object(v.jsx)("h3",{children:p}),Object(v.jsx)("p",{children:"See your profile"})]})]}),Object(v.jsx)("div",{className:"spacer modal-component"}),Object(v.jsxs)("ul",{className:"modal-component",children:[Object(v.jsxs)("li",{onClick:s,className:"modal-component",children:[Object(v.jsx)("div",{className:"icon",children:Object(v.jsx)(S,{colors:h,light:o})}),Object(v.jsx)("p",{className:"modal-component",children:"Toggle color mode"})]}),Object(v.jsxs)("li",{onClick:function(){M.set("currentUser",null),M.set("token",null),window.location.href=window.location.origin+"/facebookish"},className:"logout modal-component",children:[Object(v.jsx)("div",{className:"icon",children:Object(v.jsx)(U.a,{})}),Object(v.jsx)("p",{children:"Logout"})]})]})]})};var R=function(n){var e=n.currentUser,t=n.lightMode,r=n.changeColorMode,o=n.setCurrentUser,s=Object(i.useState)(!1),a=Object(l.a)(s,2),c=a[0],p=a[1],u=function(){return p(!c)};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("button",{onKeyDown:function(n){"Tab"!==n.key&&n.target.click()},onClick:u,tabIndex:"0",className:"settings",children:Object(v.jsx)(m.b,{})}),Object(v.jsx)(P,{modalVis:c,currentUser:e,toggleVis:u,light:t,changeColorMode:r,setCurrentUser:o})]})};var T,A=function(n){var e=n.focusRef;return Object(v.jsx)("button",{className:"post-icon",onClick:e,children:Object(v.jsx)(m.a,{})})},V=t(31),B=t.n(V),D=f.b.div(T||(T=Object(o.a)(["\n  display: flex;\n  padding: 8px;\n  padding-right: 31px;\n  border-radius: 8px;\n  cursor: pointer;\n\n  .notif-detail {\n    margin-left: 10px;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    letter-spacing: 0.5px;\n    line-height: 18px;\n  }\n"])));var q,J,W=function(n){var e=n.notif,t=(n.user,n.markRead),r=e.sender.firstName+" "+e.sender.lastName;return Object(v.jsxs)(D,{id:"notif-item",onClick:t(e._id),className:"modal-component",children:[Object(v.jsx)(N,{size:"60px",src:e.sender.profilePhotoSrc}),Object(v.jsxs)("div",{className:"notif-detail modal-component",children:[Object(v.jsxs)("p",{className:"modal-component",children:[Object(v.jsx)("b",{children:r}),function(n){var e,t=n.split("/"),r=Object(l.a)(t,2),o=r[0];switch(r[1]){case"add":e=" sent you a friend request.";break;case"accept":e=" accepted your friend request.";break;case"like":"post"===o&&(e=" liked your post."),"comment"===o&&(e=" liked your comment.");break;case"comment":"post"===o&&(e=" replied to your post."),"comment"===o&&(e=" replied to your comment.")}return e}(e.notificationType)]}),Object(v.jsx)("p",{className:"modal-component",children:B()(e.createdAt).fromNow()})]})]})},H=f.b.button(q||(q=Object(o.a)(["\n  font-size: 24px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  position: relative;\n\n  &:hover,\n  &:active {\n    color: ",';\n    transition: color 50ms ease;\n  }\n\n  &::after {\n    content: "','";\n    display: ',";\n    align-items: center;\n    justify-content: center;\n    font-size: 12px;\n    font-weight: bold;\n    color: ",";\n    text-shadow: 1px 1px 1px ",";\n    position: absolute;\n    top: 0px;\n    right: 5px;\n    border-radius: 50%;\n    height: 15px;\n    width: 15px;\n    background: ",";\n  }\n"])),h.black,(function(n){var e=n.notifLength;return e>9?"9+":e>0?e:""}),(function(n){return n.notifLength>0?"flex":"none"}),h.white,h.black,h.red),Z=f.b.ul(J||(J=Object(o.a)(["\n  display: ",";\n  flex-direction: column;\n  list-style: none;\n  font-size: 14px;\n  font-weight: 400;\n  position: absolute;\n  bottom: 55px;\n  right: 15vw;\n  width: 75vw;\n  max-width: 360px;\n  max-height: 40vh;\n  overflow-y: scroll;\n  padding: 6px;\n  padding-bottom: 15px;\n  border-radius: 8px;\n  scrollbar-width: none;\n  box-shadow: 0 0px 0.8px rgba(0, 0, 0, 0.013), 0 0px 1.9px rgba(0, 0, 0, 0.032),\n    0 0px 3.9px rgba(0, 0, 0, 0.051), 0 0px 8px rgba(0, 0, 0, 0.066),\n    0 0px 22px rgba(0, 0, 0, 0.07);\n\n  &:hover,\n  &:active {\n    overflow: overlay;\n    scrollbar-width: auto;\n\n    #notif-item {\n      padding-right: 17px;\n    }\n  }\n\n  .notif-top {\n    margin-top: 10px;\n    margin-left: 8px;\n\n    h1 {\n      font-size: 1.7em;\n    }\n\n    p {\n      font-size: 12px;\n      margin-bottom: 18px;\n    }\n  }\n\n  @media (max-width: 540px) {\n    & {\n      width: 90vw;\n      right: 5vw;\n    }\n  }\n"])),(function(n){return n.vis?"flex":"none"}));var K=function(n){var e=n.currentUser,t=Object(i.useState)(!1),r=Object(l.a)(t,2),o=r[0],s=r[1],a=Object(i.useState)([]),c=Object(l.a)(a,2),p=c[0],x=c[1],b=function(n){Object(j.a)(n.target.classList).includes("modal-component")||o&&s(!1)};Object(i.useEffect)((function(){return window.addEventListener("click",b),function(){window.removeEventListener("click",b)}})),Object(i.useEffect)((function(){function n(){return(n=Object(d.a)(u.a.mark((function n(){var t,r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://frozen-thicket-71687.herokuapp.com/notifications/".concat(e));case 2:return t=n.sent,n.next=5,t.json();case 5:r=n.sent,Array.isArray(r)?x(r):x([]);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[e]);var h=function(n){return Object(d.a)(u.a.mark((function t(){var r,o,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=JSON.stringify({notifId:n,userId:e}),t.next=3,fetch("https://frozen-thicket-71687.herokuapp.com/notifications/complete",{method:"put",headers:{"Content-Type":"application/json"},body:r});case 3:return o=t.sent,t.next=6,o.json();case 6:i=t.sent,x(i);case 8:case"end":return t.stop()}}),t)})))},f=p.map((function(n){return Object(v.jsx)("li",{className:"modal-component",children:Object(v.jsx)(W,{notif:n,user:e,markRead:h})},n._id)}));return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(H,{onClick:function(){return s(!o)},notifLength:p.length,children:Object(v.jsx)(U.b,{})}),Object(v.jsxs)(Z,{vis:o,id:"notif-modal",className:"modal-component",children:[Object(v.jsxs)("div",{className:"notif-top modal-component",children:[Object(v.jsx)("h1",{className:"modal-component",children:"Notifications"}),Object(v.jsx)("p",{className:"modal-component",children:"click to mark as read"})]}),f]})]})},Y=t(14);var $=function(){return Object(v.jsx)(x.b,{to:"/",children:Object(v.jsx)(Y.c,{})})},G=t(41);var Q,X=function(){return Object(v.jsx)(x.b,{to:"/users",children:Object(v.jsx)(G.a,{})})},nn=h.black,en=h.white,tn=h.blue,rn=f.b.div(Q||(Q=Object(o.a)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  height: 60px;\n  background: ",";\n  transition: background 0.4s ease, color 0.4s ease;\n  color: ",";\n  font-weight: 600;\n  letter-spacing: 1.2px;\n  position: fixed;\n  bottom: 0;\n  width: 100%;\n  z-index: 10;\n\n  .post-icon {\n    display: flex;\n    align-items: center;\n    font-size: 24px;\n    cursor: pointer;\n    padding: 10px;\n\n    &:hover:not(.name-container),\n    &:active:not(.name-container) {\n      color: ",";\n      transition: color 50ms ease;\n      font-weight: 600;\n    }\n  }\n\n  a,\n  a:visited {\n    display: flex;\n    align-items: center;\n    padding: 10px;\n    text-decoration: none;\n    font-size: 24px;\n    color: inherit;\n\n    &:hover:not(.name-container),\n    &:active:not(.name-container) {\n      color: ",";\n      transition: color 50ms ease;\n      font-weight: 600;\n    }\n  }\n\n  .notifs,\n  .settings {\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n\n    &:hover,\n    &:active {\n      color: ",";\n    }\n  }\n  .settings {\n    font-size: 28px;\n  }\n\n  .notifs {\n    font-size: 24px;\n  }\n\n  & button,\n  & button:hover,\n  & button:active {\n    background: none;\n  }\n"])),tn,en,nn,nn,nn);var on=function(n){var e=n.setLightMode,t=n.lightMode,r=n.currentUser,o=n.focusRef;return Object(v.jsxs)(rn,{light:t,children:[Object(v.jsx)($,{}),Object(v.jsx)(X,{}),Object(v.jsx)(A,{focusRef:o}),Object(v.jsx)(K,{currentUser:r}),Object(v.jsx)(R,{currentUser:r,lightMode:t,changeColorMode:function(){e(!t)}})]})};function sn(n){return n?n.reduce((function(n,e){var t;return n+(1+(null===(t=e.comments)||void 0===t?void 0:t.length))}),0):1}var an,cn=t(43),pn=t(42),un=f.b.div(an||(an=Object(o.a)(["\n  display: ",";\n\n  .spinner {\n    font-size: ","px;\n    animation: spin 1s cubic-bezier(0.18, 0.89, 0.32, 1.28) infinite;\n  }\n\n  @keyframes spin {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"])),(function(n){return n.vis?"flex":"none"}),(function(n){return n.size||20}));var dn,ln=function(n){var e=n.size,t=n.vis;return Object(v.jsx)(un,{size:e,vis:t,children:Object(v.jsx)(pn.a,{className:"spinner",id:"spinner"})})},xn=f.b.div(dn||(dn=Object(o.a)(["\n  display: ",";\n  color: ",";\n  position: absolute;\n  top: 0;\n  right: 10px;\n  color: black;\n  margin-right: 20px;\n  z-index: 3;\n\n  ul {\n    list-style: none;\n    border-radius: 6px;\n    z-index: 2;\n    box-shadow: 0 0.3px 0.9px rgba(0, 0, 0, 0.073),\n      0 0.9px 2.3px rgba(0, 0, 0, 0.106), 0 1.8px 4.8px rgba(0, 0, 0, 0.124),\n      0 3.7px 9.9px rgba(0, 0, 0, 0.139), 0 10px 27px rgba(0, 0, 0, 0.19);\n  }\n  li {\n    display: flex;\n    align-items: center;\n    padding: 5px;\n\n    svg {\n      font-size: 18px;\n    }\n    &:first-child {\n      border-radius: 6px 6px 0 0;\n    }\n\n    &:last-child {\n      border-radius: 0 0 6px 6px;\n    }\n\n    button {\n      border-style: none;\n      background: transparent;\n      color: inherit;\n      font-weight: bold;\n      font-size: 14px;\n    }\n  }\n\n  li.spacer {\n    border-bottom: 1px solid gray;\n    height: 0;\n    padding: 0;\n    margin: 0 5px;\n  }\n\n  li .content {\n    display: flex;\n    align-items: center;\n    padding: 6px;\n    width: 100%;\n    border-radius: 6px;\n  }\n\n  li .content.del {\n    margin-top: 0;\n  }\n\n  .icon {\n    display: ",";\n  }\n"])),(function(n){return n.vis?"flex":"none"}),(function(n){return n.vis?"red":"blue"}),(function(n){return n.spinnerVis?"none":"flex"})),bn=new F.a;var hn,fn=function(n){var e=n.modalVisible,t=n.isPost,r=n.postItem,o=n.commentItem,s=n.toggleModal,a=n.setFeed,c=n.homeFeed,p=n.user,x=n.postAuthor,b=n.setCommentCount,h=n.togglePostEdit,f=n.toggleCommentEditStatus,m=Object(i.useState)(!1),j=Object(l.a)(m,2),g=j[0],O=j[1],w=bn.get("token"),y=function(){e&&s()};function k(){return N.apply(this,arguments)}function N(){return(N=Object(d.a)(u.a.mark((function n(){var e,t;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!c){n.next=6;break}return n.next=3,fetch("https://frozen-thicket-71687.herokuapp.com/posts/feed/".concat(p));case 3:e=n.sent,n.next=9;break;case 6:return n.next=8,fetch("https://frozen-thicket-71687.herokuapp.com/posts/byuser/".concat(x));case 8:e=n.sent;case 9:return n.next=11,e.json();case 11:t=n.sent,s(),a(t);case 14:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function z(){return(z=Object(d.a)(u.a.mark((function n(){var e;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=JSON.stringify({postId:r._id}),n.next=3,fetch("https://frozen-thicket-71687.herokuapp.com/posts/delete",{method:"delete",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(w)},body:e}).then((function(){O(!1),s()})).catch((function(n){return console.error(n)}));case 3:k();case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function C(){return(C=Object(d.a)(u.a.mark((function n(e){var t,r,i,s,a,c,p,d;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=[o.post,o._id,o.parentId],r=t[0],i=t[1],a=(s=t[2])?{post:r,commentId:i,parentId:s}:{post:r,commentId:i},c=JSON.stringify(a),n.next=5,fetch("https://frozen-thicket-71687.herokuapp.com/comments/delete",{method:"delete",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(w)},body:c}).catch((function(n){return console.error(n)}));case 5:return p=n.sent,n.next=8,p.json();case 8:d=n.sent,b(sn(d.comments)),k();case 11:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(i.useEffect)((function(){return window.addEventListener("click",y),function(){window.removeEventListener("click",y)}})),Object(v.jsx)(xn,{vis:e,spinnerVis:g,children:Object(v.jsxs)("ul",{className:"menu",children:[Object(v.jsx)("li",{onClick:function(){t?h():f(),s()},children:Object(v.jsxs)("div",{className:"content",children:[Object(v.jsx)(Y.a,{}),Object(v.jsxs)("button",{children:["Edit ",t?"post":"comment"]})]})}),Object(v.jsx)("li",{className:"spacer"}),Object(v.jsx)("li",{onClick:function(n){O(!0),t?function(){z.apply(this,arguments)}():function(n){C.apply(this,arguments)}(n)},children:Object(v.jsxs)("div",{className:"content del",children:[Object(v.jsx)(cn.a,{className:"icon"}),Object(v.jsx)(ln,{className:"spinner",vis:g}),Object(v.jsxs)("button",{children:["Delete ",t?"post":"comment"]})]})})]})})},mn=f.b.button(hn||(hn=Object(o.a)(["\n  font-weight: bold;\n  font-size: 14px;\n"])));var jn,gn=function(n){var e=n.user,t=n.post,r=n.comment,o=n.setLikeCount;function i(){return(i=Object(d.a)(u.a.mark((function n(){var i,s,a,c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t?JSON.stringify({user:e,post:t}):JSON.stringify({user:e,comment:r}),n.next=3,fetch("https://frozen-thicket-71687.herokuapp.com/likes/like-".concat(t?"post":"comment"),{method:"post",headers:{"Content-Type":"application/json"},body:i});case 3:return s=n.sent,n.next=6,s.json();case 6:a=n.sent,c=a.likes.length,o(c);case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(v.jsx)(mn,{onClick:function(){return i.apply(this,arguments)},com:r,className:"util",children:"Like"})},On=f.b.div(jn||(jn=Object(o.a)(['\n  display: flex;\n\n  button {\n    padding: 0;\n    margin-left: 15px;\n    margin-top: 3px;\n    background: none;\n    font-size: 12px;\n    display: flex;\n    align-items: center;\n\n    &::after {\n      content: "";\n      display: inline-block;\n      margin: 0 5px;\n      height: 1px;\n      width: 2px;\n      background: #707070;\n      border-radius: 50%;\n    }\n    &:hover,\n    &:active {\n      background: none;\n      color: inherit;\n      text-decoration: underline;\n    }\n  }\n\n  button.reply {\n    margin: 0;\n    margin-top: 3px;\n    font-size: 12px;\n    font-weight: bold;\n    &::after {\n      display: none;\n    }\n  }\n\n  button.util:hover,\n  button.reply:hover {\n    cursor: pointer;\n  }\n'])));var vn,wn=function(n){var e=n.comment,t=n.user,r=n.setLikeCount,o=n.focusRef;return Object(v.jsxs)(On,{id:"comment-util",children:[Object(v.jsx)(gn,{user:t,setLikeCount:r,comment:e}),Object(v.jsx)("button",{className:"reply",onClick:o,children:"Reply"})]})},yn=f.b.div(vn||(vn=Object(o.a)(["\n  position: ",";\n  bottom: -12px;\n  right: 0;\n  display: grid;\n  grid-auto-flow: column;\n  align-items: center;\n  background: ",";\n  padding: ",";\n  padding-right: 5px;\n  border-radius: 15px;\n  box-shadow: ",";\n\n  .like {\n    path {\n      color: #338ae7;\n    }\n    margin-bottom: 2px;\n    margin-right: 5px;\n    margin-left: 1px;\n  }\n"])),(function(n){return n.isCmt?"absolute":"static"}),(function(n){return n.isCmt?"#393e46":"none"}),(function(n){return n.isCmt?"3px":""}),(function(n){return n.isCmt?"0 0.3px 1.3px rgba(0, 0, 0, 0.31), 0 0.8px 3.5px rgba(0, 0, 0, 0.202), 0 1.8px 8.4px rgba(0, 0, 0, 0.155),0 6px 28px rgba(0, 0, 0, 0.108)":"none"}));var kn,Nn=function(n){var e=n.likeCount,t=n.isCmt,r=n.id;return Object(v.jsxs)(yn,{isCmt:t,className:t?"cmt":"",id:r,children:[Object(v.jsx)(Y.d,{className:"like"}),Object(v.jsx)("p",{children:e})]})},zn=f.b.div(kn||(kn=Object(o.a)(["\n  .cmt {\n    font-size: 12px;\n  }\n"])));var Cn,Sn=function(n){var e=n.likeCount;return Object(v.jsx)(zn,{children:Object(v.jsx)(Nn,{likeCount:e,isCmt:!0,id:"comment-likes"})})},Un=f.b.form(Cn||(Cn=Object(o.a)(["\n  opacity: ",";\n  height: ",";\n  .wrap {\n    margin-top: ",';\n    margin-left: 15px;\n    display: flex;\n    justify-content: space-between;\n  }\n\n  a {\n    align-self: center;\n  }\n  input[type="text"] {\n    flex: 1;\n    height: 35px;\n    width: 170px;\n    padding-left: 10px;\n    border-style: none;\n    border-radius: 18px;\n    background: #707070;\n    color: ',';\n    font-size: 14px;\n    margin: 0 10px;\n  }\n\n  input[type="submit"] {\n    background: none;\n    font-weight: bold;\n  }\n\n  p {\n    width: max-content;\n    font-size: 12px;\n    padding-top: 3px;\n    padding-left: 55px;\n  }\n'])),(function(n){return n.vis?"100%":"0"}),(function(n){return n.vis?"fit-content":"0"}),(function(n){return n.vis?"10px":"0px"}),h.white),Fn=new F.a;var In,_n=function(n){var e=n.subFormVis,t=n.toggleVis,r=n.postId,o=n.commentId,i=n.setFeed,s=n.homeFeed,a=n.postAuthor,c=n.inputRef,p=n.currentUser,l=n.setCommentCount,b=n.parentId,h=n.pfp,f=Fn.get("token");function m(){return(m=Object(d.a)(u.a.mark((function n(e){var c,d,x,h,m,j,g,O;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),c=e.target[0],d=c.value){n.next=5;break}return n.abrupt("return");case 5:return x={text:d,parentId:b,post:r,comment:o,author:p},h=JSON.stringify(x),n.next=9,fetch("https://frozen-thicket-71687.herokuapp.com/comments/child/new",{method:"POST",type:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(f)},body:h}).catch((function(n){return console.error(n)}));case 9:return m=n.sent,n.next=12,m.json();case 12:if(j=n.sent,!s){n.next=19;break}return n.next=16,fetch("https://frozen-thicket-71687.herokuapp.com/posts/feed/".concat(p));case 16:g=n.sent,n.next=22;break;case 19:return n.next=21,fetch("https://frozen-thicket-71687.herokuapp.com/posts/byuser/".concat(a));case 21:g=n.sent;case 22:return n.next=24,g.json();case 24:O=n.sent,i(O),l(sn(j.comments)),t(),c.value="";case 29:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(v.jsxs)(Un,{onSubmit:function(n){return m.apply(this,arguments)},vis:e,children:[Object(v.jsxs)("div",{className:"wrap",children:[Object(v.jsx)(x.b,{to:"/profile",children:Object(v.jsx)(N,{src:h,size:"25px",userId:p})}),Object(v.jsx)("input",{type:"text",ref:c,id:"comment-input",placeholder:"Write a comment..."})]}),Object(v.jsx)("p",{children:"Press enter to comment"})]})},En=f.b.form(In||(In=Object(o.a)(['\n  width: 100%;\n  margin-left: 10px;\n  padding-right: 10px;\n  input[type="text"] {\n    width: 97%;\n    flex: 1;\n    height: 35px;\n    padding-left: 10px;\n    padding-right: 10px;\n    border-style: none;\n    border-radius: 18px;\n    background: #707070;\n    color: ',";\n    font-size: 14px;\n  }\n  p {\n    font-size: 12px;\n    margin-top: 5px;\n  }\n  input.comment-input {\n    margin-top: 5px;\n    border: 1px solid #a0a0a0;\n  }\n"])),h.white);var Ln,Mn=function(n){var e=n.setPostText,t=n.postText,r=n.togglePostEdit,o=n.postId,i=n.isPost,s=n.setCommentText,a=n.commentText,c=n.toggleCommentEditStatus,p=n.commentId,l=function(){var n=Object(d.a)(u.a.mark((function n(t){var a,d,l,x,b;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),a=t.target.firstElementChild.value,d=i?{postId:o,newData:a}:{commentId:p,newData:a},l=JSON.stringify(d),n.next=6,fetch("https://frozen-thicket-71687.herokuapp.com/".concat(i?"posts":"comments","/update"),{method:"put",headers:{"Content-Type":"application/json"},body:l});case 6:return x=n.sent,n.next=9,x.json();case 9:b=n.sent,u=b.text,i?e(u):s(u),i?r():c();case 12:case"end":return n.stop()}var u}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(v.jsxs)(En,{onSubmit:l,children:[Object(v.jsx)("input",{type:"text",className:i?"post-input":"comment-input",defaultValue:i?t:a,id:"edit-form"}),Object(v.jsx)("p",{children:"Press enter to submit."})]})},Pn=f.b.div(Ln||(Ln=Object(o.a)(["\n  padding: 5px;\n  padding-right: 15px;\n  margin-left: 25px;\n  position: relative;\n  display: grid;\n  grid-template-columns: 35px auto;\n  grid-template-rows: 1fr auto;\n  column-gap: 10px;\n\n  .pfp-link {\n    height: 100%;\n    grid-column: 1 / 2;\n    grid-row: 1 / -1;\n  }\n\n  .sub-comment-body {\n    position: relative;\n    min-width: 200px;\n    max-width: fit-content;\n    padding: 8px 14px;\n    border-radius: 20px;\n\n    a.user {\n      font-size: 14px;\n    }\n    p.content {\n      font-size: 15px;\n      padding-top: 2px;\n    }\n  }\n\n  & a,\n  & p {\n    grid-column: 2 / 3;\n  }\n\n  .comment-settings {\n    position: absolute;\n    top: 5px;\n    right: 10px;\n    cursor: pointer;\n    font-size: 18px;\n\n    &:hover {\n      color: #777;\n    }\n  }\n\n  &:hover .comment-settings {\n    display: block;\n  }\n\n  @media (min-width: 1280px) {\n    .comment-settings {\n      display: none;\n    }\n  }\n"])));var Rn,Tn=function(n){var e=n.comment,t=n.currentUser,r=n.setFeed,o=n.homeFeed,s=n.postAuthor,a=n.setCommentCount,c=n.pfp,p=Object(i.useState)(!1),u=Object(l.a)(p,2),d=u[0],b=u[1],h=Object(i.useState)(e.likes.length),f=Object(l.a)(h,2),j=f[0],g=f[1],O=Object(i.useState)(!1),w=Object(l.a)(O,2),y=w[0],k=w[1],z=Object(i.useState)(!1),C=Object(l.a)(z,2),S=C[0],U=C[1],F=Object(i.useState)(e.text),I=Object(l.a)(F,2),_=I[0],E=I[1],L=e.author.firstName+" "+e.author.lastName,M=e.author._id===t,P=Object(i.useRef)(null),R=function(){return U(!S)};return Object(v.jsxs)(Pn,{children:[Object(v.jsx)("div",{className:"pfp-link",children:Object(v.jsx)(x.b,{to:"/user/".concat(e.author._id),className:"user",children:Object(v.jsx)(N,{src:e.author.profilePhotoSrc,userId:t,size:"35px"})})}),Object(v.jsxs)("div",{className:"sub-comment-body",children:[Object(v.jsx)(x.b,{to:"/user/".concat(e.author._id),className:"user",children:L}),S?Object(v.jsx)(Mn,{setCommentText:E,commentText:_,commentId:e._id,toggleCommentEditStatus:R}):Object(v.jsx)("p",{className:"content",children:_}),M?Object(v.jsx)(m.b,{className:"comment-settings",onClick:function(){b(!d)}}):Object(v.jsx)("div",{}),Object(v.jsx)(fn,{modalVisible:d,toggleModal:b,commentItem:e,setFeed:r,homeFeed:o,user:t,postAuthor:s,setCommentCount:a,toggleCommentEditStatus:R}),j>0?Object(v.jsx)(Sn,{likeCount:j}):Object(v.jsx)("div",{})]}),Object(v.jsx)(wn,{comment:e._id,user:t,setLikeCount:g,focusRef:function(){P.current.focus(),k(!y)}}),Object(v.jsx)(_n,{currentUser:t,subFormVis:y,toggleVis:k,inputRef:P,postId:e.post,commentId:e._id,parentId:e.parentId,setFeed:r,homeFeed:o,postAuthor:s,setCommentCount:a,src:e.author.profilePhotoSrc,pfp:c})]})},An=f.b.div(Rn||(Rn=Object(o.a)(["\n  padding: 0 5px;\n  margin-left: 10px;\n  margin-right: 10px;\n  position: relative;\n  display: grid;\n  grid-template-columns: 35px auto;\n  grid-template-rows: 1fr auto;\n  column-gap: 10px;\n\n  &:first-child {\n    margin-top: 10px;\n  }\n\n  .pfp-link {\n    height: 100%;\n    grid-column: 1 / 2;\n    grid-row: 1 / -1;\n  }\n\n  .comment-body {\n    position: relative;\n    min-width: 250px;\n    max-width: fit-content;\n    padding: 8px 14px;\n    border-radius: 20px;\n\n    a.user {\n      font-size: 14px;\n    }\n    p.content {\n      font-size: 15px;\n      padding-top: 2px;\n    }\n  }\n\n  & a,\n  & p {\n    grid-column: 2 / 3;\n  }\n\n  .comment-settings {\n    position: absolute;\n    top: 5px;\n    right: 10px;\n    cursor: pointer;\n    font-size: 18px;\n\n    &:hover {\n      color: #777;\n    }\n  }\n\n  &:hover .comment-settings {\n    display: block;\n  }\n\n  @media (min-width: 1280px) {\n    .comment-settings {\n      display: none;\n    }\n  }\n\n  .sub-comments {\n    margin-top: ",";\n    margin-left: -20px;\n  }\n"])),(function(n){return n.subFormVis?"50px":"0"}));var Vn,Bn=function(n){var e=n.comment,t=n.currentUser,r=n.setFeed,o=n.homeFeed,s=n.postAuthor,a=n.setCommentCount,c=n.pfp,p=Object(i.useState)(!1),u=Object(l.a)(p,2),d=u[0],b=u[1],h=Object(i.useState)(e.likes.length),f=Object(l.a)(h,2),j=f[0],g=f[1],O=Object(i.useState)(!1),w=Object(l.a)(O,2),y=w[0],k=w[1],z=Object(i.useState)(!1),C=Object(l.a)(z,2),S=C[0],U=C[1],F=Object(i.useState)(e.text),I=Object(l.a)(F,2),_=I[0],E=I[1],L=e.author.firstName+" "+e.author.lastName,M=e.author._id===t,P=Object(i.useRef)(null),R=function(){return U(!S)};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(An,{className:"comment",subFormVis:y,children:[Object(v.jsx)("div",{className:"pfp-link",children:Object(v.jsx)(x.b,{to:"/user/".concat(e.author._id),className:"user",children:Object(v.jsx)(N,{src:e.author.profilePhotoSrc,userId:e.author._id,size:"35px"})})}),Object(v.jsxs)("div",{className:"comment-body",children:[Object(v.jsx)(x.b,{to:"/user/".concat(e.author._id),className:"user",children:L}),S?Object(v.jsx)(Mn,{setCommentText:E,commentText:_,commentId:e._id,toggleCommentEditStatus:R}):Object(v.jsx)("p",{className:"content",children:_}),M?Object(v.jsx)(m.b,{className:"comment-settings",onClick:function(){b(!d)}}):Object(v.jsx)("div",{}),Object(v.jsx)(fn,{modalVisible:d,toggleModal:b,commentItem:e,setFeed:r,homeFeed:o,user:t,postAuthor:s,setCommentCount:a,toggleCommentEditStatus:R}),j>0?Object(v.jsx)(Sn,{likeCount:j}):Object(v.jsx)("div",{})]}),Object(v.jsx)(wn,{comment:e._id,user:t,setLikeCount:g,focusRef:function(){P.current.focus(),k(!y)}}),Object(v.jsx)(_n,{currentUser:t,subFormVis:y,toggleVis:k,inputRef:P,postId:e.post,commentId:e._id,parentId:e._id,setFeed:r,homeFeed:o,postAuthor:s,setCommentCount:a,pfp:c})]}),Object(v.jsx)("div",{className:"sub-comments",children:e.comments.map((function(n){return Object(v.jsx)("div",{className:"sub-comment",children:Object(v.jsx)(Tn,{postAuthor:s,comment:n,parentId:n.parentId,currentUser:t,setFeed:r,homeFeed:o,setCommentCount:a,pfp:c})},n._id)}))})]})},Dn=f.b.form(Vn||(Vn=Object(o.a)(['\n  margin: 0 10px;\n  padding-bottom: 10px;\n\n  .wrap {\n    display: flex;\n    justify-content: space-between;\n    margin-top: 10px;\n    margin-left: 5px;\n  }\n\n  input[type="text"] {\n    flex: 1;\n    height: 35px;\n    padding-left: 10px;\n    padding-right: 10px;\n    border-style: none;\n    border-radius: 18px;\n    background: #707070;\n    color: ',';\n    font-size: 14px;\n    margin: 0 10px;\n    z-index: 2;\n  }\n\n  input[type="submit"] {\n    background: none;\n    font-weight: bold;\n  }\n\n  p {\n    font-size: 12px;\n    padding-top: 3px;\n    padding-left: 55px;\n  }\n'])),h.white),qn=new F.a;var Jn,Wn=function(n){var e=n.postId,t=n.setFeed,r=n.homeFeed,o=n.postAuthor,i=n.inputRef,s=n.currentUser,a=n.setCommentCount,c=n.setCommentsVisible,p=(n.src,n.pfp),l=qn.get("token");function b(){return(b=Object(d.a)(u.a.mark((function n(i){var p,d,x,b,h,f,m,j;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i.preventDefault(),p=i.target[0],d=p.value){n.next=5;break}return n.abrupt("return");case 5:return x={text:d,post:e,author:s},b=JSON.stringify(x),n.next=9,fetch("https://frozen-thicket-71687.herokuapp.com/comments/new",{method:"POST",type:"cors",body:b,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l)}}).catch((function(n){return console.error(n)}));case 9:return h=n.sent,n.next=12,h.json();case 12:if(f=n.sent,!r){n.next=19;break}return n.next=16,fetch("https://frozen-thicket-71687.herokuapp.com/posts/feed/".concat(s));case 16:m=n.sent,n.next=22;break;case 19:return n.next=21,fetch("https://frozen-thicket-71687.herokuapp.com/posts/byuser/".concat(o));case 21:m=n.sent;case 22:return n.next=24,m.json();case 24:j=n.sent,t(j),a(sn(f.comments)),c(),p.value="";case 29:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(v.jsxs)(Dn,{onSubmit:function(n){return b.apply(this,arguments)},children:[Object(v.jsxs)("div",{className:"wrap",children:[Object(v.jsx)(x.b,{to:"/profile",children:Object(v.jsx)(N,{size:"35px",src:p,userId:s})}),Object(v.jsx)("input",{type:"text",ref:i,id:"comment-input",placeholder:"Write a comment..."})]}),Object(v.jsx)("p",{children:"Press enter to comment"})]})},Hn=f.b.div(Jn||(Jn=Object(o.a)(["\n  display: grid;\n  justify-items: stretch;\n  grid-auto-flow: column;\n  column-gap: 4px;\n  border-bottom: 1px solid gray;\n  border-top: 1px solid gray;\n  padding: 4px 0;\n  margin-left: 10px;\n  margin-right: 10px;\n  & button {\n    font-weight: bold;\n    font-size: 14px;\n  }\n\n  button.util {\n    background: none;\n    &:hover,\n    &:active {\n      background: #707070aa;\n    }\n  }\n"])));var Zn,Kn=function(n){var e=n.user,t=n.post,r=n.setLikeCount,o=n.focusRef;return Object(v.jsxs)(Hn,{children:[Object(v.jsx)(gn,{user:e,post:t,setLikeCount:r}),Object(v.jsx)("button",{onClick:o,className:"util",children:"Comment"})]})},Yn=f.b.div(Zn||(Zn=Object(o.a)(["\n  font-size: 15px;\n  display: flex;\n  padding: 0 10px;\n  margin-top: 5px;\n\n  .likes,\n  .post-comments {\n    margin-top: 5px;\n    flex: 1;\n    display: flex;\n  }\n  .likes {\n    justify-content: start;\n  }\n  .post-comments {\n    display: ",";\n    justify-content: flex-end;\n    -webkit-justify-content: flex-end;\n    margin-right: 4px;\n\n    &:hover {\n      text-decoration: underline;\n      cursor: pointer;\n    }\n  }\n"])),(function(n){return n.commentCount?"flex":"none"}));var $n,Gn=function(n){var e=n.likeCount,t=n.commentCount,r=n.toggleComments;return Object(v.jsxs)(Yn,{commentCount:t,children:[Object(v.jsx)("div",{className:"likes",children:e>0?Object(v.jsx)(Nn,{likeCount:e}):Object(v.jsx)("div",{})}),Object(v.jsx)("div",{className:"post-comments",onClick:r,children:1===t?t+" Comment":t>0?t+" Comments":Object(v.jsx)("div",{})})]})},Qn=f.b.div($n||($n=Object(o.a)(["\n  width: 100%;\n  border-radius: 5px;\n  margin: 20px 0px;\n  box-shadow: 0 0.1px 0.8px rgba(0, 0, 0, 0.02),\n    0 0.1px 1.9px rgba(0, 0, 0, 0.028), 0 0.3px 3.5px rgba(0, 0, 0, 0.035),\n    0 0.4px 6.3px rgba(0, 0, 0, 0.042), 0 0.8px 11.7px rgba(0, 0, 0, 0.05);\n\n  &:hover {\n    transition: box-shadow 0.05s ease;\n    box-shadow: 0 -0.4px 1.1px rgba(0, 0, 0, 0.047),\n      0 -0.7px 2.5px rgba(0, 0, 0, 0.063), 0 -0.9px 4.5px rgba(0, 0, 0, 0.067),\n      0 -0.8px 7.4px rgba(0, 0, 0, 0.067), 0 0.4px 12.2px rgba(0, 0, 0, 0.066);\n  }\n\n  .user-info {\n    display: grid;\n    grid-template-columns: 60px auto;\n    grid-template-rows: 15px auto;\n    row-gap: 10px;\n    padding: 6px 5px 0px;\n    margin-bottom: 10px;\n\n    p {\n      font-size: 13px;\n      font-weight: bold;\n      color: #aaa;\n    }\n\n    a,\n    p {\n      width: fit-content;\n    }\n\n    a:hover {\n      text-decoration: underline;\n    }\n  }\n\n  .post {\n    position: relative;\n    padding: 5px 0;\n    padding-bottom: 10px;\n    // border-bottom: 1px solid gray;\n    position: relative;\n\n    .pfp-link {\n      grid-column: 1 / 2;\n      grid-row: 1 / -1;\n      justify-self: center;\n      align-self: center;\n    }\n\n    p.content {\n      margin-left: 10px;\n      line-height: 23px;\n      font-size: 15px;\n    }\n  }\n\n  .post-settings {\n    position: absolute;\n    top: 6px;\n    right: 10px;\n    cursor: pointer;\n    font-size: 24px;\n\n    &:hover {\n      color: #777;\n    }\n  }\n\n  .post:hover .post-settings {\n    display: block;\n  }\n\n  .comments {\n    display: ",";\n  }\n\n  .photo-wrap {\n    width: 100%;\n    margin-top: 5px;\n    display: flex;\n    justify-content: center;\n\n    img {\n      width: 100%;\n      // max-width: 100%;\n    }\n  }\n\n  @media (min-width: 300px) {\n    .post-settings {\n      display: block;\n    }\n  }\n\n  @media (min-width: 1280px) {\n    .post-settings {\n      display: none;\n    }\n  }\n"])),(function(n){return n.cmtsVis?"block":"none"}));var Xn,ne=function(n){var e=n.post,t=n.setFeed,r=n.homeFeed,o=n.src,s=n.currentUser,a=n.pfp,c=Object(i.useState)(!1),p=Object(l.a)(c,2),b=p[0],h=p[1],f=Object(i.useState)(e.likes.length),j=Object(l.a)(f,2),g=j[0],O=j[1],w=Object(i.useState)(sn(e.comments)),y=Object(l.a)(w,2),k=y[0],z=y[1],C=Object(i.useState)(!0),S=Object(l.a)(C,2),U=S[0],F=S[1],I=Object(i.useState)(!1),_=Object(l.a)(I,2),E=_[0],L=_[1],M=Object(i.useState)(e.text),P=Object(l.a)(M,2),R=P[0],T=P[1],A=Object(i.useState)(null),V=Object(l.a)(A,2),D=V[0],q=V[1],J=e.author._id===s,W=Object(i.useRef)(null);Object(i.useEffect)((function(){!function(){var n=Object(d.a)(u.a.mark((function n(){var t;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.photo){n.next=5;break}t=e.photo.key,q("https://frozen-thicket-71687.herokuapp.com/images/".concat(t)),n.next=6;break;case 5:return n.abrupt("return");case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()}),[D,e.photo]);var H=function(){return L(!E)};return Object(v.jsxs)(Qn,{className:"postItem",cmtsVis:U,children:[Object(v.jsxs)("div",{className:"post",children:[Object(v.jsxs)("div",{className:"user-info",children:[Object(v.jsx)("div",{className:"pfp-link",children:Object(v.jsx)(x.b,{to:"/user/".concat(e.author._id),className:"user",children:Object(v.jsx)(N,{src:e.author.profilePhotoSrc,size:"40px"})})}),Object(v.jsxs)(x.b,{to:"/user/".concat(e.author._id),className:"user",children:[e.author.firstName," ",e.author.lastName]}),Object(v.jsx)("p",{children:B()(e.createdAt).fromNow()})]}),E?Object(v.jsx)(Mn,{setPostText:T,postText:R,togglePostEdit:H,postId:e._id,isPost:!0}):Object(v.jsx)("p",{className:"content",children:R}),e.photo?Object(v.jsx)("div",{className:"photo-wrap",children:Object(v.jsx)("img",{src:D,alt:"post",loading:"lazy"})}):Object(v.jsx)("div",{}),Object(v.jsx)(Gn,{likeCount:g,commentCount:k,toggleComments:function(){return F(!U)}}),J?Object(v.jsx)(m.b,{className:"post-settings",onClick:function(){return h(!b)}}):Object(v.jsx)("div",{}),Object(v.jsx)(fn,{modalVisible:b,toggleModal:h,postItem:e,user:s,setFeed:t,homeFeed:r,setCommentCount:z,togglePostEdit:H,postAuthor:e.author._id,isPost:!0})]}),Object(v.jsx)(Kn,{user:s,post:e._id,setLikeCount:O,focusRef:function(){return W.current.focus()}}),Object(v.jsx)("div",{className:"comments",children:e.comments.map((function(n){return Object(v.jsx)("div",{children:Object(v.jsx)(Bn,{comment:n,currentUser:s,setFeed:t,homeFeed:r,postAuthor:e.author._id,setCommentCount:z,pfp:a})},n._id)}))}),Object(v.jsx)(Wn,{currentUser:s,postId:e._id,postAuthor:e.author._id,setFeed:t,homeFeed:r,inputRef:W,setCommentCount:z,setCommentsVisible:function(){return F(!0)},src:o,pfp:a})]})},ee=f.b.div(Xn||(Xn=Object(o.a)(["\n  background: #777;\n  width: 95%;\n  max-width: 750px;\n  padding: 18px;\n  border-radius: 8px;\n  margin-bottom: 10px;\n  box-shadow: 0 0.1px 0.8px rgba(0, 0, 0, 0.02),\n    0 0.1px 1.9px rgba(0, 0, 0, 0.028), 0 0.3px 3.5px rgba(0, 0, 0, 0.035),\n    0 0.4px 6.3px rgba(0, 0, 0, 0.042), 0 0.8px 11.7px rgba(0, 0, 0, 0.05);\n\n  .post-detail {\n    display: flex;\n    margin-bottom: 15px;\n  }\n\n  .detail-right {\n    margin-left: 10px;\n    width: 100%;\n    display: grid;\n    align-content: space-between;\n  }\n  .author {\n    width: 200px;\n  }\n  .posted-at {\n    width: 100px;\n  }\n\n  .text {\n    margin-bottom: 8px;\n  }\n  .post-body {\n    height: 200px;\n  }\n  .comments {\n    margin-top: 15px;\n  }\n  .comment {\n    margin-top: 12px;\n    display: grid;\n    grid-auto-flow: column;\n    justify-content: start;\n    gap: 10px;\n  }\n"])));var te,re=function(){return Object(v.jsx)(ee,{className:"loading",id:"post-loader",children:Object(v.jsxs)(g.SkeletonTheme,{color:"#d8d8d8",highlightColor:"#f0f0f0",children:[Object(v.jsxs)("div",{className:"post-detail",children:[Object(v.jsx)(O.a,{circle:"true",height:40,width:40,className:"pfp"}),Object(v.jsxs)("div",{className:"detail-right",children:[Object(v.jsx)(O.a,{className:"author"}),Object(v.jsx)(O.a,{className:"posted-at"})]})]}),Object(v.jsx)(O.a,{className:"text",count:3}),Object(v.jsxs)("div",{className:"comments",children:[Object(v.jsxs)("div",{className:"comment",children:[Object(v.jsx)(O.a,{circle:!0,height:35,width:35}),Object(v.jsx)("div",{className:"cmts-right",children:Object(v.jsx)(O.a,{height:55,width:200})})]}),Object(v.jsxs)("div",{className:"comment",children:[Object(v.jsx)(O.a,{circle:!0,height:35,width:35}),Object(v.jsx)("div",{className:"cmts-right",children:Object(v.jsx)(O.a,{height:55,width:260})})]}),Object(v.jsxs)("div",{className:"comment",children:[Object(v.jsx)(O.a,{circle:!0,height:35,width:35}),Object(v.jsx)("div",{className:"cmts-right",children:Object(v.jsx)(O.a,{height:55,width:150})})]})]})]})})},oe=f.b.div(te||(te=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  .wrap {\n    width: 95%;\n    max-width: 750px;\n  }\n"]))),ie=Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(re,{}),Object(v.jsx)(re,{}),Object(v.jsx)(re,{})]});var se,ae=function(n){var e=n.homeFeed,t=n.posts,r=n.setPosts,o=n.src,i=n.currentUser,s=n.pfp;return Object(v.jsx)(oe,{className:"grid-feed",children:t?Object(v.jsx)("div",{className:"wrap",children:t.map((function(n){return Object(v.jsx)("div",{className:"post-wrap",children:Object(v.jsx)(ne,{post:n,setFeed:r,homeFeed:e,src:o,currentUser:i,pfp:s})},n._id)}))}):ie})},ce=t(44),pe=t(45),ue=f.b.button(se||(se=Object(o.a)(["\n  display: ",";\n  align-items: center;\n  justify-content: center;\n  width: 180px;\n  height: 40px;\n  cursor: pointer;\n\n  .icon {\n    font-size: 18px;\n    margin-right: 6px;\n  }\n  .txt {\n    font-size: 15px;\n    font-weight: bold;\n  }\n\n  &.pending:hover p,\n  &.pending path {\n    color: #eee;\n    cursor: auto;\n  }\n"])),(function(n){return n.sameUser?"none":"flex"}));var de,le=function(n){var e=n.receiverId,t=n.currentUser,r=n.isPending,o=n.sameUser,s=Object(i.useState)(!1),a=Object(l.a)(s,2),c=a[0],p=a[1];function x(){return(x=Object(d.a)(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=JSON.stringify({receiverId:e,senderId:t}),n.next=3,fetch("https://frozen-thicket-71687.herokuapp.com/friends/add",{method:"post",headers:{"Content-Type":"application/json"},body:r});case 3:p(!0);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(v.jsx)(ue,{onClick:function(){return x.apply(this,arguments)},disabled:c,sameUser:o,className:c?"pending":"",id:r?"pending":"",children:c?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(pe.a,{className:"icon"}),Object(v.jsx)("p",{className:"txt",children:"Request Pending..."})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ce.a,{className:"icon"}),Object(v.jsx)("p",{className:"txt",children:"Add Friend"})]})})},xe=f.b.form(de||(de=Object(o.a)(['\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  position: relative;\n  z-index: 10;\n  width: 100%;\n  max-width: 400px;\n  max-height: 90vh;\n  padding-bottom: 15px;\n  border-radius: 8px;\n  box-shadow: 0 0.1px 0.8px rgba(0, 0, 0, 0.02),\n    0 0.1px 1.9px rgba(0, 0, 0, 0.028), 0 0.3px 3.5px rgba(0, 0, 0, 0.035),\n    0 0.4px 6.3px rgba(0, 0, 0, 0.042), 0 0.8px 11.7px rgba(0, 0, 0, 0.05);\n\n  input[type="file"] {\n    display: none;\n  }\n\n  .icon {\n    font-size: 100px;\n    cursor: pointer;\n    color: ',';\n    justify-self: center;\n  }\n\n  label {\n    height: fit-content;\n    width: fit-content;\n    display: grid;\n    flex-direction: column;\n    grid-auto-flow: row;\n    justify-content: center;\n    margin-bottom: 10px;\n\n    p.upload-txt {\n      padding: 0;\n      text-align: center;\n      font-size: 14px;\n\n      &:hover {\n        text-decoration: underline;\n        cursor: pointer;\n      }\n    }\n  }\n\n  input[type="submit"] {\n    margin-top: 20px;\n    width: 95%;\n    max-width: 400px;\n    font-size: 18px;\n    padding: 10px;\n\n    &:hover,\n    &:active {\n      background: ',";\n      cursor: pointer;\n    }\n  }\n\n  img[src] {\n    margin-top: 15px;\n    max-width: 95%;\n    max-height: 300px;\n  }\n\n  #esc {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    height: 40px;\n    width: 40px;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n\n    &:hover,\n    &:active {\n      opacity: 80%;\n    }\n\n    span {\n      display: block;\n      height: 2px;\n      width: 25px;\n      background: ",";\n      border-radius: 8px;\n\n      &:first-child {\n        transform: rotate(45deg);\n        position: absolute;\n        left: 8px;\n      }\n\n      &:last-child {\n        transform: rotate(-45deg);\n        position: absolute;\n        left: 8px;\n      }\n    }\n  }\n\n  input#img-text-input {\n    width: 95%;\n    min-height: 35px;\n    max-width: 400px;\n    font-size: 14px;\n\n    &:hover {\n      opacity: 70%;\n    }\n  }\n\n  .spinner {\n    position: absolute;\n    bottom: 26px;\n    left: ",";\n  }\n\n  @media (min-width: 420px) {\n    .spinner {\n      left: ",";\n    }\n  }\n  @media (min-width: 520px) {\n    .spinner {\n      left: ",";\n    }\n  }\n"])),h.blue,h.blue,h.gray,(function(n){return n.pfp?"10%":"33%"}),(function(n){return n.pfp?"16%":"36%"}),(function(n){return n.pfp?"20%":"150px"})),be=new F.a;var he,fe=function(n){var e=n.user,t=n.toggleOff,r=n.profile,o=n.setFeed,s=n.setUpdateStatus,a=n.postInput,c=Object(i.useState)(null),p=Object(l.a)(c,2),x=p[0],b=p[1],h=Object(i.useState)(null),f=Object(l.a)(h,2),m=f[0],j=f[1],g=Object(i.useState)(""),O=Object(l.a)(g,2),w=O[0],y=O[1],k=Object(i.useState)(!1),N=Object(l.a)(k,2),z=N[0],C=N[1],S=be.get("token"),U=function(){var n=Object(d.a)(u.a.mark((function n(t){var i,a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),x){n.next=3;break}return n.abrupt("return");case 3:return C(!0),(i=new FormData).append("file",x),i.append("text",w),a="https://frozen-thicket-71687.herokuapp.com/upload/".concat(r?"profile":"posts","/").concat(e),n.next=10,fetch(a,{method:"post",body:i,headers:{Authorization:"Bearer ".concat(S)}}).then(function(){var n=Object(d.a)(u.a.mark((function n(e){var t;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.json();case 2:t=n.sent,r||o(t),r&&s(!0),F(),C(!1);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(n){return console.error(n)}));case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),F=function(){t(),b(null),j(null),y("")};return Object(v.jsxs)(xe,{id:"img-form",onSubmit:U,encType:"multipart/form-data",className:"modal-component",pfp:r,children:[Object(v.jsx)("input",{type:"file",name:a?"post-file":"file",id:a?"post-file":"file",accept:".png, .jpeg, .jpg",onChange:function(n){b(n.target.files[0]),j(URL.createObjectURL(n.target.files[0]))},className:"modal-component"}),Object(v.jsxs)("label",{htmlFor:a?"post-file":"file",className:"modal-component",children:[Object(v.jsx)(Y.e,{className:"upload-icon icon modal-component"}),Object(v.jsx)("p",{className:"upload-txt modal-component",children:"Upload an image"})]}),r?Object(v.jsx)("div",{}):Object(v.jsx)("input",{type:"text",id:"img-text-input",placeholder:"What's on your mind?",onChange:function(n){return y(n.target.value)},value:w,className:"modal-component"}),Object(v.jsx)("img",{src:m,alt:"",className:"modal-component"}),Object(v.jsx)("input",{type:"submit",value:r?"Change profile picture":"Post",className:"modal-component",disabled:z}),Object(v.jsx)(ln,{className:"spinner",vis:z}),Object(v.jsxs)("button",{id:"esc",onClick:F,className:"modal-component",children:[Object(v.jsx)("span",{}),Object(v.jsx)("span",{})]})]})},me=f.b.div(he||(he=Object(o.a)(["\n  display: ",";\n  justify-content: center;\n  position: fixed;\n  top: 20px;\n  left: 0;\n  width: 80%;\n  margin: 0 10%;\n  z-index: 3;\n  animation: comeFromTop 0.2s cubic-bezier(0.18, 0.89, 0.32, 1.28);\n\n  @keyframes comeFromTop {\n    from {\n      top: -50px;\n    }\n  }\n"])),(function(n){return n.vis?"flex":"none"}));var je,ge=function(n){var e=n.toggle,t=n.user,r=n.vis,o=n.profile,s=n.setFeed,a=n.setUpdateStatus,c=n.postInput,p=function(n){"path"!==n.target.tagName&&(Object(j.a)(n.target.classList).includes("modal-component")||r&&e())};return Object(i.useEffect)((function(){return window.addEventListener("click",p),function(){window.removeEventListener("click",p)}})),Object(v.jsx)(me,{vis:r,children:Object(v.jsx)(fe,{user:t,toggleOff:e,profile:o,setFeed:s,setUpdateStatus:a,postInput:c})})},Oe=t(25),ve=f.b.form(je||(je=Object(o.a)(['\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  position: relative;\n  z-index: 10;\n  width: 100%;\n  max-width: 400px;\n  max-height: 90vh;\n  padding-bottom: 15px;\n  border-radius: 8px;\n  box-shadow: 0 0.1px 0.8px rgba(0, 0, 0, 0.02),\n    0 0.1px 1.9px rgba(0, 0, 0, 0.028), 0 0.3px 3.5px rgba(0, 0, 0, 0.035),\n    0 0.4px 6.3px rgba(0, 0, 0, 0.042), 0 0.8px 11.7px rgba(0, 0, 0, 0.05);\n\n  input[type="file"] {\n    display: none;\n  }\n\n  .banner-icon {\n    font-size: 100px;\n    cursor: pointer;\n    color: ',';\n    justify-self: center;\n  }\n\n  label {\n    height: fit-content;\n    width: fit-content;\n    display: grid;\n    flex-direction: column;\n    grid-auto-flow: row;\n    justify-content: center;\n    margin-bottom: 10px;\n\n    p.banner-upload-txt {\n      padding: 0;\n      text-align: center;\n      font-size: 14px;\n\n      &:hover {\n        text-decoration: underline;\n        cursor: pointer;\n      }\n    }\n  }\n\n  input[type="submit"] {\n    margin-top: 20px;\n    width: 95%;\n    max-width: 400px;\n    font-size: 18px;\n    padding: 10px;\n\n    &:hover,\n    &:active {\n      background: ',";\n      cursor: pointer;\n    }\n  }\n\n  img {\n    display: none;\n    height: 0;\n  }\n\n  img[src] {\n    display: block;\n    height: auto;\n    margin-top: 15px;\n    max-width: 95%;\n    max-height: 300px;\n  }\n\n  #esc {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    height: 40px;\n    width: 40px;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n\n    &:hover,\n    &:active {\n      opacity: 80%;\n    }\n\n    span {\n      display: block;\n      height: 2px;\n      width: 25px;\n      background: ",";\n      border-radius: 8px;\n\n      &:first-child {\n        transform: rotate(45deg);\n        position: absolute;\n        left: 8px;\n      }\n\n      &:last-child {\n        transform: rotate(-45deg);\n        position: absolute;\n        left: 8px;\n      }\n    }\n  }\n\n  input#img-text-input {\n    width: 95%;\n    min-height: 35px;\n    max-width: 400px;\n    font-size: 14px;\n\n    &:hover {\n      opacity: 70%;\n    }\n  }\n\n  .spinner {\n    position: absolute;\n    bottom: 25px;\n    left: 35px;\n  }\n\n  @media (min-width: 400px) {\n    .spinner {\n      left: 17%;\n    }\n  }\n  @media (min-width: 450px) {\n    .spinner {\n      left: 20%;\n    }\n  }\n"])),h.blue,h.blue,h.gray),we=new F.a;var ye,ke=function(n){var e=n.user,t=n.toggleOff,r=n.setBannerSrc,o=Object(i.useState)(null),s=Object(l.a)(o,2),a=s[0],c=s[1],p=Object(i.useState)(null),x=Object(l.a)(p,2),b=x[0],h=x[1],f=Object(i.useState)(!1),m=Object(l.a)(f,2),g=m[0],O=m[1],w=we.get("token"),y=function(){var n=Object(d.a)(u.a.mark((function n(t){var o,i;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),a){n.next=3;break}return n.abrupt("return");case 3:return O(!0),(o=new FormData).append("file",a),i="https://frozen-thicket-71687.herokuapp.com/upload/banner/".concat(e),n.next=9,fetch(i,{method:"post",body:o,headers:{Authorization:"Bearer ".concat(w)}}).then(function(){var n=Object(d.a)(u.a.mark((function n(e){var t;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.json();case 2:t=n.sent,r(t.src),k(),O(!1);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(n){return console.error(n)}));case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),k=function(){t(),c(null),h(null)};return Object(v.jsxs)(ve,{id:"img-form",onSubmit:y,encType:"multipart/form-data",className:"modal-component",children:[Object(v.jsx)("input",{type:"file",name:"banner-file",id:"banner-file",accept:".png, .jpeg, .jpg",onChange:function(n){return e=Object(j.a)(n.target.files),c(e[0]),void h(URL.createObjectURL(e[0]));var e},className:"modal-component"}),Object(v.jsxs)("label",{htmlFor:"banner-file",className:"modal-component",children:[Object(v.jsx)(Y.e,{className:"banner-upload-icon banner-icon modal-component"}),Object(v.jsx)("p",{className:"banner-upload-txt modal-component",children:"Upload an image"})]}),Object(v.jsx)("img",{src:b,alt:"preview",className:"banner-preview modal-component"}),Object(v.jsx)("input",{type:"submit",value:"Change cover photo",className:"modal-component",disabled:g}),Object(v.jsx)(ln,{className:"spinner",vis:g}),Object(v.jsxs)("button",{id:"esc",onClick:k,className:"modal-component",children:[Object(v.jsx)("span",{}),Object(v.jsx)("span",{})]})]})},Ne=f.b.div(ye||(ye=Object(o.a)(["\n  display: ",";\n  justify-content: center;\n  position: fixed;\n  top: 20px;\n  left: 0;\n  width: 80%;\n  margin: 0 10%;\n  z-index: 3;\n  animation: comeFromTop 0.2s cubic-bezier(0.18, 0.89, 0.32, 1.28);\n\n  @keyframes comeFromTop {\n    from {\n      top: -50px;\n    }\n  }\n"])),(function(n){return n.vis?"flex":"none"}));var ze,Ce=function(n){var e=n.vis,t=n.toggleOff,r=n.user,o=n.setBannerSrc,s=function(n){"path"!==n.target.tagName&&(Object(j.a)(n.target.classList).includes("modal-component")||e&&t())};return Object(i.useEffect)((function(){return window.addEventListener("click",s),function(){window.removeEventListener("click",s)}})),Object(v.jsx)(Ne,{vis:e,children:Object(v.jsx)(ke,{toggleOff:t,user:r,setBannerSrc:o})})},Se=f.b.div(ze||(ze=Object(o.a)(['\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: center;\n  min-height: 50vh;\n\n  .pfp {\n    position: relative;\n  }\n\n  .name-wrap {\n    max-width: fit-content;\n    font-size: 18px;\n    margin-top: 22px;\n    margin-bottom: 15px;\n  }\n\n  form {\n    display: flex;\n    flex-flow: column nowrap;\n  }\n\n  input[type="text"] {\n    background: ',";\n    padding: 8px;\n    padding-left: 10px;\n    border-style: none;\n    border-radius: 18px;\n    height: 37px;\n    opacity: 60%;\n    color: ",";\n\n    &:focus {\n      outline: none;\n    }\n  }\n\n  @keyframes comeFromBottom {\n    from {\n      bottom: 0;\n      opacity: 0;\n    }\n  }\n\n  .loader {\n    background: #c0c0c0;\n    height: 100%;\n    width: 100%;\n  }\n\n  .banner {\n    position: absolute;\n    top: 0;\n    max-height: 30vh;\n    height: 100%;\n    width: 100%;\n\n    img {\n      object-fit: cover;\n      height: 100%;\n      width: 100%;\n    }\n\n    &-upload {\n      position: absolute;\n      top: 10px;\n      right: 20px;\n      font-size: 26px;\n      cursor: pointer;\n      text-shadow: 1px 1px 1px #222;\n\n      &:hover,\n      &:active {\n        filter: brightness(1.2);\n      }\n    }\n  }\n\n  .pfp-edit-icon {\n    display: ",";\n    position: absolute;\n    right: 15px;\n    bottom: 10px;\n    border-radius: 50%;\n    background: ",";\n    height: 40px;\n    width: 40px;\n    padding: 6px;\n    border: 1px solid ","33;\n\n    &:hover,\n    &:active {\n      cursor: pointer;\n      filter: brightness(",");\n    }\n  }\n\n  @media (min-width: 1024px) {\n    & {\n      min-height: 65vh;\n    }\n\n    .banner {\n      min-height: 48vh;\n    }\n  }\n"])),(function(n){return n.lm?"#d8d8d8":"#707070"}),(function(n){return n.lm?"#000":"#fff"}),(function(n){return n.sameUser?"flex":"none"}),(function(n){return n.lm?h.white:h.gray}),h.gray,(function(n){return n.lm?1.05:1.2}));var Ue=function(n){var e=n.currentUser,t=n.userId,r=n.pfpSrc,o=n.lightMode,s=n.needsUpdate,a=n.setUpdateStatus,c=n.userName,p=n.friendshipPending,u=n.alreadyFriends,d=n.bannerSrc,x=n.setBannerSrc,b=Object(i.useState)(!1),h=Object(l.a)(b,2),f=h[0],m=h[1],j=Object(i.useState)(!1),w=Object(l.a)(j,2),y=w[0],k=w[1],z=function(){return k(!y)},C=Object(v.jsx)(g.SkeletonTheme,{color:"#dadada",highlightColor:"#e0e0e0",children:Object(v.jsx)(O.a,{height:"37vh"})}),S=Object(v.jsx)("img",{src:"https://frozen-thicket-71687.herokuapp.com/images/"+d,alt:"profile banner"}),U=Object(v.jsx)("div",{className:"banner-upload",onClick:z,children:Object(v.jsx)(Oe.a,{})}),F=null===d||void 0===d;return Object(v.jsxs)(Se,{lm:o,sameUser:e===t,className:"grid-prof-head",children:[Object(v.jsxs)("div",{className:"banner",children:[t===e?U:Object(v.jsx)("div",{}),F?C:S]}),Object(v.jsx)(Ce,{vis:y,toggleOff:z,user:e,setBannerSrc:x}),Object(v.jsxs)("div",{className:"pfp",children:[Object(v.jsx)(N,{size:"250px",src:r,userId:e,lightMode:o,needsUpdate:s,setUpdateStatus:a}),Object(v.jsx)(Oe.a,{className:"pfp-edit-icon",onClick:function(){e===t&&m(!f)}})]}),Object(v.jsx)("div",{className:"name-wrap",children:Object(v.jsx)("h2",{children:c||Object(v.jsx)(O.a,{width:150})})}),u?Object(v.jsx)("div",{}):Object(v.jsx)(le,{receiverId:t,currentUser:e,isPending:p,sameUser:e===t,alreadyFriends:u}),Object(v.jsx)(ge,{vis:f,user:e,toggle:function(){return m(!f)},setUpdateStatus:a,profile:!0})]})};var Fe=function(n){var e=n.toggleImgModal,t=n.focusRef;return Object(v.jsxs)("div",{className:"post-types",children:[Object(v.jsxs)("div",{className:"post-icon",onClick:e,children:[Object(v.jsx)(Y.e,{}),Object(v.jsx)("p",{id:"post-icon-text",children:"Photo"})]}),Object(v.jsxs)("div",{className:"post-icon",onClick:t,children:[Object(v.jsx)(Oe.b,{}),Object(v.jsx)("p",{id:"post-icon-text",children:"Text"})]})]})};var Ie,_e=function(n){var e=n.handleSubmit,t=n.src,r=n.currentUser,o=n.handleInputChange,i=n.text,s=n.postRef;return Object(v.jsxs)("form",{onSubmit:e,className:"txt-form",children:[Object(v.jsxs)("div",{className:"wrap",children:[Object(v.jsx)("div",{className:"pfp",children:Object(v.jsx)(N,{src:t,userId:r,size:"37px"})}),Object(v.jsx)("input",{type:"text",onChange:o,value:i,ref:s}),Object(v.jsx)("div",{className:"placeholder",id:i?"moved":" ",children:"What's on your mind?"})]}),Object(v.jsx)("p",{children:"Press enter to post"})]})},Ee=f.b.div(Ie||(Ie=Object(o.a)(["\n  background: ",";\n  border: 1px solid ",'11;\n  padding: 18px;\n  padding-bottom: 6px;\n  border-radius: 8px;\n  margin: 10px auto;\n  margin-bottom: 20px;\n  position: relative;\n  width: 95%;\n  max-width: 750px;\n  box-shadow: 0 0.1px 0.8px rgba(0, 0, 0, 0.02),\n    0 0.1px 1.9px rgba(0, 0, 0, 0.028), 0 0.3px 3.5px rgba(0, 0, 0, 0.035),\n    0 0.4px 6.3px rgba(0, 0, 0, 0.042), 0 0.8px 11.7px rgba(0, 0, 0, 0.05);\n\n  form {\n    display: flex;\n    flex-flow: column nowrap;\n  }\n\n  .wrap {\n    display: flex;\n  }\n\n  .pfp {\n    margin-right: 10px;\n  }\n\n  input[type="text"] {\n    background: ',";\n    padding-left: 10px;\n    border-style: none;\n    border-radius: 18px;\n    height: 37px;\n    width: 100%;\n    opacity: 60%;\n    font-size: 15px;\n    color: ",";\n\n    &:focus {\n      outline: none;\n    }\n  }\n\n  .txt-form {\n    padding-bottom: 10px;\n    border-bottom: 1px solid gray;\n    border-bottom: 1px solid gray;\n  }\n\n  .placeholder {\n    color: ",'aa;\n    position: absolute;\n    top: 28px;\n    left: 75px;\n    font-size: 15px;\n    transition: top 0.2s ease, left 0.2s ease, font-size 0.2s ease;\n    pointer-events: none;\n  }\n\n  input[type="text"]:focus + div.placeholder {\n    color: ',";\n    font-size: 12px;\n    top: 2px;\n    left: 70px;\n    transition: top 0.2s ease, left 0.2s ease, font-size 0.2s ease;\n  }\n\n  #moved {\n    top: 2px;\n    left: 70px;\n    color: ",";\n    font-size: 12px;\n    transition: top 0.2s ease, left 0.2s ease, font-size 0.2s ease;\n  }\n\n  p {\n    font-size: 12px;\n    padding-top: 3px;\n    padding-left: 57px;\n  }\n\n  .post-types {\n    display: grid;\n    grid-auto-flow: column;\n    margin-top: 7px;\n  }\n\n  .post-icon {\n    display: grid;\n    grid-auto-flow: column;\n    justify-content: center;\n    font-size: 28px;\n    cursor: pointer;\n    padding: 5px 0;\n    border-radius: 8px;\n\n    &:hover,\n    &:active {\n      background: #707070aa;\n    }\n\n    p {\n      padding: 0;\n      padding-left: 5px;\n      width: fit-content;\n      justify-self: start;\n      align-self: center;\n      font-size: 15px;\n      font-weight: bold;\n    }\n  }\n"])),(function(n){var e=n.lm,t=n.g;return e?"#eee":t}),(function(n){var e=n.lm,t=n.g,r=n.w;return e?t:r}),(function(n){return n.lm?"#d8d8d8":"#707070"}),(function(n){return n.lm?"#000":"#fff"}),(function(n){var e=n.lm,t=n.g,r=n.w;return e?t:r}),(function(n){var e=n.lm,t=n.g,r=n.w;return e?t:r}),(function(n){var e=n.lm,t=n.g,r=n.w;return e?t:r})),Le=new F.a;var Me,Pe=function(n){var e=n.colors,t=n.postRef,r=n.currentUser,o=n.lightMode,s=n.setFeed,a=n.homeFeed,c=n.src,p=(n.fromProfile,Object(i.useState)("")),x=Object(l.a)(p,2),b=x[0],h=x[1],f=Object(i.useState)(!1),m=Object(l.a)(f,2),j=m[0],g=m[1],O=e.black,w=e.gray,y=e.white,k=e.red,N=e.yellow,z=Le.get("token"),C=function(){return g(!j)};function S(){return(S=Object(d.a)(u.a.mark((function n(e){var r,o,i,c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),b){n.next=3;break}return n.abrupt("return");case 3:return r={homeFeed:a,text:b},o=JSON.stringify(r),n.next=7,fetch("https://frozen-thicket-71687.herokuapp.com/posts/new",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(z)},body:o});case 7:return i=n.sent,n.next=10,i.json();case 10:c=n.sent,s(c),h(""),t.current.blur();case 14:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(Ee,{r:k,y:N,b:O,g:w,w:y,lm:o,textIsEmpty:""===b,className:"grid-status-form",children:[Object(v.jsx)(_e,{handleSubmit:function(n){return S.apply(this,arguments)},src:c,currentUser:r,handleInputChange:function(n){h(n.target.value)},text:b,postRef:t}),Object(v.jsx)(Fe,{toggleImgModal:C,focusRef:function(){return t.current.focus()}}),Object(v.jsx)(ge,{toggle:C,user:r,vis:j,setFeed:s,postInput:!0})]})})},Re=f.b.div(Me||(Me=Object(o.a)(["\n  background: ",";\n  border-radius: 8px;\n  border: 1px solid\n    ","22;\n  height: 100%;\n  width: 160px;\n  box-shadow: 0 2.6px 1.3px rgba(0, 0, 0, 0.07),\n    0 3.7px 4.3px rgba(0, 0, 0, 0.036), 0 4px 15px rgba(0, 0, 0, 0.027);\n\n  & .link {\n    text-decoration: none;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  & .link:hover,\n  & .link:active {\n    text-decoration: underline;\n  }\n\n  .frame {\n    width: 100%;\n    max-height: 200px;\n\n    img {\n      height: 150px;\n      width: 100%;\n      object-fit: cover;\n      border-top-left-radius: 8px;\n      border-top-right-radius: 8px;\n    }\n  }\n\n  .detail {\n    height: 45px;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: start;\n  }\n\n  h3 {\n    font-size: 1em;\n    margin-top: 8px;\n  }\n\n  @media (min-width: 1024px) {\n    & {\n      width: auto;\n    }\n  }\n"])),(function(n){return n.lightMode?h.white:h.gray}),(function(n){return n.lightMode?h.gray:h.white}));var Te,Ae=function(n){var e=n.friend,t=n.lightMode,r="https://frozen-thicket-71687.herokuapp.com/images/"+e.profilePhotoSrc;return Object(v.jsx)(Re,{lightMode:t,children:Object(v.jsxs)(x.b,{to:"/user/".concat(e._id),className:"link",children:[Object(v.jsx)("div",{className:"frame",children:Object(v.jsx)("img",{src:r,alt:"friend"})}),Object(v.jsx)("div",{className:"detail",children:Object(v.jsx)("h3",{children:e.firstName+" "+e.lastName})})]})})},Ve=f.b.ul(Te||(Te=Object(o.a)(["\n  list-style: none;\n  display: grid;\n  grid-auto-flow: column;\n  grid-template-rows: 30px 30px 30px repeat(auto-fit, 1fr);\n  justify-content: start;\n  gap: 8px;\n  width: 95%;\n  max-width: 750px;\n  overflow-x: scroll;\n  scrollbar-width: none;\n  background: ",";\n  border: 1px solid ","11;\n  padding: 18px;\n  padding-top: 45px;\n  padding-bottom: 8px;\n  border-radius: 8px;\n  margin: 10px auto;\n  margin-bottom: 20px;\n  position: relative;\n  box-shadow: 0 0.1px 0.8px rgba(0, 0, 0, 0.02),\n    0 0.1px 1.9px rgba(0, 0, 0, 0.028), 0 0.3px 3.5px rgba(0, 0, 0, 0.035),\n    0 0.4px 6.3px rgba(0, 0, 0, 0.042), 0 0.8px 11.7px rgba(0, 0, 0, 0.05);\n\n  &:hover,\n  &:active {\n    scrollbar-width: auto;\n  }\n\n  @media (min-width: 840px) {\n    &:hover,\n    &:active {\n      margin-bottom: -5px;\n    }\n  }\n\n  .count {\n    position: absolute;\n    top: 12px;\n    left: 18px;\n  }\n\n  @media (min-width: 1024px) {\n    & {\n      align-content: start;\n      grid-auto-flow: row;\n      height: min-content;\n      max-height: 100vh;\n      max-width: 300px;\n      overflow-x: hidden;\n      overflow-y: scroll;\n\n      &:hover,\n      &:active {\n        padding-right: 3px;\n      }\n    }\n  }\n"])),(function(n){return n.lm?"#eee":h.gray}),(function(n){return n.lm?h.gray:h.white}));var Be=function(n){var e=n.friends,t=n.lightMode,r=e.map((function(n){return Object(v.jsx)("li",{children:Object(v.jsx)(Ae,{friend:n,lightMode:t})},n._id)}));return Object(v.jsxs)(Ve,{lm:t,className:"grid-friend-list",children:[Object(v.jsxs)("h4",{className:"count",children:["Friends ( ",e.length," )"]}),0===e.length?Object(v.jsx)("div",{}):r]})};var De,qe=function(n){var e=n.colors,t=n.lightMode,r=n.user,o=n.currentUser,s=n.pfp,a=n.postRef,c=Object(b.f)(),p=r||c.params.userId,x=Object(i.useState)(null),h=Object(l.a)(x,2),f=h[0],m=h[1],j=Object(i.useState)([]),g=Object(l.a)(j,2),O=g[0],w=g[1],y=Object(i.useState)(null),k=Object(l.a)(y,2),N=k[0],z=k[1],C=Object(i.useState)(!1),S=Object(l.a)(C,2),U=S[0],F=S[1],I=Object(i.useState)(null),_=Object(l.a)(I,2),E=_[0],L=_[1],M=Object(i.useState)([]),P=Object(l.a)(M,2),R=P[0],T=P[1],A=Object(i.useState)(null),V=Object(l.a)(A,2),B=V[0],D=V[1],q=Object(i.useState)(null),J=Object(l.a)(q,2),W=J[0],H=J[1];return Object(i.useEffect)((function(){!function(){var n=Object(d.a)(u.a.mark((function n(){var e,t;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://frozen-thicket-71687.herokuapp.com/users/".concat(p));case 2:return e=n.sent,n.next=5,e.json();case 5:t=n.sent,z(t.pendingFriends.includes(o)),m(t.firstName+" "+t.lastName),L(t.profilePhotoSrc),H(t.bannerSrc),T(t.friends),D(t.friends.map((function(n){return n._id})).includes(o));case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()}),[p,o]),Object(i.useEffect)((function(){!function(){var n=Object(d.a)(u.a.mark((function n(){var e,t;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://frozen-thicket-71687.herokuapp.com/posts/byuser/".concat(p));case 2:return e=n.sent,n.next=5,e.json();case 5:t=n.sent,w(t);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()}),[p]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Ue,{currentUser:o,userId:p,pfpSrc:E,lightMode:t,needsUpdate:U,setUpdateStatus:F,userName:f,friendshipPending:N,alreadyFriends:B,bannerSrc:W,setBannerSrc:H}),Object(v.jsx)(Be,{friends:R,lightMode:t}),o===p?Object(v.jsx)(Pe,{colors:e,currentUser:o,lightMode:t,setFeed:w,src:s,postRef:a}):Object(v.jsx)("div",{}),Object(v.jsx)(ae,{user:p,posts:O,setPosts:w,src:E,currentUser:o,pfp:s})]})},Je=f.b.div(De||(De=Object(o.a)(["\n  display: flex;\n  width: 350px;\n  padding: 15px;\n  border-radius: 8px;\n\n  .user-data {\n    display: flex;\n    flex-direction: column;\n    margin-left: 20px;\n\n    & > * {\n      margin: 3px 0;\n    }\n\n    h3 {\n      font-size: 16px;\n    }\n\n    a {\n      text-decoration: none;\n\n      &:hover {\n        text-decoration: underline;\n      }\n    }\n\n    button {\n      background: ",";\n      width: 100px;\n      font-weight: bold;\n      font-size: 14px;\n\n      &:first-child {\n        margin-right: 5px;\n      }\n\n      &:hover {\n        opacity: 90%;\n      }\n    }\n\n    .req-btns button {\n      cursor: pointer;\n    }\n\n    .mutual-count {\n      font-size: 14px;\n    }\n\n    .spacer {\n      height: 16px;\n    }\n\n    #add-btn button {\n      width: 205px;\n      height: 32px;\n\n      &.pending {\n        cursor: auto;\n      }\n    }\n\n    #not-responded:not(.req-btns button:hover) {\n      opacity: 100%;\n    }\n\n    #responded {\n      opacity: 50%;\n      cursor: auto;\n\n      &:hover {\n        color: white;\n      }\n    }\n  }\n"])),h.blue);var We=function(n){var e,t=n.user,r=n.amtCommon,o=n.currentUser,s=n.requested,a=Object(i.useState)(!1),c=Object(l.a)(a,2),p=c[0],b=c[1],h=Object(i.useState)("not-responded"),f=Object(l.a)(h,2),m=f[0],j=f[1],g="".concat(t.firstName," ").concat(t.lastName);function w(){return y.apply(this,arguments)}function y(){return(y=Object(d.a)(u.a.mark((function n(){var e,r,i;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t._id,r=o,i=JSON.stringify({senderId:e,accepterId:r}),n.next=5,fetch("https://frozen-thicket-71687.herokuapp.com/friends/accept",{method:"post",headers:{"Content-Type":"application/json"},body:i});case 5:j("responded"),b(!0);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function k(){return z.apply(this,arguments)}function z(){return(z=Object(d.a)(u.a.mark((function n(){var e,r,i;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t._id,r=o,i=JSON.stringify({senderId:e,denierId:r}),n.next=5,fetch("https://frozen-thicket-71687.herokuapp.com/friends/deny",{method:"post",headers:{"Content-Type":"application/json"},body:i});case 5:j("responded"),b(!0);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(v.jsxs)(Je,{id:"prof-card",children:[Object(v.jsx)("div",{className:"pfp",children:Object(v.jsx)(x.b,{to:"/users/".concat(t._id),children:Object(v.jsx)(N,{src:t.profilePhotoSrc,userId:t._id,size:"70px"})})}),Object(v.jsxs)("div",{className:"user-data",children:[Object(v.jsx)(x.b,{to:"/user/".concat(t._id),children:Object(v.jsx)("h3",{children:g})||Object(v.jsx)(O.a,{})}),r?(e=r,Object(v.jsx)("p",{className:"mutual-count",children:"".concat(e," mutual friend").concat(e>1?"s":"")})):Object(v.jsx)("div",{className:"spacer"}),s?Object(v.jsxs)("div",{className:"req-btns",children:[Object(v.jsx)("button",{id:m,onClick:w,disabled:p,children:"Confirm"}),Object(v.jsx)("button",{id:m,onClick:k,disabled:p,children:"Deny"})]}):Object(v.jsx)("div",{id:"add-btn",children:Object(v.jsx)(le,{receiverId:t._id,currentUser:o})})]})]})};var He=function(n){var e=n.currentUser,t=n.reqs,r=n.userData,o=n.getMutualCount;return Object(v.jsx)(v.Fragment,{children:t&&t.map((function(n){return Object(v.jsx)("li",{children:Object(v.jsx)(We,{user:n,amtCommon:o(r,n),currentUser:e,requested:!0})},n._id)}))})};var Ze,Ke=function(n){var e=n.currentUser,t=n.users,r=n.userData,o=n.getMutualCount;return Object(v.jsx)(v.Fragment,{children:t&&t.map((function(n){return Object(v.jsx)("li",{children:Object(v.jsx)(We,{user:n,amtCommon:o(r,n),currentUser:e})},n._id)}))})},Ye=f.b.ul(Ze||(Ze=Object(o.a)(["\n  margin-top: 10px;\n  margin-bottom: 80px;\n  display: grid;\n  justify-items: center;\n  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\n  gap: 4px;\n\n  li {\n    list-style: none;\n    width: fit-content;\n    height: fit-content;\n  }\n"])));var $e=function(n){var e=n.currentUser,t=Object(i.useState)(null),r=Object(l.a)(t,2),o=r[0],s=r[1],a=Object(i.useState)(null),c=Object(l.a)(a,2),p=c[0],x=c[1],b=Object(i.useState)(null),h=Object(l.a)(b,2),f=h[0],m=h[1];Object(i.useEffect)((function(){!function(){var n=Object(d.a)(u.a.mark((function n(){var t,r,o,i,a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="https://frozen-thicket-71687.herokuapp.com",n.next=3,fetch("".concat(t,"/users/").concat(e));case 3:return r=n.sent,n.next=6,fetch("".concat(t,"/users/find-users/").concat(e));case 6:return o=n.sent,n.next=9,fetch("".concat(t,"/friends/pending/").concat(e));case 9:i=n.sent,a=[r.json(),o.json(),i.json()],Promise.all(a).then((function(n){var e=Object(l.a)(n,3),t=e[0],r=e[1],o=e[2];m(t),s(r),x(o)}));case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()}),[e]);var j=function(n,e){return n.friends.filter((function(n){return e.friends.includes(n._id)})).length};return Object(v.jsxs)(Ye,{children:[Object(v.jsx)(He,{currentUser:e,reqs:p,userData:f,getMutualCount:j}),Object(v.jsx)(Ke,{currentUser:e,users:o,userData:f,getMutualCount:j})]})};var Ge=function(n){var e=n.currentUser,t=n.lightMode,r=n.postRef,o=n.pfp,s=Object(i.useState)(null),a=Object(l.a)(s,2),c=a[0],p=a[1],x=Object(i.useState)(null),b=Object(l.a)(x,2),f=b[0],m=b[1];return Object(i.useEffect)((function(){!function(){var n=Object(d.a)(u.a.mark((function n(){var t,r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://frozen-thicket-71687.herokuapp.com/posts/feed/".concat(e));case 2:return t=n.sent,n.next=5,t.json();case 5:r=n.sent,p(r);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()}),[e]),Object(i.useEffect)((function(){!function(){var n=Object(d.a)(u.a.mark((function n(){var t,r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://frozen-thicket-71687.herokuapp.com/users/".concat(e));case 2:return t=n.sent,n.next=5,t.json();case 5:r=n.sent,m(r.profilePhotoSrc);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()}),[e]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Pe,{colors:h,postRef:r,lightMode:t,currentUser:e,setFeed:p,src:f,homeFeed:!0}),Object(v.jsx)(ae,{currentUser:e,src:f,pfp:o,posts:c,setPosts:p,homeFeed:!0})]})};var Qe,Xe=function(n){var e=n.user,t=n.lightMode,r=n.colors,o=n.pfp,i=n.postRef;return Object(v.jsx)(qe,{currentUser:e,user:e,colors:r,lightMode:t,pfp:o,postRef:i})},nt=/^[a-zA-Z0-9]+@[a-zA-Z0-9]+\.[A-Za-z]+$/,et=h.gray,tt=h.lightBlue,rt=h.lightBlueHover,ot=h.white,it=h.red,st=f.b.form(Qe||(Qe=Object(o.a)(["\n  position: absolute;\n  top: 0px;\n  display: ",";\n  gap: 18px;\n  width: 300px;\n  padding: 18px;\n  padding-bottom: ",';\n  margin: 0 auto;\n  background: #fff;\n  border-radius: 8px;\n  position: relative;\n  box-shadow: 0 0px 1.1px rgba(0, 0, 0, 0.019),\n    0 0.2px 3.5px rgba(0, 0, 0, 0.027), 0 1px 7.5px rgba(0, 0, 0, 0.033),\n    0 3px 13.5px rgba(0, 0, 0, 0.041), 0 5px 20px rgba(0, 0, 0, 0.06);\n\n  input {\n    height: 50px;\n    font-size: 16px;\n    border-radius: 8px;\n\n    &[type="email"],\n    &[type="password"],\n    &[type="text"] {\n      padding-left: 15px;\n      padding-right: 7px;\n      border: 1px solid ',"33;\n      outline: none;\n\n      &:focus,\n      &:active {\n        border: 2px solid ",';\n        box-shadow: 0 0 0 2px #e7f3ff;\n      }\n    }\n  }\n\n  input:valid:not(input[type="submit"]) {\n    border: 1px solid #43df36;\n    box-shadow: 0 0 2px #43df36;\n  }\n\n  .btns {\n    width: 100%;\n\n    & > * {\n      width: 100%;\n      flex: 1;\n      padding: 12px;\n      border-style: none;\n      border-radius: 8px;\n      font-size: 18px;\n      font-weight: bold;\n      background: ',";\n      color: ",";\n\n      &:hover:not(.spacer),\n      &:active:not(.spacer) {\n        background: ",";\n        cursor: pointer;\n      }\n    }\n\n    button {\n      height: 50px;\n    }\n  }\n\n  .spacer {\n    border-top: 1px solid ","33;\n    border-radius: 0;\n    margin-top: 24px;\n    width: 100%;\n    background: none;\n  }\n\n  .err-empty {\n    display: none;\n  }\n  .err-text {\n    position: absolute;\n    bottom: 238px;\n    left: 27px;\n    text-align: start;\n    color: ",";\n    font-size: 12px;\n    animation: appear 0.3s ease;\n  }\n\n  .spinner {\n    position: absolute;\n    bottom: 132px;\n    left: 30px;\n    color: ",";\n  }\n\n  @keyframes appear {\n    from {\n      opacity: 0;\n      left: 0;\n    }\n  }\n\n  @media (min-width: 540px) {\n    & {\n      width: 400px;\n    }\n    .spinner {\n      left: 77px;\n    }\n  }\n"])),(function(n){return n.vis?"grid":"none"}),(function(n){return n.spinnerVis?"0px":"18px"}),et,tt,tt,ot,rt,et,it,ot),at=new F.a;var ct,pt=function(n){var e=n.vis,t=n.toggle,r=n.setActiveUser,o=Object(i.useState)(""),s=Object(l.a)(o,2),a=s[0],c=s[1],p=Object(i.useState)(""),x=Object(l.a)(p,2),b=x[0],h=x[1],f=Object(i.useState)(""),m=Object(l.a)(f,2),j=m[0],g=m[1],O=Object(i.useState)(""),w=Object(l.a)(O,2),y=w[0],k=w[1],N=Object(i.useState)(""),z=Object(l.a)(N,2),C=z[0],S=z[1],U=Object(i.useState)(!1),F=Object(l.a)(U,2),I=F[0],_=F[1],E=""===a||""===b||""===j||""===y,L=function(){var n=Object(d.a)(u.a.mark((function n(e){var t;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),!E){n.next=3;break}return n.abrupt("return");case 3:if(nt.test(a)){n.next=5;break}return n.abrupt("return");case 5:return _(!0),t={firstName:j,lastName:y,email:a,password:b},n.next=9,fetch("https://frozen-thicket-71687.herokuapp.com/users/new",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(){var n=Object(d.a)(u.a.mark((function n(e){var t,o,i;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.json();case 2:t=n.sent,o=t.token,i=t.user,t.error?(S(t.message),_(!1)):(r(i),at.set("token",o),at.set("currentUser",i));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(n){return console.error(n)}));case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(v.jsxs)(st,{vis:e,onSubmit:L,spinnerVis:I,children:[Object(v.jsx)("input",{type:"text",placeholder:"First Name",onChange:function(n){return g(n.target.value)},value:j,maxLength:"50",required:!0}),Object(v.jsx)("input",{type:"text",placeholder:"Last Name",onChange:function(n){return k(n.target.value)},value:y,maxLength:"50",required:!0}),Object(v.jsx)("input",{type:"email",placeholder:"Email",onChange:function(n){return c(n.target.value)},value:a,maxLength:"100",required:!0}),Object(v.jsx)("input",{type:"password",onChange:function(n){return h(n.target.value)},placeholder:"Password",minLength:"8",maxLength:"50",value:b,required:!0}),C?Object(v.jsx)("p",{className:"err-text",children:C}):Object(v.jsx)("div",{className:"err-empty"}),Object(v.jsxs)("div",{className:"btns",children:[Object(v.jsx)("input",{type:"submit",value:"Create Your Account!"}),Object(v.jsx)("div",{className:"spacer"}),Object(v.jsx)("button",{onClick:function(){c(""),h(""),g(""),k(""),S(""),t()},children:"Cancel"})]}),Object(v.jsx)(ln,{vis:I,className:"spinner"})]})},ut=h.white,dt=h.gray,lt=h.lightBlue,xt=h.lightBlueHover,bt=h.red,ht=f.b.form(ct||(ct=Object(o.a)(["\n  display: ",";\n  gap: 18px;\n  width: 300px;\n  padding: 18px;\n  padding-bottom: ",';\n  margin: 0 auto;\n  background: #fff;\n  border-radius: 8px;\n  position: relative;\n  box-shadow: 0 0px 1.1px rgba(0, 0, 0, 0.019),\n    0 0.2px 3.5px rgba(0, 0, 0, 0.027), 0 1px 7.5px rgba(0, 0, 0, 0.033),\n    0 3px 13.5px rgba(0, 0, 0, 0.041), 0 5px 20px rgba(0, 0, 0, 0.06);\n\n  input {\n    height: 50px;\n    font-size: 16px;\n    border-radius: 8px;\n\n    &[type="email"],\n    &[type="password"] {\n      padding-left: 15px;\n      padding-right: 7px;\n      border: 1px solid ',"33;\n      outline: none;\n\n      &:focus,\n      &:active {\n        border: 2px solid ",';\n        box-shadow: 0 0 0 2px #e7f3ff;\n      }\n    }\n  }\n\n  input:valid:not(input[type="submit"]) {\n    border: 1px solid #43df36;\n    box-shadow: 0 0 2px #43df36;\n  }\n\n  .btns {\n    width: 100%;\n\n    & > * {\n      width: 100%;\n      flex: 1;\n      padding: 12px;\n      border-style: none;\n      border-radius: 8px;\n      font-size: 18px;\n      font-weight: bold;\n      background: ',";\n      color: ",";\n\n      &:hover:not(.spacer),\n      &:active:not(.spacer) {\n        background: ",";\n        cursor: pointer;\n      }\n    }\n\n    button {\n      height: 50px;\n    }\n  }\n\n  .spacer {\n    border-top: 1px solid ","33;\n    border-radius: 0;\n    margin-top: 24px;\n    width: 100%;\n    background: none;\n  }\n\n  .error {\n    display: ",";\n    font-size: 14px;\n    color: ",";\n  }\n\n  .spinner {\n    position: absolute;\n    bottom: 132px;\n    left: 90px;\n    color: ",";\n  }\n\n  @media (min-width: 540px) {\n    & {\n      width: 400px;\n    }\n    .spinner {\n      left: 140px;\n    }\n  }\n"])),(function(n){return n.createVis?"none":"grid"}),(function(n){return n.spinnerVis?"0px":"18px"}),dt,lt,lt,ut,xt,dt,(function(n){return n.errVis?"flex":"none"}),bt,ut),ft=new F.a;var mt,jt,gt=function(n){var e=n.setActiveUser,t=Object(i.useState)(""),r=Object(l.a)(t,2),o=r[0],s=r[1],a=Object(i.useState)(""),c=Object(l.a)(a,2),p=c[0],x=c[1],b=Object(i.useState)(!1),h=Object(l.a)(b,2),f=h[0],m=h[1],j=Object(i.useState)(""),g=Object(l.a)(j,2),O=g[0],w=g[1],y=Object(i.useState)(!1),k=Object(l.a)(y,2),N=k[0],z=k[1],C=Object(i.useState)(!1),S=Object(l.a)(C,2),U=S[0],F=S[1],I=function(){return z(!N)},_=function(){var n=Object(d.a)(u.a.mark((function n(t){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),""!==o&&""!==p){n.next=3;break}return n.abrupt("return");case 3:return F(!0),n.next=6,fetch("https://frozen-thicket-71687.herokuapp.com/login",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,pass:p})}).then(function(){var n=Object(d.a)(u.a.mark((function n(t){var r,o,i,s,a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(401!==t.status){n.next=10;break}return n.next=3,t.json();case 3:r=n.sent,o=r.error,w(o),m(!0),F(!1),n.next=19;break;case 10:return n.next=12,t.json();case 12:i=n.sent,s=i.token,a=i.user,m(!1),e(a),ft.set("token",s),ft.set("currentUser",a);case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(n){return console.error(n)}));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(ht,{onSubmit:_,errVis:f,createVis:N,spinnerVis:U,children:[Object(v.jsx)("input",{type:"email",value:o,placeholder:"Email",onChange:function(n){return s(n.target.value)},required:!0}),Object(v.jsx)("input",{type:"password",value:p,onChange:function(n){return x(n.target.value)},placeholder:"Password",minLength:"8",maxLength:"50",required:!0}),Object(v.jsx)("p",{className:"error",children:O}),Object(v.jsxs)("div",{className:"btns",children:[Object(v.jsx)("input",{type:"submit",value:"Log In"}),Object(v.jsx)("div",{className:"spacer"}),Object(v.jsx)("button",{onClick:I,children:"Create New Account"})]}),Object(v.jsx)(ln,{vis:U,className:"spinner"})]}),Object(v.jsx)(pt,{vis:N,toggle:I,setActiveUser:e})]})},Ot=h.white,vt=h.black,wt=h.lightBlue,yt=Object(f.a)(mt||(mt=Object(o.a)(["\n  body {\n    background: ",";\n  }\n"])),Ot),kt=f.b.div(jt||(jt=Object(o.a)(["\n  display: flex;\n  flex-flow: row wrap;\n  align-content: flex-start;\n  align-items: start;\n  justify-content: center;\n  height: 100%;\n  background: ",';\n  text-align: center;\n  padding-top: 30px;\n  position: relative;\n\n  span {\n    flex: 1;\n    flex-basis: 768px;\n    height: 200px;\n    margin-top: 0;\n  }\n\n  .form {\n    flex: 2;\n    flex-basis: 400px;\n  }\n\n  h1 {\n    font-family: "Ubuntu", sans-serif;\n    color: ',';\n    font-size: 3em;\n    padding-top: 30px;\n  }\n\n  h3 {\n    font-family: "Ubuntu", sans-serif;\n    font-weight: 400;\n    color: ',";\n    font-size: 1.4em;\n    line-height: 34px;\n    padding-left: 40px;\n    padding-right: 40px;\n    margin-top: 20px;\n  }\n\n  .links {\n    position: fixed;\n    bottom: 4px;\n    left: 12px;\n    font-size: 32px;\n\n    a {\n      color: ",";\n    }\n  }\n\n  @media (min-width: 1167px) {\n    & {\n      padding-top: 150px;\n    }\n\n    span {\n      margin-top: 40px;\n    }\n  }\n"])),Ot,wt,vt,vt);var Nt,zt=function(n){var e=n.setCurrentUser;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(yt,{}),Object(v.jsxs)(kt,{children:[Object(v.jsxs)("span",{children:[Object(v.jsx)("h1",{children:"facespace"}),Object(v.jsx)("h3",{children:"personalize your space and connect with others"})]}),Object(v.jsx)("div",{className:"form",children:Object(v.jsx)(gt,{setActiveUser:e})}),Object(v.jsx)("div",{className:"links",children:Object(v.jsx)("a",{href:"https://github.com/nsars19/facebookish",target:"_blank",rel:"noreferrer",children:Object(v.jsx)(Y.b,{})})})]})]})},Ct=h.black,St=h.gray,Ut=h.white,Ft=h.yellow,It=h.blue,_t=h.red,Et=Object(f.a)(Nt||(Nt=Object(o.a)(["\n  body {\n    margin-bottom: 50px;\n    background: ",";\n    color: ",";\n\n    a,\n    a:visited {\n      color: ",";\n    }\n    div.postItem {\n      background: ",";\n    }\n    div.comment-body,\n    div.sub-comment-body {\n      background: ","\n    }\n    ul.menu {\n      background: ",";\n      color: ",";\n      border: 1px solid ",";\n\n      li .content:hover,\n      li .content:active {\n        background: ","33;\n      }\n\n      li .content.del:hover,\n      li .content.del:active {\n        background: ","",";\n      }\n    }\n    #comment-input {\n      background: ",";\n      color: ",";\n    }\n    #comment-submit {\n      color: ",";\n      &:hover {\n        background: ","\n      }\n    }\n    button.util {\n      color: ","aa;\n    }\n    #comment-util button{\n      color: ",";\n    }\n    #comment-likes {\n      color: ",";\n      background: ","\n    }\n    #edit-form {\n      background: ",";\n      color: ",";\n    }\n    #pending:hover,\n    #pending:active {\n      color: ",";\n      background: ",";\n      cursor: auto;\n    }\n    #prof-card {\n      background: ",";\n      border: 1px solid ",'33;\n    }\n\n    input[type="text"]:hover {\n      opacity: 70%;\n    }\n\n    #esc {\n      background: ',";\n    }\n    #img-form {\n      background: ",";\n      border: 1px solid ",';\n      \n      input:not(input[type="text"]) {\n        background: ',";\n\n        &:hover,\n        &:active {\n          background: ","",";\n          color: #eee;\n        }\n      }\n    }\n\n    #post-icon-text {\n      color: ","aa;\n    }\n\n    input#img-text-input {\n      background: ",";\n    }\n\n    #notif-modal {\n      background: ",";\n      color: ",";\n      border: 1px solid ",";\n    }\n    #notif-item:hover,\n    #notif-item:active {\n      background: ",";\n    }\n\n    div.post-comments {\n      color: ","cc;\n    }\n\n    #post-loader {\n      background: ",";\n    }\n\n    #spinner {\n      color: ",';\n    }\n  }\n\n  button,\n  input[type="submit"] {\n    padding: 8px;\n    border-style: none;\n    border-radius: 5px;\n    background: ',";\n    color: ",";\n\n    &:hover,\n    &:active {\n      background: ","cc;\n      color: ",';\n    }\n  }\n\n  @media (min-width: 1024px) {\n    .grid-wrap {\n      display: grid;\n      grid-template-areas:\n        "head head head head head head head head"\n        "list form form form .... .... .... ...."\n        "list feed feed feed .... .... .... ...."\n        ".... feed feed feed .... .... .... ....";\n    }\n\n    .grid-prof-head {\n      grid-area: head;\n    }\n    .grid-friend-list {\n      grid-area: list;\n      grid-auto-flow: row;\n    }\n    .grid-feed {\n      grid-area: feed;\n    }\n    .grid-status-form {\n      grid-area: form;\n    }\n  }\n'])),(function(n){return n.light?Ut:Ct}),(function(n){return n.light?Ct:Ut}),(function(n){return n.light?Ct:Ut}),(function(n){return n.light?Ut:St}),(function(n){return n.light?"#d8d8d8":"#707070"}),(function(n){return n.light?Ut:St}),(function(n){return n.light?Ct:Ut}),(function(n){return n.light?"#aaa":"#444"}),(function(n){return n.light?St:Ut}),_t,(function(n){return n.light?"cc":"aa"}),(function(n){return n.light?"#d8d8d8":"#707070"}),(function(n){return n.light?Ct:Ut}),(function(n){return n.light?St:Ut}),(function(n){return n.light?"#d8d8d8":"#707070"}),(function(n){return n.light?Ct:Ut}),(function(n){return n.light?"#777":"#aaa"}),(function(n){return n.light?St:Ut}),(function(n){return n.light?"#cacaca":"#707070"}),(function(n){return n.light?"#d8d8d8":"#707070"}),(function(n){return n.light?Ct:Ut}),Ut,(function(n){return n.light?It:St}),(function(n){return n.light?"#d8d8d8":St}),(function(n){return n.light?St:Ut}),(function(n){return n.light?"#d8d8d8":"#707070"}),(function(n){return n.light?Ut:St}),(function(n){return n.light?St+"33":Ut+"22"}),It,It,(function(n){return n.light?"cc":"88"}),(function(n){return n.light?Ct:Ut}),(function(n){return n.light?"#d8d8d8":"#707070"}),(function(n){return n.light?Ut:St}),(function(n){return n.light?Ct:Ut}),(function(n){return n.light?St+"55":Ut+"55"}),(function(n){return n.light?"#d8d8d8":"#707070"}),(function(n){return n.light?Ct:Ut}),(function(n){return n.light?Ut:St}),Ut,(function(n){return n.light?It:St}),Ut,(function(n){return n.light?It:Ft}),(function(n){return n.light?Ut:Ct})),Lt=new F.a;var Mt,Pt=function(){Lt.set("light",Lt.get("light")||!0);var n=Lt.get("currentUser"),e="true"===Lt.get("light"),t=Object(i.useState)(e),r=Object(l.a)(t,2),o=r[0],s=r[1],a=Object(i.useState)("null"===n?null:n),c=Object(l.a)(a,2),p=c[0],f=c[1],m=Object(i.useState)(null),j=Object(l.a)(m,2),g=j[0],O=j[1],w=Object(i.useRef)(null);return Object(i.useEffect)((function(){Lt.set("light",o)}),[o]),Object(i.useEffect)((function(){function n(){return(n=Object(d.a)(u.a.mark((function n(){var e,t;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://frozen-thicket-71687.herokuapp.com/users/".concat(p));case 2:return e=n.sent,n.next=5,e.json();case 5:t=n.sent,O(t.profilePhotoSrc);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}p&&function(){n.apply(this,arguments)}()}),[p]),p?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Et,{light:o,user:p}),Object(v.jsxs)(x.a,{children:[Object(v.jsx)(on,{setLightMode:s,lightMode:o,currentUser:p,focusRef:function(){w.current&&w.current.focus()}}),Object(v.jsxs)(b.c,{children:[Object(v.jsx)(b.a,{path:"/users",children:Object(v.jsx)($e,{currentUser:p})}),Object(v.jsx)(b.a,{path:"/user/:userId",children:Object(v.jsx)("div",{className:"grid-wrap",children:Object(v.jsx)(qe,{colors:h,lightMode:o,currentUser:p,pfp:g,postRef:w})})}),Object(v.jsx)(b.a,{path:"/profile",children:Object(v.jsx)("div",{className:"grid-wrap",children:Object(v.jsx)(Xe,{user:p,colors:h,lightMode:o,pfp:g,postRef:w})})}),Object(v.jsx)(b.a,{path:"/",children:Object(v.jsx)(Ge,{currentUser:p,lightMode:o,postRef:w,pfp:g})})]})]})]}):Object(v.jsx)(zt,{setCurrentUser:f})},Rt=Object(f.a)(Mt||(Mt=Object(o.a)(["\n  *,\n  *::before,\n  *::after {       \n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n    font-family: Arial, sans-serif;\n  }\n    \n  a.user {\n    text-decoration: none;\n    font-weight: 600;\n  }\n"])));c.a.render(Object(v.jsxs)(s.a.StrictMode,{children:[Object(v.jsx)(Rt,{}),Object(v.jsx)(Pt,{})]}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.a494f9bd.chunk.js.map