(this["webpackJsonpreact-front"]=this["webpackJsonpreact-front"]||[]).push([[6],{71:function(n,e,t){"use strict";var r,i=t(7),a=t.n(i),o=t(11),c=t(4),s=t(5),u=t(6),d=t(72),l=t(73),p=t(2),f=t(1),h=u.b.button(r||(r=Object(s.a)(["\n  display: ",";\n  align-items: center;\n  justify-content: center;\n  width: 180px;\n  height: 40px;\n  cursor: pointer;\n\n  .icon {\n    font-size: 18px;\n    margin-right: 6px;\n  }\n  .txt {\n    font-size: 15px;\n    font-weight: bold;\n  }\n\n  &.pending:hover p,\n  &.pending path {\n    color: #eee;\n    cursor: auto;\n  }\n"])),(function(n){return n.sameUser?"none":"flex"}));e.a=function(n){var e=n.receiverId,t=n.currentUser,r=n.isPending,i=n.sameUser,s=Object(p.useState)(!1),u=Object(c.a)(s,2),b=u[0],x=u[1];function j(){return(j=Object(o.a)(a.a.mark((function n(){var r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=JSON.stringify({receiverId:e,senderId:t}),n.next=3,fetch("https://frozen-thicket-71687.herokuapp.com/friends/add",{method:"post",headers:{"Content-Type":"application/json"},body:r});case 3:x(!0);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(f.jsx)(h,{onClick:function(){return j.apply(this,arguments)},disabled:b,sameUser:i,className:b?"pending":"",id:r?"pending":"",children:b?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(l.a,{className:"icon"}),Object(f.jsx)("p",{className:"txt",children:"Request Pending..."})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(d.a,{className:"icon"}),Object(f.jsx)("p",{className:"txt",children:"Add Friend"})]})})}},79:function(n,e){n.exports=function(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}},80:function(n,e,t){var r=t(79);n.exports=function(n,e){if(n){if("string"===typeof n)return r(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(n,e):void 0}}},85:function(n,e,t){var r=t(86),i=t(90),a=t(91);function o(){this.root=!0,this.children={}}function c(n,e){if(n.val.length&&e.push.apply(e,r(n.val)),n.isLeaf())return e;for(var t in n.children){c(n.children[t],e)}return e}o.prototype.add=function(n){var e=this;if(n){var t=this;if(Array.isArray(n))n.forEach((function(n){return e.add(n)}));else{var r,o=i(n);try{for(o.s();!(r=o.n()).done;){var c=r.value;if(c=c.toLowerCase(),t.children[c])t=t.children[c];else{var s=t.key?t.key+c:c;t.children[c]=new a(s),t=t.children[c]}}}catch(u){o.e(u)}finally{o.f()}t.val=t.val.concat(n)}}},o.prototype.map=function(n,e){if(e){n=n.toLowerCase();var t,r=this,o=i(n);try{for(o.s();!(t=o.n()).done;){var c=t.value;if(r.children[c])r=r.children[c];else{var s=r.key?r.key+c:c;r.children[c]=new a(s),r=r.children[c]}}}catch(u){o.e(u)}finally{o.f()}r.val=r.val.concat(e)}},o.prototype.delete=function(n){n=n.toLowerCase();var e,t=this,r=i(n);try{for(r.s();!(e=r.n()).done;){var a=e.value;t.children[a]&&(t=t.children[a])}}catch(o){r.e(o)}finally{r.f()}return t.val=[],this.prune(n),[]},o.prototype.deleteNode=function(n){n=n.toLowerCase();var e,t,r,a=this,o=i(n);try{for(o.s();!(r=o.n()).done;){var c=r.value;a.children[c]&&(e=a,t=c,a=a.children[c])}}catch(s){o.e(s)}finally{o.f()}delete e.children[t]},o.prototype.prune=function(n){n=n.toLowerCase();var e,t,r,a=this,o=i(n);try{for(o.s();!(r=o.n()).done;){var c=r.value;a.children[c]&&(e=a,t=c,a=a.children[c])}}catch(s){o.e(s)}finally{o.f()}!a.root&&a.isLeaf()&&(a.val.length>0||(delete e.children[t],this.prune(n)))},o.prototype.search=function(n){var e=n[0],t=[],r=this;if(!r.children[e])return t;var a,o=i(n);try{for(o.s();!(a=o.n()).done;){var s=a.value;r.children[s]&&(r=r.children[s])}}catch(u){o.e(u)}finally{o.f()}return c(r,t)},n.exports=o},86:function(n,e,t){var r=t(87),i=t(88),a=t(80),o=t(89);n.exports=function(n){return r(n)||i(n)||a(n)||o()}},87:function(n,e,t){var r=t(79);n.exports=function(n){if(Array.isArray(n))return r(n)}},88:function(n,e){n.exports=function(n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}},89:function(n,e){n.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},90:function(n,e,t){var r=t(80);n.exports=function(n,e){var t;if("undefined"===typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(t=r(n))||e&&n&&"number"===typeof n.length){t&&(n=t);var i=0,a=function(){};return{s:a,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){t=n[Symbol.iterator]()},n:function(){var n=t.next();return c=n.done,n},e:function(n){s=!0,o=n},f:function(){try{c||null==t.return||t.return()}finally{if(s)throw o}}}}},91:function(n,e){function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.key=n,this.val=e,this.children={}}t.prototype.isLeaf=function(){return 0===Object.keys(this.children).length},n.exports=t},92:function(n,e,t){(function(e){var t="undefined"!==typeof e&&e.pid?e.pid.toString(36):"";function r(){var n=Date.now(),e=r.last||n;return r.last=n>e?n:e+1}n.exports=n.exports.default=function(n,e){return(n||"")+""+t+r().toString(36)+(e||"")},n.exports.process=function(n,e){return(n||"")+t+r().toString(36)+(e||"")},n.exports.time=function(n,e){return(n||"")+r().toString(36)+(e||"")}}).call(this,t(50))},95:function(n,e,t){"use strict";t.r(e);var r,i=t(7),a=t.n(i),o=t(11),c=t(4),s=t(5),u=t(2),d=t(6),l=t(38),p=t.n(l),f=t(24),h=t(3),b=t(71),x=t(15),j=t(1),m=d.b.div(r||(r=Object(s.a)(["\n  display: flex;\n  width: 350px;\n  padding: 15px;\n  border-radius: 8px;\n\n  .user-data {\n    display: flex;\n    flex-direction: column;\n    margin-left: 20px;\n\n    & > * {\n      margin: 3px 0;\n    }\n\n    h3 {\n      font-size: 16px;\n    }\n\n    a {\n      text-decoration: none;\n\n      &:hover {\n        text-decoration: underline;\n      }\n    }\n\n    button {\n      background: ",";\n      width: 100px;\n      font-weight: bold;\n      font-size: 14px;\n\n      &:first-child {\n        margin-right: 5px;\n      }\n\n      &:hover {\n        opacity: 90%;\n      }\n    }\n\n    .req-btns button {\n      cursor: pointer;\n    }\n\n    .mutual-count {\n      font-size: 14px;\n    }\n\n    .spacer {\n      height: 16px;\n    }\n\n    #add-btn button {\n      width: 205px;\n      height: 32px;\n\n      &.pending {\n        cursor: auto;\n      }\n    }\n\n    #not-responded:not(.req-btns button:hover) {\n      opacity: 100%;\n    }\n\n    #responded {\n      opacity: 50%;\n      cursor: auto;\n\n      &:hover {\n        color: white;\n      }\n    }\n  }\n"])),h.a.blue);var v=function(n){var e,t=n.user,r=n.amtCommon,i=n.currentUser,s=n.requested,d=Object(u.useState)(!1),l=Object(c.a)(d,2),h=l[0],v=l[1],y=Object(u.useState)("not-responded"),g=Object(c.a)(y,2),O=g[0],w=g[1],k="".concat(t.firstName," ").concat(t.lastName);function S(){return N.apply(this,arguments)}function N(){return(N=Object(o.a)(a.a.mark((function n(){var e,r,o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t._id,r=i,o=JSON.stringify({senderId:e,accepterId:r}),n.next=5,fetch("https://frozen-thicket-71687.herokuapp.com/friends/accept",{method:"post",headers:{"Content-Type":"application/json"},body:o});case 5:w("responded"),v(!0);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function C(){return I.apply(this,arguments)}function I(){return(I=Object(o.a)(a.a.mark((function n(){var e,r,o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t._id,r=i,o=JSON.stringify({senderId:e,denierId:r}),n.next=5,fetch("https://frozen-thicket-71687.herokuapp.com/friends/deny",{method:"post",headers:{"Content-Type":"application/json"},body:o});case 5:w("responded"),v(!0);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(j.jsxs)(m,{id:"prof-card",children:[Object(j.jsx)("div",{className:"pfp",children:Object(j.jsx)(x.b,{to:"/user/".concat(t._id),children:Object(j.jsx)(f.a,{src:t.profilePhotoSrc,userId:t._id,size:"70px"})})}),Object(j.jsxs)("div",{className:"user-data",children:[Object(j.jsx)(x.b,{to:"/user/".concat(t._id),children:Object(j.jsx)("h3",{children:k})||Object(j.jsx)(p.a,{})}),r?(e=r,Object(j.jsx)("p",{className:"mutual-count",children:"".concat(e," mutual friend").concat(e>1?"s":"")})):Object(j.jsx)("div",{className:"spacer"}),s?Object(j.jsxs)("div",{className:"req-btns",children:[Object(j.jsx)("button",{id:O,onClick:S,disabled:h,children:"Confirm"}),Object(j.jsx)("button",{id:O,onClick:C,disabled:h,children:"Deny"})]}):Object(j.jsx)("div",{id:"add-btn",children:Object(j.jsx)(b.a,{receiverId:t._id,currentUser:i})})]})]})};var y=function(n){var e=n.currentUser,t=n.reqs,r=n.userData,i=n.getMutualCount;return Object(j.jsx)(j.Fragment,{children:t&&t.map((function(n){return Object(j.jsx)("li",{children:Object(j.jsx)(v,{user:n,amtCommon:i(r,n),currentUser:e,requested:!0})},n._id)}))})};var g=function(n){var e=n.currentUser,t=n.users,r=n.userData,i=n.getMutualCount;return Object(j.jsx)(j.Fragment,{children:t&&t.map((function(n){return Object(j.jsx)("li",{children:Object(j.jsx)(v,{user:n,amtCommon:i(r,n),currentUser:e})},n._id)}))})};function O(n,e){if(null==n)return{};var t,r,i=function(n,e){if(null==n)return{};var t,r,i={},a=Object.keys(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||(i[t]=n[t]);return i}(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}var w,k=t(85),S=t.n(k),N=t(92),C=t.n(N),I=d.b.div(w||(w=Object(s.a)(['\n  position: relative;\n  margin: 10px;\n  margin-bottom: 20px;\n\n  input[type="text"] {\n    background: ',";\n    color: ",";\n    padding-left: 10px;\n    border-style: none;\n    border: 1px solid ",";\n    border-style: none;\n    border-radius: 18px;\n    outline: none;\n    width: 100%;\n    max-width: 350px;\n    height: 37px;\n    font-size: 15px;\n  }\n\n  .user-list {\n    background: ",";\n    position: absolute;\n    top: 40px;\n    box-shadow: 0 0 1px\n      ",";\n    border-radius: 8px;\n    width: 100%;\n    max-width: 400px;\n  }\n\n  .user-wrap {\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    padding: 9px;\n    padding-left: 12px;\n    margin: 4px;\n    cursor: pointer;\n    border-radius: 6px;\n    text-decoration: none;\n\n    p {\n      font-size: 18px;\n      margin-left: 10px;\n    }\n\n    &:hover,\n    &:active,\n    &:focus-visible {\n      outline: none;\n      background: ",'33;\n    }\n  }\n\n  @media (max-width: 540px) {\n    & {\n      max-width: 100%;\n    }\n\n    input[type="text"] {\n      max-width: 100%;\n      width: 100%;\n    }\n  }\n'])),(function(n){return n.lightMode?"#d8d8d8":"#707070"}),(function(n){return n.lightMode?"black":"white"}),h.a.gray,(function(n){return n.lightMode?h.a.white:h.a.gray}),(function(n){return n.lightMode?h.a.gray:h.a.white}),(function(n){return n.lightMode?h.a.gray:h.a.white}));function U(n){var e=n.lightMode,t=Object(u.useState)([]),r=Object(c.a)(t,2),i=r[0],s=r[1],d=Object(u.useState)(""),l=Object(c.a)(d,2),p=l[0],h=l[1],b=Object(u.useMemo)((function(){return new S.a}),[]);Object(u.useEffect)((function(){function n(){return(n=Object(o.a)(a.a.mark((function n(){var e;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://frozen-thicket-71687.herokuapp.com/users/");case 2:return e=n.sent,n.next=5,e.json();case 5:n.sent.forEach((function(n){for(var e=n.firstName,t=n.lastName,r=O(n,["firstName","lastName"]),i="".concat(e," ").concat(t),a=0,o=[e,t];a<o.length;a++){var c=o[a];b.map(c,{fullName:i,id:r._id,pfp:r.profilePhotoSrc})}}));case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[b]);var m=function(n){var e=n.target.nodeName,t=n.target.className;"INPUT"!==e&&"user-list"!==t&&s([])};Object(u.useEffect)((function(){return window.addEventListener("click",m),function(){window.removeEventListener("click",m)}}),[]);return Object(j.jsxs)(I,{lightMode:e,resLen:i.length,children:[Object(j.jsx)("input",{type:"text",onChange:function(n){var e=b.search(n.target.value.toLowerCase());s(e),h(n.target.value)},value:p,placeholder:"Search for somebody"}),Object(j.jsx)("div",{className:"user-list",children:i.map((function(n){return Object(j.jsxs)(x.b,{to:"/user/".concat(n.id),className:"user-wrap",children:[Object(j.jsx)(f.a,{size:"30px",src:n.pfp}),Object(j.jsx)("p",{children:n.fullName})]},C()())}))})]})}var z,M=t(16),A=d.b.ul(z||(z=Object(s.a)(["\n  margin-top: 10px;\n  margin-bottom: 80px;\n  display: grid;\n  justify-items: center;\n  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\n  gap: 4px;\n\n  li {\n    list-style: none;\n    width: fit-content;\n    height: fit-content;\n  }\n"])));e.default=function(n){var e=n.currentUser,t=Object(u.useState)(null),r=Object(c.a)(t,2),i=r[0],s=r[1],d=Object(u.useState)(null),l=Object(c.a)(d,2),p=l[0],f=l[1],h=Object(u.useState)(null),b=Object(c.a)(h,2),x=b[0],m=b[1],v=Object(M.b)();Object(u.useEffect)((function(){!function(){var n=Object(o.a)(a.a.mark((function n(){var t,r,i,o,u;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="https://frozen-thicket-71687.herokuapp.com",n.next=3,fetch("".concat(t,"/users/").concat(e));case 3:return r=n.sent,n.next=6,fetch("".concat(t,"/users/find-users/").concat(e));case 6:return i=n.sent,n.next=9,fetch("".concat(t,"/friends/pending/").concat(e));case 9:o=n.sent,u=[r.json(),i.json(),o.json()],Promise.all(u).then((function(n){var e=Object(c.a)(n,3),t=e[0],r=e[1],i=e[2];m(t),s(r),f(i)}));case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()}),[e]);var O=function(n,e){return n.friends.filter((function(n){return e.friends.includes(n._id)})).length};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(U,{lightMode:v}),Object(j.jsxs)(A,{children:[Object(j.jsx)(y,{currentUser:e,reqs:p,userData:x,getMutualCount:O}),Object(j.jsx)(g,{currentUser:e,users:i,userData:x,getMutualCount:O})]})]})}}}]);
//# sourceMappingURL=6.8f72ab84.chunk.js.map