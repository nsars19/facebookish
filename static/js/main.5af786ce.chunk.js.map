{"version":3,"sources":["colors.js","components/userProfile/profilePicture.js","components/nav/components/toggle.js","components/nav/components/accountSettings.js","components/nav/components/mainAccountSettings.js","components/nav/components/createPost.js","components/nav/components/notification.js","components/nav/components/notifications.js","components/nav/components/home.js","components/nav/components/users.js","components/nav/nav.js","utils/getCommentCount.js","components/spinner/spinner.js","components/modals/settingsModal.js","components/post/likeAction.js","components/post/commentUtils.js","components/post/likeDisplay.js","components/post/commentMetrics.js","components/commentForm/subCommentForm.js","components/post/editForm.js","components/post/subComment.js","components/post/comment.js","components/commentForm/commentForm.js","components/post/postUtils.js","components/post/postMetrics.js","components/post/post.js","components/loader/postLoader.js","components/feed/feed.js","components/friendshipButton/friendshipButton.js","components/imageHandler/imageHandler.js","components/imageHandler/imageHandlerModal.js","components/userProfile/banner/uploadHandler.js","components/userProfile/banner/bannerModal.js","components/userProfile/profileHeader.js","components/homepage/statusForm/postIcons.js","components/homepage/statusForm/form.js","components/homepage/statusForm/statusForm.js","components/friends/friendCard.js","components/friends/friendsList.js","components/userProfile/UserProfile.js","components/users/userCard.js","components/users/receivedRequests.js","components/users/unrequestedUsers.js","components/users/Users.js","components/homepage/homepage.js","components/profile/profile.js","utils/emailRegex.js","components/login/createAccount.js","components/login/form.js","components/login/login.js","App.js","index.js"],"names":["colors","black","gray","yellow","white","red","blue","lightBlue","lightBlueHover","StyledProfile","styled","div","size","lm","ProfilePicture","lightMode","needsUpdate","setUpdateStatus","src","userId","useState","imgSrc","setSrc","fullSrc","useEffect","a","fetch","res","text","data","className","circle","height","width","alt","loading","StyledToggle","light","Toggle","StyledSettings","vis","cookies","Cookies","AccountSettings","modalVis","currentUser","toggleVis","changeColorMode","userName","pfp","toggleModalOff","e","target","classList","includes","document","querySelector","addEventListener","removeEventListener","id","to","onClick","set","window","location","href","origin","MainAccountSettings","props","setCurrentUser","settingsModalVis","setSettingsVis","toggleSettingsModal","onKeyDown","key","click","tabIndex","CreatePost","focusRef","StyledNotification","Notification","notif","markRead","user","sender","firstName","lastName","_id","profilePhotoSrc","type","sentence","split","receiver","formatSentence","notificationType","moment","createdAt","fromNow","StyledNotifications","button","notifLength","StyledNotifs","ul","Notifications","notifsModal","setNotifsVis","notifs","setNotifs","toggleOffNotifs","json","Array","isArray","fetchNotifications","notifId","body","JSON","stringify","method","headers","mapNotifs","map","length","HomeLink","UsersLink","StyledNav","Nav","setLightMode","getCommentCount","postComments","reduce","total","current","comments","StyledSpinner","Spinner","StyledModal","spinnerVis","SettingsModal","modalVisible","isPost","postItem","commentItem","toggleModal","setFeed","homeFeed","postAuthor","setCommentCount","togglePostEdit","toggleCommentEditStatus","setSpinnerVis","token","get","toggleSettingsOff","refreshFeed","response","reqBody","postId","Authorization","then","catch","err","console","error","post","parentId","commentId","reqBodyData","deletePost","deleteComment","StyledAction","LikeAction","comment","setLikeCount","likeCount","likes","com","StyledCommentUtils","CommentUtils","StyledLike","isCmt","LikeDisplay","StyledCommentMetrics","CommentMetrics","StyledForm","form","SubCommentForm","subFormVis","inputRef","preventDefault","input","value","bodyData","author","requestBody","commentRes","commentData","onSubmit","ref","placeholder","StyledEditForm","EditForm","setPostText","postText","setCommentText","commentText","handleEditSubmit","newData","firstElementChild","defaultValue","StyledComment","SubComment","setModalVisible","setSubFormVis","editingComment","setCommentEditStatus","commentAuthor","isAuthor","subCommentRef","useRef","focus","Comment","subComment","CommentForm","setCommentsVisible","StyledUtils","PostUtils","StyledMetrics","commentCount","PostMetrics","toggleComments","StyledPost","cmtsVis","Post","commentsVisible","editingPost","setPostEditStatus","img","setImg","photo","StyledLoader","PostLoader","color","highlightColor","count","StyledFeed","loader","Feed","posts","setPosts","StyledFriendShip","sameUser","FriendshipButton","receiverId","isPending","pending","setPending","senderId","disabled","StyledHandler","ImageHandler","toggleOff","profile","postInput","fromProfile","imgFile","setImage","setText","handleSubmit","formData","FormData","append","endPoint","url","clearHandler","encType","name","accept","onChange","files","URL","createObjectURL","htmlFor","ImageHandlerModal","toggle","tagName","UploadHandler","setBannerSrc","StyledBanner","BannerModal","StyledHeader","ProfileHeader","pfpSrc","friendshipPending","alreadyFriends","bannerSrc","setVis","bannerVis","setBannerVis","toggleBannerModal","banner","bannerUploader","noBanner","undefined","PostIcons","toggleImgModal","Form","handleInputChange","postRef","StyledStatusForm","g","w","StatusForm","setImgModalVis","blur","r","y","b","textIsEmpty","StyledCard","FriendCard","friend","StyledFriends","FriendsList","friends","mapFriends","UserProfile","match","useRouteMatch","params","setUserName","setFriendStatus","setPfpSrc","setFriends","setAlreadyFriends","dataResponse","pendingFriends","fr","UserCard","amt","amtCommon","requested","responded","setResponse","resId","setResId","fullName","handleFriendAcceptance","accepterId","handleFriendDenial","denierId","ReceivedRequests","reqs","userData","getMutualCount","UnrequestedUsers","users","StyledUsers","Users","setUsers","receivedReqs","setReceivedReqs","userObject","setUserObject","currentUserObj","received","promiseArr","Promise","all","currUser","recReqs","getCommonFriendCount","self","filter","HomePage","Profile","emailRegex","CreateAccountForm","setActiveUser","email","setEmail","password","setPass","setFirstName","setLastName","errorMsg","setErrorMsg","fieldsEmpty","handleAccountCreation","test","mode","message","maxLength","required","minLength","StlyedForm","createVis","errVis","pass","errorModalVis","setErrorVis","setMsg","accountCreationVis","setAccCreationVis","toggleAccountCreator","handleLogin","status","msg","LoginBody","createGlobalStyle","StyledLoginPage","LoginPage","rel","GlobalStyle","App","userCookie","isLight","setPfp","setName","fetchData","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"kNAWeA,EAXA,CACbC,MAAO,UACPC,KAAM,UACNC,OAAQ,UACRC,MAAO,UACPC,IAAK,UACLC,KAAM,UACNC,UAAW,UACXC,eAAgB,W,+CCJVP,EAAUD,EAAVC,MAEFQ,EAAgBC,IAAOC,IAAV,weAEH,qBAAGC,QAEgB,gBAAGC,EAAH,EAAGA,GAAIZ,EAAP,EAAOA,MAAP,OAAoBY,EAAKZ,EAAQ,KAAO,iBAClD,gBAAGY,EAAH,EAAGA,GAAIZ,EAAP,EAAOA,MAAP,OAAoBY,EAAKZ,EAAQ,KAAO,iBACxC,gBAAGY,EAAH,EAAGA,GAAIZ,EAAP,EAAOA,MAAP,OAAoBY,EAAKZ,EAAQ,KAAO,iBACvC,gBAAGY,EAAH,EAAGA,GAAIZ,EAAP,EAAOA,MAAP,OAAoBY,EAAKZ,EAAQ,KAAO,iBACxC,gBAAGY,EAAH,EAAGA,GAAIZ,EAAP,EAAOA,MAAP,OAAoBY,EAAKZ,EAAQ,KAAO,iBAC3C,gBAAGY,EAAH,EAAGA,GAAIZ,EAAP,EAAOA,MAAP,OAAoBY,EAAKZ,EAAQ,KAAO,iBAGjD,qBAAGW,QACJ,qBAAGA,QA+CDE,I,EAAAA,EAnCf,YAOI,IANFF,EAMC,EANDA,KACAG,EAKC,EALDA,UACAC,EAIC,EAJDA,YACAC,EAGC,EAHDA,gBACAC,EAEC,EAFDA,IACAC,EACC,EADDA,OACC,EACwBC,mBAAS,MADjC,mBACMC,EADN,KACcC,EADd,KAEKC,EAAU,qDAAuDL,EAgBvE,OAdAM,qBAAU,WACJR,GACF,uCAAC,8BAAAS,EAAA,sEACmBC,MAAM,0DAAD,OACqCP,IAF7D,cACOQ,EADP,gBAIoBA,EAAIC,OAJxB,OAIOC,EAJP,OAMCP,EAAO,qDAAuDO,GAC9DZ,GAAgB,GAPjB,2CAAD,yDAUD,CAACD,EAAaG,EAAQF,IAGvB,cAACR,EAAD,CAAeI,GAAIE,EAAWd,MAAOA,EAAOW,KAAMA,EAAlD,SACE,sBAAKkB,UAAU,QAAf,WACIZ,GAAO,cAAC,IAAD,CAAUa,QAAQ,EAAMC,OAAQpB,EAAMqB,MAAOrB,IACrDM,GAAO,qBAAKA,IAAKG,GAAUE,EAASW,IAAI,UAAUC,QAAQ,eC1D7DC,EAAe1B,IAAOC,IAAV,2sBASA,gBAAG0B,EAAH,EAAGA,MAAOnC,EAAV,EAAUA,KAAME,EAAhB,EAAgBA,MAAhB,OAA6BiC,EAAQnC,EAAOE,KAKtC,qBAAGA,SAGT,gBAAGiC,EAAH,EAAGA,MAAOnC,EAAV,EAAUA,KAAME,EAAhB,EAAgBA,MAAhB,OAA6BiC,EAAQjC,EAAQF,KAIvC,qBAAGE,SAKf,qBAAGiC,MAAqB,OAAS,SAmB9BC,I,EAAAA,EAbf,YAAoC,IAAlBtC,EAAiB,EAAjBA,OAAQqC,EAAS,EAATA,MAChBnC,EAAgBF,EAAhBE,KAAME,EAAUJ,EAAVI,MAEd,OACE,cAACgC,EAAD,CAAclC,KAAMA,EAAME,MAAOA,EAAOiC,MAAOA,EAA/C,SACE,sBAAKP,UAAU,yBAAf,UACE,qBAAKA,UAAU,yBACf,qBAAKA,UAAU,+B,gBCjCf7B,EAAuBD,EAAvBC,MAAOC,EAAgBF,EAAhBE,KAAME,EAAUJ,EAAVI,MAEfmC,EAAiB7B,IAAOC,IAAV,k1CACP,qBAAG6B,IAAiB,OAAS,UAK1B,qBAAGH,MAAqBjC,EAAQF,KAE1B,qBAAGmC,MAAqBpC,EAAQG,KAE3C,qBAAGiC,MAAqBpC,EAAQG,KAM5B,qBAAGiC,MAAqBpC,EAAQG,KAkBhC,qBAAGiC,MAAqBpC,EAAQG,EAAQ,QAenC,qBAAGiC,MAAqBnC,EAAOE,KACpC,qBAAGiC,MAAqBpC,EAAQG,KAOhB,qBAAGiC,MAAqBpC,EAAQG,KAsB3C,qBAAGiC,MAAqBnC,EAAOE,KAU7CqC,EAAU,IAAIC,IAuELC,MArEf,YAQI,IAPFC,EAOC,EAPDA,SACAC,EAMC,EANDA,YACAC,EAKC,EALDA,UACAT,EAIC,EAJDA,MACAU,EAGC,EAHDA,gBACAC,EAEC,EAFDA,SACAC,EACC,EADDA,IAEMC,EAAiB,SAACC,GAClB,YAAIA,EAAEC,OAAOC,WAAWC,SAAS,oBACjCV,GAAUE,KAmBhB,OAhBAtB,qBAAU,WAGR,OAFA+B,SAASC,cAAc,QAAQC,iBAAiB,QAASP,GAElD,WACLK,SACGC,cAAc,QACdE,oBAAoB,QAASR,OAWlC,eAACX,EAAD,CACEC,IAAKI,EACLP,MAAOA,EACPsB,GAAG,iBACH7B,UAAU,kBAJZ,UAME,eAAC,IAAD,CACE8B,GAAG,WACH9B,UAAU,iCACV+B,QAASf,EAHX,UAKE,qBAAKhB,UAAU,MAAf,SACE,cAAC,EAAD,CAAgBZ,IAAK+B,EAAK9B,OAAQ0B,EAAajC,KAAM,WAEvD,sBAAKkB,UAAU,uCAAf,UACE,6BAAKkB,IACL,uDAGJ,qBAAKlB,UAAU,2BACf,qBAAIA,UAAU,kBAAd,UACE,qBAAI+B,QAASd,EAAiBjB,UAAU,kBAAxC,UACE,qBAAKA,UAAU,OAAf,SACE,cAAC,EAAD,CAAQ9B,OAAQA,EAAQqC,MAAOA,MAEjC,mBAAGP,UAAU,kBAAb,kCAEF,qBAAI+B,QAlCW,WACnBpB,EAAQqB,IAAI,cAAe,MAC3BrB,EAAQqB,IAAI,QAAS,MACrBC,OAAOC,SAASC,KAAOF,OAAOC,SAASE,OAAS,gBA+BjBpC,UAAU,yBAArC,UACE,qBAAKA,UAAU,OAAf,SACE,cAAC,IAAD,MAEF,iDCrHKqC,MA1Cf,SAA6BC,GAAQ,IAEjCvB,EAMEuB,EANFvB,YACA9B,EAKEqD,EALFrD,UACAgC,EAIEqB,EAJFrB,gBACAsB,EAGED,EAHFC,eACArB,EAEEoB,EAFFpB,SACAC,EACEmB,EADFnB,IAPgC,EASS7B,oBAAS,GATlB,mBAS3BkD,EAT2B,KASTC,EATS,KAW5BC,EAAsB,kBAAMD,GAAgBD,IAOlD,OACE,qCACE,wBACEG,UARgB,SAACtB,GACP,QAAVA,EAAEuB,KACNvB,EAAEC,OAAOuB,SAOLd,QAASW,EACTI,SAAS,IACT9C,UAAU,WAJZ,SAME,cAAC,IAAD,MAEF,cAAC,EAAD,CACEc,SAAU0B,EACVzB,YAAaA,EACbC,UAAW0B,EACXnC,MAAOtB,EACPgC,gBAAiBA,EACjBsB,eAAgBA,EAChBrB,SAAUA,EACVC,IAAKA,QC9BE4B,I,EAAAA,EARf,YAAmC,IAAbC,EAAY,EAAZA,SACpB,OACE,wBAAQhD,UAAU,YAAY+B,QAASiB,EAAvC,SACE,cAAC,IAAD,O,iBCDAC,EAAqBrE,IAAOC,IAAV,6TA+DTqE,I,IAAAA,EA9Cf,YAAkD,IAA1BC,EAAyB,EAAzBA,MAAaC,GAAY,EAAlBC,KAAkB,EAAZD,UAC7BE,EAASH,EAAMG,OAAOC,UAAY,IAAMJ,EAAMG,OAAOE,SA2B3D,OACE,eAACP,EAAD,CACEpB,GAAG,aACHE,QAASqB,EAASD,EAAMM,KACxBzD,UAAU,kBAHZ,UAKE,cAAC,EAAD,CAAgBlB,KAAM,OAAQM,IAAK+D,EAAMG,OAAOI,kBAChD,sBAAK1D,UAAU,+BAAf,UACE,oBAAGA,UAAU,kBAAb,UACE,4BAAIsD,IAnCW,SAACK,GAAU,IAE5BC,EAF2B,EACND,EAAKE,MAAM,KADL,mBAC1BC,EAD0B,KAI/B,OAJ+B,MAK7B,IAAK,MACHF,EAAW,8BACX,MACF,IAAK,SACHA,EAAW,iCACX,MACF,IAAK,OACc,SAAbE,IAAqBF,EAAW,qBACnB,YAAbE,IAAwBF,EAAW,wBACvC,MACF,IAAK,UACc,SAAbE,IAAqBF,EAAW,0BACnB,YAAbE,IAAwBF,EAAW,6BAM3C,OAAOA,EAaAG,CAAeZ,EAAMa,qBAExB,mBAAGhE,UAAU,kBAAb,SAAgCiE,IAAOd,EAAMe,WAAWC,mBCvD1DC,EAAsBxF,IAAOyF,OAAV,4jBASZnG,EAAOC,OAKJ,gBAAGmG,EAAH,EAAGA,YAAH,OACVA,EAAc,EAAI,KAAOA,EAAc,EAAIA,EAAc,MAChD,qBAAGA,YAAiC,EAAI,OAAS,SAKnDpG,EAAOI,MACWJ,EAAOC,MAOpBD,EAAOK,KAInBgG,EAAe3F,IAAO4F,GAAV,08BACL,qBAAG9D,IAAiB,OAAS,UAiI3B+D,MA7Ef,YAAyC,IAAhB1D,EAAe,EAAfA,YAAe,EACFzB,oBAAS,GADP,mBAC/BoF,EAD+B,KAClBC,EADkB,OAEVrF,mBAAS,IAFC,mBAE/BsF,EAF+B,KAEvBC,EAFuB,KAIhCC,EAAkB,SAACzD,GACnB,YAAIA,EAAEC,OAAOC,WAAWC,SAAS,oBACjCkD,GAAaC,GAAa,IAGhCjF,qBAAU,WAGR,OAFAuC,OAAON,iBAAiB,QAASmD,GAE1B,WACL7C,OAAOL,oBAAoB,QAASkD,OAIxCpF,qBAAU,WAAM,4CACd,8BAAAC,EAAA,sEACoBC,MAAM,4DAAD,OACuCmB,IAFhE,cACQlB,EADR,gBAIqBA,EAAIkF,OAJzB,OAIQhF,EAJR,OAMMiF,MAAMC,QAAQlF,GAAO8E,EAAU9E,GAC9B8E,EAAU,IAPjB,4CADc,uBAAC,WAAD,wBAWdK,KACC,CAACnE,IAEJ,IAEMqC,EAAW,SAAC+B,GAChB,6BAAO,gCAAAxF,EAAA,6DACCyF,EAAOC,KAAKC,UAAU,CAAEH,UAAS9F,OAAQ0B,IAD1C,SAGanB,MAChB,oEACA,CACE2F,OAAQ,MACRC,QAAS,CAAE,eAAgB,oBAC3BJ,SARC,cAGCvF,EAHD,gBAYcA,EAAIkF,OAZlB,OAYChF,EAZD,OAaL8E,EAAU9E,GAbL,4CAiBH0F,EAAYb,EAAOc,KAAI,SAACvC,GAAD,OAC3B,oBAAoBnD,UAAU,kBAA9B,SACE,cAAC,EAAD,CAAcmD,MAAOA,EAAOE,KAAMtC,EAAaqC,SAAUA,KADlDD,EAAMM,QAKjB,OACE,qCACE,cAACW,EAAD,CAAqBrC,QA5BV,kBAAM4C,GAAcD,IA4BOJ,YAAaM,EAAOe,OAA1D,SACE,cAAC,IAAD,MAEF,eAACpB,EAAD,CACE7D,IAAKgE,EACL7C,GAAG,cACH7B,UAAU,kBAHZ,UAKE,sBAAKA,UAAU,4BAAf,UACE,oBAAIA,UAAU,kBAAd,2BACA,mBAAGA,UAAU,kBAAb,sCAEDyF,S,QCxJMG,MARf,WACE,OACE,cAAC,IAAD,CAAM9D,GAAG,IAAT,SACE,cAAC,IAAD,O,QCKS+D,I,EAAAA,EARf,WACE,OACE,cAAC,IAAD,CAAM/D,GAAG,SAAT,SACE,cAAC,IAAD,OCGE3D,GAAuBD,EAAvBC,MAAOG,GAAgBJ,EAAhBI,MAAOE,GAASN,EAATM,KAEhBsH,GAAYlH,IAAOC,IAAV,qvCAKCL,GAELF,GAiBIH,GAiBAA,GAcAA,IAiDA4H,OA/Bf,SAAazD,GAAQ,IAEjB0D,EAME1D,EANF0D,aACA/G,EAKEqD,EALFrD,UACA8B,EAIEuB,EAJFvB,YACAiC,EAGEV,EAHFU,SACA9B,EAEEoB,EAFFpB,SACAC,EACEmB,EADFnB,IAOF,OACE,eAAC2E,GAAD,CAAWvF,MAAOtB,EAAlB,UACE,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,CAAY+D,SAAUA,IACtB,cAAC,EAAD,CAAejC,YAAaA,IAC5B,cAAC,EAAD,CACEA,YAAaA,EACb9B,UAAWA,EACXgC,gBAbN,WACE+E,GAAc/G,IAaViC,SAAUA,EACVC,IAAKA,QC7GE,SAAS8E,GAAgBC,GACtC,OAAKA,EAEEA,EAAaC,QAAO,SAACC,EAAOC,GAAa,IAAD,EAC7C,OAAOD,GAAS,aAAIC,EAAQC,gBAAZ,aAAI,EAAkBX,WACrC,GAJuB,E,yBCEtBY,GAAgB3H,IAAOC,IAAV,mPACN,qBAAG6B,IAAiB,OAAS,UAGzB,qBAAG5B,MAAmB,MAmBxB0H,I,GAAAA,GARf,YAAiC,IAAd1H,EAAa,EAAbA,KAAM4B,EAAO,EAAPA,IACvB,OACE,cAAC6F,GAAD,CAAezH,KAAMA,EAAM4B,IAAKA,EAAhC,SACE,cAAC,KAAD,CAAWV,UAAU,UAAU6B,GAAG,eCblC4E,GAAc7H,IAAOC,IAAV,mqCACJ,qBAAG6B,IAAiB,OAAS,UAC/B,qBAAGA,IAAiB,MAAQ,UA6DxB,qBAAGgG,WAA+B,OAAS,UAIpD/F,GAAU,IAAIC,IAiIL+F,I,GAAAA,GA/Hf,SAAuBrE,GAAQ,IAE3BsE,EAYEtE,EAZFsE,aACAC,EAWEvE,EAXFuE,OACAC,EAUExE,EAVFwE,SACAC,EASEzE,EATFyE,YACAC,EAQE1E,EARF0E,YACAC,EAOE3E,EAPF2E,QACAC,EAME5E,EANF4E,SACA7D,EAKEf,EALFe,KACA8D,EAIE7E,EAJF6E,WACAC,EAGE9E,EAHF8E,gBACAC,EAEE/E,EAFF+E,eACAC,EACEhF,EADFgF,wBAb0B,EAgBQhI,oBAAS,GAhBjB,mBAgBrBoH,EAhBqB,KAgBTa,EAhBS,KAiBtBC,EAAQ7G,GAAQ8G,IAAI,SAEpBC,EAAoB,WACpBd,GAAcI,KApBQ,SA+BbW,IA/Ba,2EA+B5B,8BAAAhI,EAAA,0DAEMuH,EAFN,gCAGqBtH,MAAM,yDAAD,OACqCyD,IAJ/D,OAGIuE,EAHJ,6CAOqBhI,MAAM,2DAAD,OACuCuH,IARjE,OAOIS,EAPJ,+BAWqBA,EAAS7C,OAX9B,QAWQhF,EAXR,OAYEiH,IACAC,EAAQlH,GAbV,6CA/B4B,kEA+C5B,4BAAAJ,EAAA,6DACQkI,EAAUxC,KAAKC,UAAU,CAAEwC,OAAQhB,EAASrD,MADpD,SAGQ7D,MAAM,0DAA2D,CACrE2F,OAAQ,SACRC,QAAS,CACP,eAAgB,mBAChBuC,cAAc,UAAD,OAAYP,IAE3BpC,KAAMyC,IAELG,MAAK,WACJT,GAAc,GACdP,OAEDiB,OAAM,SAACC,GAAD,OAASC,QAAQC,MAAMF,MAflC,OAiBEP,IAjBF,4CA/C4B,kEAmE5B,WAA6BtG,GAA7B,6BAAA1B,EAAA,+DACsC,CAClCoH,EAAYsB,KACZtB,EAAYtD,IACZsD,EAAYuB,UAHPD,EADT,KACeE,EADf,KAMQC,GALkBF,EAD1B,MAOM,CAAED,OAAME,YAAWD,YACnB,CAAED,OAAME,aACNV,EAAUxC,KAAKC,UAAUkD,GATjC,SAUoB5I,MAChB,6DACA,CACE2F,OAAQ,SACRC,QAAS,CACP,eAAgB,mBAChBuC,cAAc,UAAD,OAAYP,IAE3BpC,KAAMyC,IAERI,OAAM,SAACC,GAAD,OAASC,QAAQC,MAAMF,MApBjC,cAUQrI,EAVR,gBAsBqBA,EAAIkF,OAtBzB,OAsBQhF,EAtBR,OAwBEqH,EAAgBnB,GAAgBlG,EAAKuG,WACrCqB,IAzBF,6CAnE4B,sBA+F5B,OAxEAjI,qBAAU,WAGR,OAFAuC,OAAON,iBAAiB,QAAS+F,GAE1B,WACLzF,OAAOL,oBAAoB,QAAS8F,OAqEtC,cAACjB,GAAD,CAAa/F,IAAKkG,EAAcF,WAAYA,EAA5C,SACE,qBAAI1G,UAAU,OAAd,UACE,oBACE+B,QAAS,WACP8E,EAASQ,IAAmBC,IAC5BN,KAHJ,SAME,sBAAKhH,UAAU,UAAf,UACE,cAAC,IAAD,IACA,2CAAc6G,EAAS,OAAS,kBAGpC,oBAAI7G,UAAU,WACd,oBACE+B,QAAS,SAACV,GACRkG,GAAc,GACdV,EAjHkB,mCAiHT4B,GAjHS,oCAiHMC,CAAcrH,IAH1C,SAME,sBAAKrB,UAAU,cAAf,UACE,cAAC,KAAD,CAAkBA,UAAU,SAC5B,cAAC,GAAD,CAASA,UAAU,UAAUU,IAAKgG,IAClC,6CAAgBG,EAAS,OAAS,wBClMxC8B,GAAe/J,IAAOyF,OAAV,wEAkCHuE,I,GAAAA,GA7Bf,YAA4D,IAAtCvF,EAAqC,EAArCA,KAAMgF,EAA+B,EAA/BA,KAAMQ,EAAyB,EAAzBA,QAASC,EAAgB,EAAhBA,aAAgB,4CACzD,kCAAAnJ,EAAA,6DACQyF,EAAOiD,EACThD,KAAKC,UAAU,CAAEjC,OAAMgF,SACvBhD,KAAKC,UAAU,CAAEjC,OAAMwF,YAH7B,SAKoBjJ,MAAM,yDAAD,OAEnByI,EAAO,OAAS,WAElB,CACE9C,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BJ,SAZN,cAKQvF,EALR,gBAgBqBA,EAAIkF,OAhBzB,OAgBQhF,EAhBR,OAiBQgJ,EAAYhJ,EAAKiJ,MAAMrD,OAC7BmD,EAAaC,GAlBf,4CADyD,sBAsBzD,OACE,cAACJ,GAAD,CAAc5G,QAvByC,2CAuBnBkH,IAAKJ,EAAS7I,UAAU,OAA5D,mBC3BEkJ,GAAqBtK,IAAOC,IAAV,yvBAwDTsK,I,GAAAA,GAXf,YAAkE,IAA1CN,EAAyC,EAAzCA,QAASxF,EAAgC,EAAhCA,KAAMyF,EAA0B,EAA1BA,aAAc9F,EAAY,EAAZA,SACnD,OACE,eAACkG,GAAD,CAAoBrH,GAAG,eAAvB,UACE,cAAC,GAAD,CAAYwB,KAAMA,EAAMyF,aAAcA,EAAcD,QAASA,IAC7D,wBAAQ7I,UAAU,QAAQ+B,QAASiB,EAAnC,uBCjDAoG,GAAaxK,IAAOC,IAAV,gYACF,qBAAGwK,MAAqB,WAAa,YAMnC,qBAAGA,MAAqB,UAAY,UACvC,qBAAGA,MAAqB,MAAQ,MAG7B,qBAAGA,MAEX,4IACA,UAqBOC,I,GAAAA,GATf,YAAgD,IAAzBP,EAAwB,EAAxBA,UAAWM,EAAa,EAAbA,MAAOxH,EAAM,EAANA,GACvC,OACE,eAACuH,GAAD,CAAYC,MAAOA,EAAOrJ,UAAWqJ,EAAQ,MAAQ,GAAIxH,GAAIA,EAA7D,UACE,cAAC,IAAD,CAAY7B,UAAU,SACtB,4BAAI+I,QC9BJQ,GAAuB3K,IAAOC,IAAV,mEAcX2K,I,GAAAA,GARf,YAAwC,IAAdT,EAAa,EAAbA,UACxB,OACE,cAACQ,GAAD,UACE,cAAC,GAAD,CAAaR,UAAWA,EAAWM,OAAO,EAAMxH,GAAI,qBCLpD4H,GAAa7K,IAAO8K,KAAV,6oBACH,qBAAGhJ,IAAiB,OAAS,OAC9B,qBAAGA,IAAiB,cAAgB,OAE9B,qBAAGA,IAAiB,OAAS,QAiBlCxC,EAAOI,OAkBdqC,GAAU,IAAIC,IAqFL+I,I,GAAAA,GAnFf,YAaI,IAZFC,EAYC,EAZDA,WACA5I,EAWC,EAXDA,UACA8G,EAUC,EAVDA,OACAS,EASC,EATDA,UACAtB,EAQC,EARDA,QACAC,EAOC,EAPDA,SACAC,EAMC,EANDA,WACA0C,EAKC,EALDA,SACA9I,EAIC,EAJDA,YACAqG,EAGC,EAHDA,gBACAkB,EAEC,EAFDA,SACAnH,EACC,EADDA,IAEMqG,EAAQ7G,GAAQ8G,IAAI,SADzB,4CAGD,WAA4BpG,GAA5B,6BAAA1B,EAAA,yDACE0B,EAAEyI,iBAEIC,EAAQ1I,EAAEC,OAAO,GACjBxB,EAAOiK,EAAMC,MAJrB,wDAQQC,EAAW,CACfnK,OACAwI,WACAD,KAAMP,EACNe,QAASN,EACT2B,OAAQnJ,GAEJoJ,EAAc9E,KAAKC,UAAU2E,GAfrC,SAiB2BrK,MAAM,gEAE7B,CACE2F,OAAQ,OACR5B,KAAM,OACN6B,QAAS,CACP,eAAgB,mBAChBuC,cAAc,UAAD,OAAYP,IAE3BpC,KAAM+E,IAERlC,OAAM,SAACC,GAAD,OAASC,QAAQC,MAAMF,MA5BjC,cAiBQkC,EAjBR,iBA8B4BA,EAAWrF,OA9BvC,WA8BQsF,EA9BR,QAiCMnD,EAjCN,kCAkCqBtH,MAAM,yDAAD,OACqCmB,IAnC/D,QAkCI6G,EAlCJ,gDAsCqBhI,MAAM,2DAAD,OACuCuH,IAvCjE,QAsCIS,EAtCJ,gCA0CqBA,EAAS7C,OA1C9B,QA0CQhF,EA1CR,OA2CEkH,EAAQlH,GACRqH,EAAgBnB,GAAgBoE,EAAY/D,WAC5CtF,IACA+I,EAAMC,MAAQ,GA9ChB,6CAHC,sBAoDD,OACE,eAACP,GAAD,CAAYa,SArDb,4CAqDqC5J,IAAKkJ,EAAzC,UACE,sBAAK5J,UAAU,OAAf,UACE,cAAC,IAAD,CAAM8B,GAAG,WAAT,SACE,cAAC,EAAD,CAAgB1C,IAAK+B,EAAKrC,KAAM,OAAQO,OAAQ0B,MAElD,uBACE4C,KAAK,OACL4G,IAAKV,EACLhI,GAAG,gBACH2I,YAAY,0BAGhB,2DC3HAC,GAAiB7L,IAAO8K,KAAV,6dAaPxL,EAAOI,OAmELoM,I,GAAAA,GAtDf,SAAkBpI,GAAQ,IAEtBqI,EASErI,EATFqI,YACAC,EAQEtI,EARFsI,SACAvD,EAOE/E,EAPF+E,eACAS,EAMExF,EANFwF,OACAjB,EAKEvE,EALFuE,OACAgE,EAIEvI,EAJFuI,eACAC,EAGExI,EAHFwI,YACAxD,EAEEhF,EAFFgF,wBACAiB,EACEjG,EADFiG,UAOIwC,EAAgB,uCAAG,WAAO1J,GAAP,uBAAA1B,EAAA,6DACvB0B,EAAEyI,iBAEIkB,EAAU3J,EAAEC,OAAO2J,kBAAkBjB,MACrCC,EAAWpD,EAAS,CAAEiB,SAAQkD,WAAY,CAAEzC,YAAWyC,WACvD5F,EAAOC,KAAKC,UAAU2E,GALL,SAOLrK,MAAM,8CAAD,OAEnBiH,EAAS,QAAU,WAFA,WAIrB,CACEtB,OAAQ,MACRC,QAAS,CAAE,eAAgB,oBAC3BJ,SAdmB,cAOjBvF,EAPiB,gBAkBJA,EAAIkF,OAlBA,OAkBjBhF,EAlBiB,OAJRD,EAwBPC,EAAKD,KAxBY+G,EAAS8D,EAAY7K,GAAQ+K,EAAe/K,GAErE+G,EAASQ,IAAmBC,IAEL,kCAJT,IAACxH,IAIQ,OAAH,sDAwBtB,OACE,eAAC2K,GAAD,CAAgBH,SAAUS,EAA1B,UACE,uBACEpH,KAAK,OACL3D,UAAW6G,EAAS,aAAe,gBACnCqE,aAAcrE,EAAS+D,EAAWE,EAClCjJ,GAAG,cAEL,2DCnEAsJ,GAAgBvM,IAAOC,IAAV,w8BAqKJuM,I,GAAAA,GAzGf,YAQI,IAPFvC,EAOC,EAPDA,QACA9H,EAMC,EANDA,YACAkG,EAKC,EALDA,QACAC,EAIC,EAJDA,SACAC,EAGC,EAHDA,WACAC,EAEC,EAFDA,gBACAjG,EACC,EADDA,IACC,EACuC7B,oBAAS,GADhD,mBACMsH,EADN,KACoByE,EADpB,OAEiC/L,mBAASuJ,EAAQG,MAAMrD,QAFxD,mBAEMoD,EAFN,KAEiBD,EAFjB,OAGmCxJ,oBAAS,GAH5C,mBAGMsK,EAHN,KAGkB0B,EAHlB,OAI8ChM,oBAAS,GAJvD,mBAIMiM,EAJN,KAIsBC,EAJtB,OAKqClM,mBAASuJ,EAAQ/I,MALtD,mBAKMgL,EALN,KAKmBD,EALnB,KAMKY,EACJ5C,EAAQqB,OAAO3G,UAAY,IAAMsF,EAAQqB,OAAO1G,SAC5CkI,EAAW7C,EAAQqB,OAAOzG,MAAQ1C,EAClC4K,EAAgBC,iBAAO,MAWvBtE,EAA0B,kBAAMkE,GAAsBD,IAe5D,OACE,eAACJ,GAAD,WACE,qBAAKnL,UAAU,WAAf,SACE,cAAC,IAAD,CAAM8B,GAAE,gBAAW+G,EAAQqB,OAAOzG,KAAOzD,UAAU,OAAnD,SACE,cAAC,EAAD,CACEZ,IAAKyJ,EAAQqB,OAAOxG,gBACpBrE,OAAQ0B,EACRjC,KAAM,aAIZ,sBAAKkB,UAAU,mBAAf,UACE,cAAC,IAAD,CAAM8B,GAAE,gBAAW+G,EAAQqB,OAAOzG,KAAOzD,UAAU,OAAnD,SACGyL,IAEFF,EA1BH,cAAC,GAAD,CACEV,eAAgBA,EAChBC,YAAaA,EACbvC,UAAWM,EAAQpF,IACnB6D,wBAAyBA,IAKL,mBAAGtH,UAAU,UAAb,SAAwB8K,IAkB3CY,EACC,cAAC,IAAD,CACE1L,UAAU,mBACV+B,QAtCV,WACEsJ,GAAiBzE,MAwCX,wBAEF,cAAC,GAAD,CACEA,aAAcA,EACdI,YAAaqE,EACbtE,YAAa8B,EACb5B,QAASA,EACTC,SAAUA,EACV7D,KAAMtC,EACNoG,WAAYA,EACZC,gBAAiBA,EACjBE,wBAAyBA,IAE1ByB,EAAY,EAAI,cAAC,GAAD,CAAgBA,UAAWA,IAAgB,2BAE9D,cAAC,GAAD,CACEF,QAASA,EAAQpF,IACjBJ,KAAMtC,EACN+H,aAAcA,EACd9F,SAjEN,WACE2I,EAActF,QAAQwF,QACtBP,GAAe1B,MAiEb,cAAC,GAAD,CACE7I,YAAaA,EACb6I,WAAYA,EACZ5I,UAAWsK,EACXzB,SAAU8B,EACV7D,OAAQe,EAAQR,KAChBE,UAAWM,EAAQpF,IACnB6E,SAAUO,EAAQP,SAClBrB,QAASA,EACTC,SAAUA,EACVC,WAAYA,EACZC,gBAAiBA,EACjBhI,IAAKyJ,EAAQqB,OAAOxG,gBACpBvC,IAAKA,QC9JPgK,GAAgBvM,IAAOC,IAAV,+jCAgED,qBAAG+K,WAA+B,OAAS,OA+H9CkC,I,GAAAA,GA1Hf,YAQI,IAPFjD,EAOC,EAPDA,QACA9H,EAMC,EANDA,YACAkG,EAKC,EALDA,QACAC,EAIC,EAJDA,SACAC,EAGC,EAHDA,WACAC,EAEC,EAFDA,gBACAjG,EACC,EADDA,IACC,EACuC7B,oBAAS,GADhD,mBACMsH,EADN,KACoByE,EADpB,OAEiC/L,mBAASuJ,EAAQG,MAAMrD,QAFxD,mBAEMoD,EAFN,KAEiBD,EAFjB,OAGmCxJ,oBAAS,GAH5C,mBAGMsK,EAHN,KAGkB0B,EAHlB,OAI8ChM,oBAAS,GAJvD,mBAIMiM,EAJN,KAIsBC,EAJtB,OAKqClM,mBAASuJ,EAAQ/I,MALtD,mBAKMgL,EALN,KAKmBD,EALnB,KAMKY,EACJ5C,EAAQqB,OAAO3G,UAAY,IAAMsF,EAAQqB,OAAO1G,SAC5CkI,EAAW7C,EAAQqB,OAAOzG,MAAQ1C,EAClC4K,EAAgBC,iBAAO,MAWvBtE,EAA0B,kBAAMkE,GAAsBD,IAe5D,OACE,qCACE,eAAC,GAAD,CAAevL,UAAU,UAAU4J,WAAYA,EAA/C,UACE,qBAAK5J,UAAU,WAAf,SACE,cAAC,IAAD,CAAM8B,GAAE,gBAAW+G,EAAQqB,OAAOzG,KAAOzD,UAAU,OAAnD,SACE,cAAC,EAAD,CACEZ,IAAKyJ,EAAQqB,OAAOxG,gBACpBrE,OAAQwJ,EAAQqB,OAAOzG,IACvB3E,KAAM,aAIZ,sBAAKkB,UAAU,eAAf,UACE,cAAC,IAAD,CAAM8B,GAAE,gBAAW+G,EAAQqB,OAAOzG,KAAOzD,UAAU,OAAnD,SACGyL,IAEFF,EA3BL,cAAC,GAAD,CACEV,eAAgBA,EAChBC,YAAaA,EACbvC,UAAWM,EAAQpF,IACnB6D,wBAAyBA,IAKL,mBAAGtH,UAAU,UAAb,SAAwB8K,IAmBzCY,EACC,cAAC,IAAD,CACE1L,UAAU,mBACV+B,QAvCZ,WACEsJ,GAAiBzE,MAyCT,wBAEF,cAAC,GAAD,CACEA,aAAcA,EACdI,YAAaqE,EACbtE,YAAa8B,EACb5B,QAASA,EACTC,SAAUA,EACV7D,KAAMtC,EACNoG,WAAYA,EACZC,gBAAiBA,EACjBE,wBAAyBA,IAE1ByB,EAAY,EAAI,cAAC,GAAD,CAAgBA,UAAWA,IAAgB,2BAE9D,cAAC,GAAD,CACEF,QAASA,EAAQpF,IACjBJ,KAAMtC,EACN+H,aAAcA,EACd9F,SAlER,WACE2I,EAActF,QAAQwF,QACtBP,GAAe1B,MAkEX,cAAC,GAAD,CACE7I,YAAaA,EACb6I,WAAYA,EACZ5I,UAAWsK,EACXzB,SAAU8B,EACV7D,OAAQe,EAAQR,KAChBE,UAAWM,EAAQpF,IACnB6E,SAAUO,EAAQpF,IAClBwD,QAASA,EACTC,SAAUA,EACVC,WAAYA,EACZC,gBAAiBA,EACjBjG,IAAKA,OAGT,qBAAKnB,UAAU,eAAf,SACG6I,EAAQvC,SAASZ,KAAI,SAACqG,GAAD,OACpB,qBAA0B/L,UAAU,cAApC,SACE,cAAC,GAAD,CACEmH,WAAYA,EACZ0B,QAASkD,EACTzD,SAAUyD,EAAWzD,SACrBvH,YAAaA,EACbkG,QAASA,EACTC,SAAUA,EACVE,gBAAiBA,EACjBjG,IAAKA,KATC4K,EAAWtI,cClLzBgG,GAAa7K,IAAO8K,KAAV,mnBAmBHxL,EAAOI,OAkBdqC,GAAU,IAAIC,IAiFLoL,I,GAAAA,GA/Ef,YAWI,IAVFlE,EAUC,EAVDA,OACAb,EASC,EATDA,QACAC,EAQC,EARDA,SACAC,EAOC,EAPDA,WACA0C,EAMC,EANDA,SACA9I,EAKC,EALDA,YACAqG,EAIC,EAJDA,gBACA6E,EAGC,EAHDA,mBAEA9K,GACC,EAFD/B,IAEC,EADD+B,KAEMqG,EAAQ7G,GAAQ8G,IAAI,SADzB,4CAGD,WAA4BpG,GAA5B,6BAAA1B,EAAA,yDACE0B,EAAEyI,iBAEIC,EAAQ1I,EAAEC,OAAO,GACjBxB,EAAOiK,EAAMC,MAJrB,wDAQQC,EAAW,CACfnK,OACAuI,KAAMP,EACNoC,OAAQnJ,GAEJoJ,EAAc9E,KAAKC,UAAU2E,GAbrC,SAe2BrK,MAAM,0DAE7B,CACE2F,OAAQ,OACR5B,KAAM,OACNyB,KAAM+E,EACN3E,QAAS,CACP,eAAgB,mBAChBuC,cAAc,UAAD,OAAYP,MAG7BS,OAAM,SAACC,GAAD,OAASC,QAAQC,MAAMF,MA1BjC,cAeQkC,EAfR,iBA4B4BA,EAAWrF,OA5BvC,WA4BQsF,EA5BR,QA+BMnD,EA/BN,kCAgCqBtH,MAAM,yDAAD,OACqCmB,IAjC/D,QAgCI6G,EAhCJ,gDAoCqBhI,MAAM,2DAAD,OACuCuH,IArCjE,QAoCIS,EApCJ,gCAwCqBA,EAAS7C,OAxC9B,QAwCQhF,EAxCR,OAyCEkH,EAAQlH,GACRqH,EAAgBnB,GAAgBoE,EAAY/D,WAC5C2F,IACAlC,EAAMC,MAAQ,GA5ChB,6CAHC,sBAkDD,OACE,eAAC,GAAD,CAAYM,SAnDb,4CAmDC,UACE,sBAAKtK,UAAU,OAAf,UACE,cAAC,IAAD,CAAM8B,GAAG,WAAT,SACE,cAAC,EAAD,CAAgBhD,KAAM,OAAQM,IAAK+B,EAAK9B,OAAQ0B,MAElD,uBACE4C,KAAK,OACL4G,IAAKV,EACLhI,GAAG,gBACH2I,YAAY,0BAGhB,2DCrHA0B,GAActN,IAAOC,IAAV,8aAmCFsN,I,GAAAA,GAXf,YAA4D,IAAvC9I,EAAsC,EAAtCA,KAAMgF,EAAgC,EAAhCA,KAAMS,EAA0B,EAA1BA,aAAc9F,EAAY,EAAZA,SAC7C,OACE,eAACkJ,GAAD,WACE,cAAC,GAAD,CAAY7I,KAAMA,EAAMgF,KAAMA,EAAMS,aAAcA,IAClD,wBAAQ/G,QAASiB,EAAUhD,UAAU,OAArC,yBC5BAoM,GAAgBxN,IAAOC,IAAV,udAgBJ,qBAAGwN,aAAmC,OAAS,UA+B/CC,I,GAAAA,GAnBf,YAAmE,IAA5CvD,EAA2C,EAA3CA,UAAWsD,EAAgC,EAAhCA,aAAcE,EAAkB,EAAlBA,eAC9C,OACE,eAACH,GAAD,CAAeC,aAAcA,EAA7B,UACE,qBAAKrM,UAAU,QAAf,SACG+I,EAAY,EAAI,cAAC,GAAD,CAAaA,UAAWA,IAAgB,0BAE3D,qBAAK/I,UAAU,gBAAgB+B,QAASwK,EAAxC,SACoB,IAAjBF,EACCA,EAAe,WACbA,EAAe,EACjBA,EAAe,YAEf,8BC7BJG,GAAa5N,IAAOC,IAAV,m8DA6ED,qBAAG4N,QAAyB,QAAU,UA0JtCC,I,GAAAA,GA9Hf,YAAmE,IAAnDrE,EAAkD,EAAlDA,KAAMpB,EAA4C,EAA5CA,QAASC,EAAmC,EAAnCA,SAAU9H,EAAyB,EAAzBA,IAAK2B,EAAoB,EAApBA,YAAaI,EAAO,EAAPA,IAAO,EACxB7B,oBAAS,GADe,mBACzDsH,EADyD,KAC3CyE,EAD2C,OAE9B/L,mBAAS+I,EAAKW,MAAMrD,QAFU,mBAEzDoD,EAFyD,KAE9CD,EAF8C,OAGxBxJ,mBACtC2G,GAAgBoC,EAAK/B,WAJyC,mBAGzD+F,EAHyD,KAG3CjF,EAH2C,OAMlB9H,oBAAS,GANS,mBAMzDqN,EANyD,KAMxCV,EANwC,OAOvB3M,oBAAS,GAPc,mBAOzDsN,EAPyD,KAO5CC,EAP4C,OAQhCvN,mBAAS+I,EAAKvI,MARkB,mBAQzD8K,EARyD,KAQ/CD,EAR+C,OAS1CrL,mBAAS,MATiC,mBASzDwN,EATyD,KASpDC,EAToD,KAU1DrB,EAAWrD,EAAK6B,OAAOzG,MAAQ1C,EAC/B8I,EAAW+B,iBAAO,MAExBlM,qBAAU,YACR,uCAAC,4BAAAC,EAAA,0DACK0I,EAAK2E,MADV,gBAESpK,EAAMyF,EAAK2E,MAAMpK,IACvBmK,EAAO,qDAAD,OAAsDnK,IAH/D,2FAAD,yDAQC,CAACkK,EAAKzE,EAAK2E,QAEd,IACM3F,EAAiB,kBAAMwF,GAAmBD,IAsBhD,OACE,eAACJ,GAAD,CAAYxM,UAAU,WAAWyM,QAASE,EAA1C,UACE,sBAAK3M,UAAU,OAAf,UACE,sBAAKA,UAAU,YAAf,UACE,qBAAKA,UAAU,WAAf,SACE,cAAC,IAAD,CAAM8B,GAAE,gBAAWuG,EAAK6B,OAAOzG,KAAOzD,UAAU,OAAhD,SACE,cAAC,EAAD,CAAgBZ,IAAKiJ,EAAK6B,OAAOxG,gBAAiB5E,KAAM,aAG5D,eAAC,IAAD,CAAMgD,GAAE,gBAAWuG,EAAK6B,OAAOzG,KAAOzD,UAAU,OAAhD,UACGqI,EAAK6B,OAAO3G,UADf,IAC2B8E,EAAK6B,OAAO1G,YAEvC,4BAAIS,IAAOoE,EAAKnE,WAAWC,eAE5ByI,EAhCH,cAAC,GAAD,CACEjC,YAAaA,EACbC,SAAUA,EACVvD,eAAgBA,EAChBS,OAAQO,EAAK5E,IACboD,QAAM,IAKc,mBAAG7G,UAAU,UAAb,SAAwB4K,IAuB3CvC,EAAK2E,MApBV,qBAAKhN,UAAU,aAAf,SACE,qBAAKZ,IAAK0N,EAAK1M,IAAI,OAAOC,QAAQ,WAmBJ,wBAC5B,cAAC,GAAD,CACE0I,UAAWA,EACXsD,aAAcA,EACdE,eAAgB,kBAAMN,GAAoBU,MAE3CjB,EACC,cAAC,IAAD,CACE1L,UAAU,gBACV+B,QA/CoB,kBAAMsJ,GAAiBzE,MAkD7C,wBAEF,cAAC,GAAD,CACEA,aAAcA,EACdI,YAAaqE,EACbvE,SAAUuB,EACVhF,KAAMtC,EACNkG,QAASA,EACTC,SAAUA,EACVE,gBAAiBA,EACjBC,eAAgBA,EAChBF,WAAYkB,EAAK6B,OAAOzG,IACxBoD,QAAM,OAGV,cAAC,GAAD,CACExD,KAAMtC,EACNsH,KAAMA,EAAK5E,IACXqF,aAAcA,EACd9F,SAAU,kBAAM6G,EAASxD,QAAQwF,WAEnC,qBAAK7L,UAAU,WAAf,SACGqI,EAAK/B,SAASZ,KAAI,SAACmD,GAAD,OACjB,8BACE,cAAC,GAAD,CACEA,QAASA,EACT9H,YAAaA,EACbkG,QAASA,EACTC,SAAUA,EACVC,WAAYkB,EAAK6B,OAAOzG,IACxB2D,gBAAiBA,EACjBjG,IAAKA,KARC0H,EAAQpF,UAatB,cAAC,GAAD,CACE1C,YAAaA,EACb+G,OAAQO,EAAK5E,IACb0D,WAAYkB,EAAK6B,OAAOzG,IACxBwD,QAASA,EACTC,SAAUA,EACV2C,SAAUA,EACVzC,gBAAiBA,EACjB6E,mBAAoB,kBAAMA,GAAmB,IAC7C7M,IAAKA,EACL+B,IAAKA,QC5OP8L,GAAerO,IAAOC,IAAV,03BAoFHqO,I,GAAAA,GArCf,WACE,OACE,cAACD,GAAD,CAAcjN,UAAU,UAAU6B,GAAG,cAArC,SACE,eAAC,gBAAD,CAAesL,MAAO,UAAWC,eAAgB,UAAjD,UACE,sBAAKpN,UAAU,cAAf,UACE,cAAC,IAAD,CAAUC,OAAO,OAAOC,OAAQ,GAAIC,MAAO,GAAIH,UAAU,QACzD,sBAAKA,UAAU,eAAf,UACE,cAAC,IAAD,CAAUA,UAAU,WACpB,cAAC,IAAD,CAAUA,UAAU,oBAGxB,cAAC,IAAD,CAAUA,UAAU,OAAOqN,MAAO,IAClC,sBAAKrN,UAAU,WAAf,UACE,sBAAKA,UAAU,UAAf,UACE,cAAC,IAAD,CAAUC,QAAQ,EAAMC,OAAQ,GAAIC,MAAO,KAC3C,qBAAKH,UAAU,aAAf,SACE,cAAC,IAAD,CAAUE,OAAQ,GAAIC,MAAO,WAGjC,sBAAKH,UAAU,UAAf,UACE,cAAC,IAAD,CAAUC,QAAQ,EAAMC,OAAQ,GAAIC,MAAO,KAC3C,qBAAKH,UAAU,aAAf,SACE,cAAC,IAAD,CAAUE,OAAQ,GAAIC,MAAO,WAGjC,sBAAKH,UAAU,UAAf,UACE,cAAC,IAAD,CAAUC,QAAQ,EAAMC,OAAQ,GAAIC,MAAO,KAC3C,qBAAKH,UAAU,aAAf,SACE,cAAC,IAAD,CAAUE,OAAQ,GAAIC,MAAO,oBC1ErCmN,GAAa1O,IAAOC,IAAV,6JAUV0O,GACJ,qCACE,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,OA6BWC,I,GAAAA,GAzBf,YAAqE,IAArDtG,EAAoD,EAApDA,SAAUuG,EAA0C,EAA1CA,MAAOC,EAAmC,EAAnCA,SAAUtO,EAAyB,EAAzBA,IAAK2B,EAAoB,EAApBA,YAAaI,EAAO,EAAPA,IAC3D,OACE,cAACmM,GAAD,CAAYtN,UAAU,YAAtB,SACGyN,EACC,qBAAKzN,UAAU,OAAf,SACGyN,EAAM/H,KAAI,SAAC2C,GAAD,OACT,qBAAoBrI,UAAU,YAA9B,SACE,cAAC,GAAD,CACEqI,KAAMA,EACNpB,QAASyG,EACTxG,SAAUA,EACV9H,IAAKA,EACL2B,YAAaA,EACbI,IAAKA,KAPCkH,EAAK5E,UAanB8J,M,kBCpCFI,GAAmB/O,IAAOyF,OAAV,4WACT,qBAAGuJ,SAA2B,OAAS,UAqErCC,I,GAAAA,GA9Cf,YAA6E,IAAjDC,EAAgD,EAAhDA,WAAY/M,EAAoC,EAApCA,YAAagN,EAAuB,EAAvBA,UAAWH,EAAY,EAAZA,SAAY,EAC5CtO,oBAAS,GADmC,mBACnE0O,EADmE,KAC1DC,EAD0D,iDAG1E,4BAAAtO,EAAA,6DACQyF,EAAOC,KAAKC,UAAU,CAAEwI,aAAYI,SAAUnN,IADtD,SAGQnB,MAAM,yDAA0D,CACpE2F,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BJ,SANJ,OASE6I,GAAW,GATb,4CAH0E,sBAiC1E,OACE,cAACN,GAAD,CACE5L,QAnCsE,2CAoCtEoM,SAAUH,EACVJ,SAAUA,EACV5N,UAAWgO,EAAU,UAAY,GACjCnM,GAAIkM,EAAY,UAAY,GAL9B,SAOGC,EAfD,qCACE,cAAC,KAAD,CAAehO,UAAU,SACzB,mBAAGA,UAAU,MAAb,mCAXF,qCACE,cAAC,KAAD,CAAeA,UAAU,SACzB,mBAAGA,UAAU,MAAb,8BCzCFoO,GAAgBxP,IAAO8K,KAAV,wzEAsBNxL,EAAOM,KAkCAN,EAAOM,KA+BPN,EAAOE,MA+Bf,qBAAG+C,IAAiB,MAAQ,SAK1B,qBAAGA,IAAiB,MAAQ,SAK5B,qBAAGA,IAAiB,MAAQ,WAIpCR,GAAU,IAAIC,IAoHLyN,I,GAAAA,GAlHf,YAQI,IAPFhL,EAOC,EAPDA,KACAiL,EAMC,EANDA,UACAC,EAKC,EALDA,QACAtH,EAIC,EAJDA,QACA9H,EAGC,EAHDA,gBACAqP,EAEC,EAFDA,UACAC,EACC,EADDA,YACC,EAC2BnP,mBAAS,MADpC,mBACMoP,EADN,KACeC,EADf,OAEqBrP,mBAAS,MAF9B,mBAEMF,EAFN,KAEWI,EAFX,OAGuBF,mBAAS,IAHhC,mBAGMQ,EAHN,KAGY8O,EAHZ,OAImCtP,oBAAS,GAJ5C,mBAIMoH,EAJN,KAIkBa,EAJlB,KAKKC,EAAQ7G,GAAQ8G,IAAI,SAOpBoH,EAAY,uCAAG,WAAOxN,GAAP,mBAAA1B,EAAA,yDACnB0B,EAAEyI,iBAEG4E,EAHc,wDAKnBnH,GAAc,IAERuH,EAAW,IAAIC,UACZC,OAAO,OAAQN,GACxBI,EAASE,OAAO,OAAQlP,GAElBmP,EAXa,UAWCV,EAAU,UAAY,QAXvB,YAYjBE,EAAc,UAAY,OAZT,YAafpL,GACE6L,EAda,4DAc8CD,GAd9C,UAgBbrP,MAAMsP,EAAK,CACf3J,OAAQ,OACRH,KAAM0J,EACNtJ,QAAS,CACPuC,cAAc,UAAD,OAAYP,MAG1BQ,KAPG,uCAOE,WAAOnI,GAAP,eAAAF,EAAA,sEACeE,EAAIkF,OADnB,OACEhF,EADF,OAEAwO,EAASpP,GAAgB,GACxB8H,EAAQlH,GAEboP,IACA5H,GAAc,GANV,2CAPF,uDAeHU,OAAM,SAACC,GAAD,OAASC,QAAQC,MAAMF,MA/Bb,4CAAH,sDAkCZiH,EAAe,WACnBb,IACAK,EAAS,MACTnP,EAAO,MACPoP,EAAQ,KAKV,OACE,eAACR,GAAD,CACEvM,GAAG,WACHyI,SAAUuE,EACVO,QAAQ,sBACRpP,UAAU,kBACVmB,IAAKoN,EALP,UAOE,uBACE5K,KAAK,OACL0L,KAAMb,EAAY,YAAc,OAChC3M,GAAI2M,EAAY,YAAc,OAC9Bc,OAAO,oBACPC,SA7DiB,SAAClO,GACtBsN,EAAStN,EAAEC,OAAOkO,MAAM,IACxBhQ,EAAOiQ,IAAIC,gBAAgBrO,EAAEC,OAAOkO,MAAM,MA4DtCxP,UAAU,oBAEZ,wBACE2P,QAASnB,EAAY,YAAc,OACnCxO,UAAU,kBAFZ,UAIE,cAAC,IAAD,CAAeA,UAAU,qCACzB,mBAAGA,UAAU,6BAAb,gCAEDuO,EACC,wBAEA,uBACE5K,KAAK,OACL9B,GAAG,iBACH2I,YAAY,uBACZ+E,SAhCkB,SAAClO,GAAD,OAAOuN,EAAQvN,EAAEC,OAAO0I,QAiC1CA,MAAOlK,EACPE,UAAU,oBAGd,qBAAKZ,IAAKA,EAAKgB,IAAI,GAAGJ,UAAU,oBAChC,uBACE2D,KAAK,SACLqG,MAAOuE,EAAU,yBAA2B,OAC5CvO,UAAU,kBACVmO,SAAUzH,IAEZ,cAAC,GAAD,CAAS1G,UAAU,UAAUU,IAAKgG,IAClC,yBAAQ7E,GAAG,MAAME,QAASoN,EAAcnP,UAAU,kBAAlD,UACE,yBACA,gCCrPFyG,GAAc7H,IAAOC,IAAV,uTACJ,qBAAG6B,IAAiB,OAAS,UAwD3BkP,I,GAAAA,GAvCf,YASI,IARFC,EAQC,EARDA,OACAxM,EAOC,EAPDA,KACA3C,EAMC,EANDA,IACA6N,EAKC,EALDA,QACAtH,EAIC,EAJDA,QACA9H,EAGC,EAHDA,gBACAqP,EAEC,EAFDA,UACAC,EACC,EADDA,YAEMrN,EAAiB,SAACC,GACG,SAArBA,EAAEC,OAAOwO,UACT,YAAIzO,EAAEC,OAAOC,WAAWC,SAAS,oBACjCd,GAAKmP,MAWX,OARAnQ,qBAAU,WAGR,OAFAuC,OAAON,iBAAiB,QAASP,GAE1B,WACLa,OAAOL,oBAAoB,QAASR,OAKtC,cAAC,GAAD,CAAaV,IAAKA,EAAlB,SACE,cAAC,GAAD,CACE2C,KAAMA,EACNiL,UAAWuB,EACXtB,QAASA,EACTtH,QAASA,EACT9H,gBAAiBA,EACjBqP,UAAWA,EACXC,YAAaA,O,SChDfL,GAAgBxP,IAAO8K,KAAV,m6EAsBNxL,EAAOM,KAkCAN,EAAOM,KAsCPN,EAAOE,MA8CrBuC,GAAU,IAAIC,IAmFLmP,I,GAAAA,GAjFf,YAA2D,IAAlC1M,EAAiC,EAAjCA,KAAMiL,EAA2B,EAA3BA,UAAW0B,EAAgB,EAAhBA,aAAgB,EAC5B1Q,mBAAS,MADmB,mBACjDoP,EADiD,KACxCC,EADwC,OAElCrP,mBAAS,MAFyB,mBAEjDF,EAFiD,KAE5CI,EAF4C,OAGpBF,oBAAS,GAHW,mBAGjDoH,EAHiD,KAGrCa,EAHqC,KAIlDC,EAAQ7G,GAAQ8G,IAAI,SAOpBoH,EAAY,uCAAG,WAAOxN,GAAP,iBAAA1B,EAAA,yDACnB0B,EAAEyI,iBAEG4E,EAHc,wDAKnBnH,GAAc,IAERuH,EAAW,IAAIC,UACZC,OAAO,OAAQN,GAElBQ,EAVa,mEAUqD7L,GAVrD,SAYbzD,MAAMsP,EAAK,CACf3J,OAAQ,OACRH,KAAM0J,EACNtJ,QAAS,CACPuC,cAAc,UAAD,OAAYP,MAG1BQ,KAPG,uCAOE,WAAOnI,GAAP,eAAAF,EAAA,sEACeE,EAAIkF,OADnB,OACEhF,EADF,OAGJiQ,EAAajQ,EAAKX,KAClB+P,IACA5H,GAAc,GALV,2CAPF,uDAcHU,OAAM,SAACC,GAAD,OAASC,QAAQC,MAAMF,MA1Bb,2CAAH,sDA6BZiH,EAAe,WACnBb,IACAK,EAAS,MACTnP,EAAO,OAGT,OACE,eAAC,GAAD,CACEqC,GAAG,WACHyI,SAAUuE,EACVO,QAAQ,sBACRpP,UAAU,kBAJZ,UAME,uBACE2D,KAAK,OACL0L,KAAK,cACLxN,GAAG,cACHyN,OAAO,oBACPC,SAAU,SAAClO,GAAD,OApDQmO,EAoDc,YAAInO,EAAEC,OAAOkO,OAnDjDb,EAASa,EAAM,SACfhQ,EAAOiQ,IAAIC,gBAAgBF,EAAM,KAFZ,IAACA,GAqDlBxP,UAAU,oBAEZ,wBAAO2P,QAAQ,cAAc3P,UAAU,kBAAvC,UACE,cAAC,IAAD,CAAeA,UAAU,mDACzB,mBAAGA,UAAU,oCAAb,gCAEF,qBAAKZ,IAAKA,EAAKgB,IAAI,UAAUJ,UAAU,mCACvC,uBACE2D,KAAK,SACLqG,MAAM,qBACNhK,UAAU,kBACVmO,SAAUzH,IAEZ,cAAC,GAAD,CAAS1G,UAAU,UAAUU,IAAKgG,IAClC,yBAAQ7E,GAAG,MAAME,QAASoN,EAAcnP,UAAU,kBAAlD,UACE,yBACA,gCC5NFiQ,GAAerR,IAAOC,IAAV,uTACL,qBAAG6B,IAAiB,OAAS,UA2C3BwP,I,GAAAA,GA1Bf,YAA8D,IAAvCxP,EAAsC,EAAtCA,IAAK4N,EAAiC,EAAjCA,UAAWjL,EAAsB,EAAtBA,KAAM2M,EAAgB,EAAhBA,aACrC5O,EAAiB,SAACC,GACG,SAArBA,EAAEC,OAAOwO,UACT,YAAIzO,EAAEC,OAAOC,WAAWC,SAAS,oBACjCd,GAAK4N,MAWX,OARA5O,qBAAU,WAGR,OAFAuC,OAAON,iBAAiB,QAASP,GAE1B,WACLa,OAAOL,oBAAoB,QAASR,OAKtC,cAAC6O,GAAD,CAAcvP,IAAKA,EAAnB,SACE,cAAC,GAAD,CACE4N,UAAWA,EACXjL,KAAMA,EACN2M,aAAcA,OChChBG,GAAevR,IAAOC,IAAV,ssDAwBA,qBAAGE,GAAe,UAAY,aAOnC,qBAAGA,GAAe,OAAS,UAiDzB,qBAAG6O,SAA2B,OAAS,UAKpC,qBAAG7O,GAAeb,EAAOI,MAAQJ,EAAOE,OAIlCF,EAAOE,MAKJ,qBAAGW,GAAe,KAAO,OAiHrCqR,OAlGf,SAAuB9N,GAAQ,IAE3BvB,EAWEuB,EAXFvB,YACA1B,EAUEiD,EAVFjD,OACAgR,EASE/N,EATF+N,OACApR,EAQEqD,EARFrD,UACAC,EAOEoD,EAPFpD,YACAC,EAMEmD,EANFnD,gBACA+B,EAKEoB,EALFpB,SACAoP,EAIEhO,EAJFgO,kBACAC,EAGEjO,EAHFiO,eACAC,EAEElO,EAFFkO,UACAR,EACE1N,EADF0N,aAZ0B,EAeD1Q,oBAAS,GAfR,mBAerBwB,EAfqB,KAeX2P,EAfW,OAgBMnR,oBAAS,GAhBf,mBAgBrBoR,EAhBqB,KAgBVC,EAhBU,KAkBtBC,EAAoB,kBAAMD,GAAcD,IAExCnD,EACJ,cAAC,gBAAD,CAAeJ,MAAO,UAAWC,eAAgB,UAAjD,SACE,cAAC,IAAD,CAAUlN,OAAQ,WAIhB2Q,EACJ,qBACEzR,IAAK,qDAAuDoR,EAC5DpQ,IAAI,mBAIF0Q,EACJ,qBAAK9Q,UAAU,gBAAgB+B,QAAS6O,EAAxC,SACE,cAAC,KAAD,MAIEG,EAAyB,OAAdP,QAAoCQ,IAAdR,EAEvC,OACE,eAACL,GAAD,CACEpR,GAAIE,EACJ2O,SAAU7M,IAAgB1B,EAC1BW,UAAU,iBAHZ,UAKE,sBAAKA,UAAU,SAAf,UACGX,IAAW0B,EAAc+P,EAAiB,wBAC1CC,EAAWxD,EAASsD,KAEvB,cAAC,GAAD,CACEnQ,IAAKgQ,EACLpC,UAAWsC,EACXvN,KAAMtC,EACNiP,aAAcA,IAEhB,sBAAKhQ,UAAU,MAAf,UACE,cAAC,EAAD,CACElB,KAAM,QACNM,IAAKiR,EACLhR,OAAQ0B,EACR9B,UAAWA,EACXC,YAAaA,EACbC,gBAAiBA,IAEnB,cAAC,KAAD,CACEa,UAAU,gBACV+B,QAAS,WACHhB,IAAgB1B,GAAQoR,GAAQ3P,SAI1C,qBAAKd,UAAU,YAAf,SACE,6BAAKkB,GAAY,cAAC,IAAD,CAAUf,MAAO,UAEnCoQ,EACC,wBAEA,cAAC,GAAD,CACEzC,WAAYzO,EACZ0B,YAAaA,EACbgN,UAAWuC,EACX1C,SAAU7M,IAAgB1B,EAC1BkR,eAAgBA,IAGpB,cAAC,GAAD,CACE7P,IAAKI,EACLuC,KAAMtC,EACN8O,OAAQ,kBAAMY,GAAQ3P,IACtB3B,gBAAiBA,EACjBoP,SAAO,QCjMA0C,OAff,YAAkD,IAA7BC,EAA4B,EAA5BA,eAAgBlO,EAAY,EAAZA,SACnC,OACE,sBAAKhD,UAAU,aAAf,UACE,sBAAKA,UAAU,YAAY+B,QAASmP,EAApC,UACE,cAAC,IAAD,IACA,mBAAGrP,GAAG,iBAAN,sBAEF,sBAAK7B,UAAU,YAAY+B,QAASiB,EAApC,UACE,cAAC,KAAD,IACA,mBAAGnB,GAAG,iBAAN,yBCqBOsP,I,GAAAA,GA/Bf,SAAc7O,GAAQ,IAElBuM,EAMEvM,EANFuM,aACAzP,EAKEkD,EALFlD,IACA2B,EAIEuB,EAJFvB,YACAqQ,EAGE9O,EAHF8O,kBACAtR,EAEEwC,EAFFxC,KACAuR,EACE/O,EADF+O,QAGF,OACE,uBAAM/G,SAAUuE,EAAc7O,UAAU,WAAxC,UACE,sBAAKA,UAAU,OAAf,UACE,qBAAKA,UAAU,MAAf,SACE,cAAC,EAAD,CAAgBZ,IAAKA,EAAKC,OAAQ0B,EAAajC,KAAM,WAEvD,uBACE6E,KAAK,OACL4L,SAAU6B,EACVpH,MAAOlK,EACPyK,IAAK8G,IAEP,qBAAKrR,UAAU,cAAc6B,GAAI/B,EAAO,QAAU,IAAlD,qCAIF,wDCrBAwR,GAAmB1S,IAAOC,IAAV,wpEACN,gBAAGE,EAAH,EAAGA,GAAIwS,EAAP,EAAOA,EAAP,OAAgBxS,EAAK,OAASwS,KACxB,gBAAGxS,EAAH,EAAGA,GAAIwS,EAAP,EAAOA,EAAGC,EAAV,EAAUA,EAAV,OAAmBzS,EAAKwS,EAAIC,KA2BhC,qBAAGzS,GAAe,UAAY,aAQnC,qBAAGA,GAAe,OAAS,UAc3B,gBAAGA,EAAH,EAAGA,GAAIwS,EAAP,EAAOA,EAAGC,EAAV,EAAUA,EAAV,OAAmBzS,EAAKwS,EAAIC,KAU5B,gBAAGzS,EAAH,EAAGA,GAAIwS,EAAP,EAAOA,EAAGC,EAAV,EAAUA,EAAV,OAAmBzS,EAAKwS,EAAIC,KAU5B,gBAAGzS,EAAH,EAAGA,GAAIwS,EAAP,EAAOA,EAAGC,EAAV,EAAUA,EAAV,OAAmBzS,EAAKwS,EAAIC,KA0CnC7Q,GAAU,IAAIC,IA2FL6Q,I,GAAAA,GAzFf,YASI,IARFvT,EAQC,EARDA,OACAmT,EAOC,EAPDA,QACAtQ,EAMC,EANDA,YACA9B,EAKC,EALDA,UACAgI,EAIC,EAJDA,QACAC,EAGC,EAHDA,SACA9H,EAEC,EAFDA,IACAqP,EACC,EADDA,YACC,EACuBnP,mBAAS,IADhC,mBACMQ,EADN,KACY8O,EADZ,OAEkCtP,oBAAS,GAF3C,mBAEMwB,EAFN,KAEgB4Q,EAFhB,KAGOvT,EAAoCD,EAApCC,MAAOC,EAA6BF,EAA7BE,KAAME,EAAuBJ,EAAvBI,MAAOC,EAAgBL,EAAhBK,IAAKF,EAAWH,EAAXG,OAC3BmJ,EAAQ7G,GAAQ8G,IAAI,SAIpByJ,EAAiB,kBAAMQ,GAAgB5Q,IAR5C,4CAUD,WAA4BO,GAA5B,qBAAA1B,EAAA,yDACE0B,EAAEyI,iBAGGhK,EAJP,wDAMQgP,EAAW,CAAE5H,WAAUpH,QACvB+H,EAAUxC,KAAKC,UAAUwJ,GAPjC,SAWoBlP,MAAM,uDAEtB,CACE2F,OAAQ,OACRC,QAAS,CACP,eAAgB,mBAChBuC,cAAc,UAAD,OAAYP,IAE3BpC,KAAMyC,IAnBZ,cAWQhI,EAXR,iBAuBqBA,EAAIkF,OAvBzB,QAuBQhF,EAvBR,OAwBEkH,EAAQlH,GAER6O,EAAQ,IACRyC,EAAQhL,QAAQsL,OA3BlB,6CAVC,sBA8CD,OACE,mCACE,eAACL,GAAD,CACEM,EAAGrT,EACHsT,EAAGxT,EACHyT,EAAG3T,EACHoT,EAAGnT,EACHoT,EAAGlT,EACHS,GAAIE,EACJ8S,YAf6B,KAATjS,EAgBpBE,UAAU,mBARZ,UAUE,cAAC,GAAD,CACE6O,aA3DP,4CA4DOzP,IAAKA,EACL2B,YAAaA,EACbqQ,kBApBkB,SAAC/P,GACzBuN,EAAQvN,EAAEC,OAAO0I,QAoBXlK,KAAMA,EACNuR,QAASA,IAEX,cAAC,GAAD,CAAWH,eAAgBA,EAAgBlO,SA5DhC,kBAAMqO,EAAQhL,QAAQwF,WA6DjC,cAAC,GAAD,CACEgE,OAAQqB,EACR7N,KAAMtC,EACNL,IAAKI,EACLmG,QAASA,EACTuH,WAAS,EACTC,YAAaA,UCxMjBuD,GAAapT,IAAOC,IAAV,g/BACA,qBAAGI,UAA6Bf,EAAOI,MAAQJ,EAAOE,QAGhE,qBAAGa,UAA6Bf,EAAOE,KAAOF,EAAOI,SAwE5C2T,I,GAAAA,GAnBf,YAA4C,IAAtBC,EAAqB,EAArBA,OAAQjT,EAAa,EAAbA,UACtBG,EACJ,qDACA8S,EAAOxO,gBAET,OACE,cAACsO,GAAD,CAAY/S,UAAWA,EAAvB,SACE,eAAC,IAAD,CAAM6C,GAAE,gBAAWoQ,EAAOzO,KAAOzD,UAAU,OAA3C,UACE,qBAAKA,UAAU,QAAf,SACE,qBAAKZ,IAAKA,EAAKgB,IAAI,aAErB,qBAAKJ,UAAU,SAAf,SACE,6BAAKkS,EAAO3O,UAAY,IAAM2O,EAAO1O,mBCrEzC2O,GAAgBvT,IAAO4F,GAAV,kuCAWH,qBAAGzF,GAAe,OAASb,EAAOE,QAC5B,qBAAGW,GAAeb,EAAOE,KAAOF,EAAOI,SAiE9C8T,OAjBf,YAA8C,IAAvBC,EAAsB,EAAtBA,QAASpT,EAAa,EAAbA,UACxBqT,EAAaD,EAAQ3M,KAAI,SAACwM,GAC9B,OACE,6BACE,cAAC,GAAD,CAAYA,OAAQA,EAAQjT,UAAWA,KADhCiT,EAAOzO,QAMpB,OACE,eAAC0O,GAAD,CAAepT,GAAIE,EAAWe,UAAU,mBAAxC,UACE,qBAAIA,UAAU,QAAd,uBAAiCqS,EAAQ1M,OAAzC,QACoB,IAAnB0M,EAAQ1M,OAAe,wBAAU2M,MCoBzBC,I,GAAAA,GAzFf,YASI,IARFrU,EAQC,EARDA,OACAe,EAOC,EAPDA,UACAoE,EAMC,EANDA,KACAtC,EAKC,EALDA,YACAI,EAIC,EAJDA,IACAkQ,EAGC,EAHDA,QACAnS,EAEC,EAFDA,YACAC,EACC,EADDA,gBAEMqT,EAAQC,cACRpT,EAASgE,GAAQmP,EAAME,OAAOrT,OAFnC,EAG+BC,mBAAS,MAHxC,mBAGM4B,EAHN,KAGgByR,EAHhB,OAIyBrT,mBAAS,IAJlC,mBAIMmO,EAJN,KAIaC,EAJb,OAK4CpO,mBAAS,MALrD,mBAKMgR,EALN,KAKyBsC,EALzB,OAO2BtT,mBAAS,MAPpC,mBAOM+Q,EAPN,KAOcwC,EAPd,OAQ6BvT,mBAAS,IARtC,mBAQM+S,EARN,KAQeS,EARf,OAS2CxT,mBAAS,MATpD,mBASMiR,EATN,KASsBwC,EATtB,OAUiCzT,mBAAS,MAV1C,mBAUMkR,EAVN,KAUiBR,EAVjB,KAuCD,OA3BAtQ,qBAAU,YACR,uCAAC,8BAAAC,EAAA,sEAC4BC,MAAM,oDAAD,OACsBP,IAFvD,cACO2T,EADP,gBAIoBA,EAAajO,OAJjC,OAIOhF,EAJP,OAMC6S,EAAgB7S,EAAKkT,eAAezR,SAAST,IAC7C4R,EAAY5S,EAAKwD,UAAY,IAAMxD,EAAKyD,UACxCqP,EAAU9S,EAAK2D,iBACfsM,EAAajQ,EAAKyQ,WAClBsC,EAAW/S,EAAKsS,SAChBU,EAAkBhT,EAAKsS,QAAQ3M,KAAI,SAACwN,GAAD,OAAQA,EAAGzP,OAAKjC,SAAST,IAX7D,4CAAD,yDAaC,CAAC1B,EAAQ0B,IAEZrB,qBAAU,YACR,uCAAC,8BAAAC,EAAA,sEACwBC,MAAM,2DAAD,OACiCP,IAF9D,cACOuI,EADP,gBAKoBA,EAAS7C,OAL7B,OAKOhF,EALP,OAMC2N,EAAS3N,GANV,2CAAD,yDAQC,CAACV,IAGF,qCACE,cAAC,GAAD,CACE0B,YAAaA,EACb1B,OAAQA,EACRgR,OAAQA,EACRpR,UAAWA,EACXC,YAAaA,EACbC,gBAAiBA,EACjB+B,SAAUA,EACVoP,kBAAmBA,EACnBC,eAAgBA,EAChBC,UAAWA,EACXR,aAAcA,IAEhB,cAAC,GAAD,CAAaqC,QAASA,EAASpT,UAAWA,IACzC8B,IAAgB1B,EACf,cAAC,GAAD,CACEnB,OAAQA,EACR6C,YAAaA,EACb9B,UAAWA,EACXgI,QAASyG,EACTtO,IAAK+B,EACLkQ,QAASA,EACT5C,aAAW,IAGb,wBAEF,cAAC,GAAD,CACEpL,KAAMhE,EACNoO,MAAOA,EACPC,SAAUA,EACVtO,IAAKiR,EACLtP,YAAaA,EACbI,IAAKA,QClFP6Q,GAAapT,IAAOC,IAAV,4lCA4BIX,EAAOM,MAoIZ2U,OAlFf,YAAgE,IAoD9CC,EApDE/P,EAA2C,EAA3CA,KAAMgQ,EAAqC,EAArCA,UAAWtS,EAA0B,EAA1BA,YAAauS,EAAa,EAAbA,UAAa,EAC5BhU,oBAAS,GADmB,mBACtDiU,EADsD,KAC3CC,EAD2C,OAEnClU,mBAAS,iBAF0B,mBAEtDmU,EAFsD,KAE/CC,EAF+C,KAGvDC,EAAQ,UAAMtQ,EAAKE,UAAX,YAAwBF,EAAKG,UAHkB,SAK9CoQ,IAL8C,2EAK7D,gCAAAjU,EAAA,6DACQuO,EAAW7K,EAAKI,IAChBoQ,EAAa9S,EACbqE,EAAOC,KAAKC,UAAU,CAAE4I,WAAU2F,eAH1C,SAKQjU,MAAM,4DAA6D,CACvE2F,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BJ,SARJ,OAWEsO,EAAS,aACTF,GAAY,GAZd,4CAL6D,+BAoB9CM,IApB8C,2EAoB7D,gCAAAnU,EAAA,6DACQuO,EAAW7K,EAAKI,IAChBsQ,EAAWhT,EACXqE,EAAOC,KAAKC,UAAU,CAAE4I,WAAU6F,aAH1C,SAKQnU,MAAM,0DAA2D,CACrE2F,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BJ,SARJ,OAWEsO,EAAS,aACTF,GAAY,GAZd,4CApB6D,sBA4D7D,OACE,eAAC,GAAD,CAAY3R,GAAG,YAAf,UACE,qBAAK7B,UAAU,MAAf,SACE,cAAC,IAAD,CAAM8B,GAAE,iBAAYuB,EAAKI,KAAzB,SACE,cAAC,EAAD,CACErE,IAAKiE,EAAKK,gBACVrE,OAAQgE,EAAKI,IACb3E,KAAM,aAIZ,sBAAKkB,UAAU,YAAf,UACE,cAAC,IAAD,CAAM8B,GAAE,gBAAWuB,EAAKI,KAAxB,SACG,6BAAKkQ,KAAkB,cAAC,IAAD,MAEzBN,GAvBSD,EAuBUC,EArBtB,mBAAGrT,UAAU,eAAb,mBAAgCoT,EAAhC,yBACEA,EAAM,EAAI,IAAM,OAoBiB,qBAAKpT,UAAU,WAC/CsT,EAxCL,sBAAKtT,UAAU,WAAf,UACE,wBAAQ6B,GAAI4R,EAAO1R,QAAS6R,EAAwBzF,SAAUoF,EAA9D,qBAGA,wBAAQ1R,GAAI4R,EAAO1R,QAAS+R,EAAoB3F,SAAUoF,EAA1D,qBAOF,qBAAK1R,GAAG,UAAR,SACE,cAAC,GAAD,CAAkBiM,WAAYzK,EAAKI,IAAK1C,YAAaA,aCnH5CiT,OAjBf,YAA4E,IAAhDjT,EAA+C,EAA/CA,YAAakT,EAAkC,EAAlCA,KAAMC,EAA4B,EAA5BA,SAAUC,EAAkB,EAAlBA,eACvD,OACE,mCACGF,GACCA,EAAKvO,KAAI,SAACrC,GAAD,OACP,6BACE,cAAC,GAAD,CACEA,KAAMA,EACNgQ,UAAWc,EAAeD,EAAU7Q,GACpCtC,YAAaA,EACbuS,WAAS,KALJjQ,EAAKI,WCYT2Q,I,GAAAA,GAjBf,YAA6E,IAAjDrT,EAAgD,EAAhDA,YAAasT,EAAmC,EAAnCA,MAAOH,EAA4B,EAA5BA,SAAUC,EAAkB,EAAlBA,eACxD,OACE,mCACGE,GACCA,EAAM3O,KAAI,SAACrC,GAAD,OACR,6BACE,cAAC,GAAD,CACEA,KAAMA,EACNgQ,UAAWc,EAAeD,EAAU7Q,GACpCtC,YAAaA,KAJRsC,EAAKI,WCFlB6Q,GAAc1V,IAAO4F,GAAV,8RA8DF+P,OA/Cf,YAAiC,IAAhBxT,EAAe,EAAfA,YAAe,EACJzB,mBAAS,MADL,mBACvB+U,EADuB,KAChBG,EADgB,OAEUlV,mBAAS,MAFnB,mBAEvBmV,EAFuB,KAETC,EAFS,OAGMpV,mBAAS,MAHf,mBAGvBqV,EAHuB,KAGXC,EAHW,KAK9BlV,qBAAU,YACR,uCAAC,oCAAAC,EAAA,6DACOuP,EAAM,6CADb,SAE8BtP,MAAM,GAAD,OAAIsP,EAAJ,kBAAiBnO,IAFpD,cAEO8T,EAFP,gBAGqBjV,MAAM,GAAD,OAAIsP,EAAJ,6BAA4BnO,IAHtD,cAGOsT,EAHP,gBAIwBzU,MAAM,GAAD,OAAIsP,EAAJ,4BAA2BnO,IAJxD,OAIO+T,EAJP,OAMOC,EAAa,CAACF,EAAe9P,OAAQsP,EAAMtP,OAAQ+P,EAAS/P,QAElEiQ,QAAQC,IAAIF,GAAY/M,MAAK,SAACjI,GAAU,IAAD,cACFA,EADE,GAC9BmV,EAD8B,KACpBb,EADoB,KACbc,EADa,KAGrCP,EAAcM,GACdV,EAASH,GACTK,EAAgBS,MAbnB,4CAAD,yDAgBC,CAACpU,IAEJ,IAAMqU,EAAuB,SAACC,EAAMhS,GAClC,OAAOgS,EAAKhD,QAAQiD,QAAO,SAACpD,GAAD,OAAY7O,EAAKgP,QAAQ7Q,SAAS0Q,EAAOzO,QACjEkC,QAGL,OACE,eAAC2O,GAAD,WACE,cAAC,GAAD,CACEvT,YAAaA,EACbkT,KAAMQ,EACNP,SAAUS,EACVR,eAAgBiB,IAElB,cAAC,GAAD,CACErU,YAAaA,EACbsT,MAAOA,EACPH,SAAUS,EACVR,eAAgBiB,QCPTG,OAjDf,YAA6D,IAAzCxU,EAAwC,EAAxCA,YAAa9B,EAA2B,EAA3BA,UAAWoS,EAAgB,EAAhBA,QAASlQ,EAAO,EAAPA,IAAO,EAChC7B,mBAAS,MADuB,mBACnDmO,EADmD,KAC5CC,EAD4C,OAEjCpO,mBAAS,MAFwB,mBAEnD+Q,EAFmD,KAE3C7Q,EAF2C,KA0B1D,OAtBAE,qBAAU,YACR,uCAAC,8BAAAC,EAAA,sEACwBC,MAAM,yDAAD,OAC+BmB,IAF5D,cACO6G,EADP,gBAKoBA,EAAS7C,OAL7B,OAKOhF,EALP,OAMC2N,EAAS3N,GANV,2CAAD,yDAQC,CAACgB,IAEJrB,qBAAU,YACR,uCAAC,8BAAAC,EAAA,sEACwBC,MAAM,oDAAD,OAC0BmB,IAFvD,cACO6G,EADP,gBAKoBA,EAAS7C,OAL7B,OAKOhF,EALP,OAMCP,EAAOO,EAAK2D,iBANb,2CAAD,yDAQC,CAAC3C,IAGF,qCACE,cAAC,GAAD,CACE7C,OAAQA,EACRmT,QAASA,EACTpS,UAAWA,EACX8B,YAAaA,EACbkG,QAASyG,EACTtO,IAAKiR,EACLnJ,UAAQ,IAEV,cAAC,GAAD,CACEnG,YAAaA,EACb3B,IAAKiR,EACLlP,IAAKA,EACLsM,MAAOA,EACPC,SAAUA,EACVxG,UAAQ,QCvBDsO,I,GAAAA,GAvBf,YAQI,IAPFnS,EAOC,EAPDA,KACApE,EAMC,EANDA,UACAf,EAKC,EALDA,OACAiD,EAIC,EAJDA,IACAkQ,EAGC,EAHDA,QACAnS,EAEC,EAFDA,YACAC,EACC,EADDA,gBAEA,OACE,cAAC,GAAD,CACE4B,YAAasC,EACbA,KAAMA,EACNnF,OAAQA,EACRe,UAAWA,EACXkC,IAAKA,EACLkQ,QAASA,EACTnS,YAAaA,EACbC,gBAAiBA,KClBRsW,GAFI,yCCMXrX,GAAgDF,EAAhDE,KAAMK,GAA0CP,EAA1CO,UAAWC,GAA+BR,EAA/BQ,eAAgBJ,GAAeJ,EAAfI,MAAOC,GAAQL,EAARK,IAE1CkL,GAAa7K,IAAO8K,KAAV,m/DAGH,qBAAGhJ,IAAiB,OAAS,UAItB,qBAAGgG,WAA+B,MAAQ,SAmBpCtI,GAKEK,GAsBRA,GACLH,GAIOI,GAWMN,GAefG,GASAD,IAoBPqC,GAAU,IAAIC,IAqHL8U,I,GAAAA,GAnHf,YAA4D,IAA/BhV,EAA8B,EAA9BA,IAAKmP,EAAyB,EAAzBA,OAAQ8F,EAAiB,EAAjBA,cAAiB,EAC/BrW,mBAAS,IADsB,mBAClDsW,EADkD,KAC3CC,EAD2C,OAE7BvW,mBAAS,IAFoB,mBAElDwW,EAFkD,KAExCC,EAFwC,OAGvBzW,mBAAS,IAHc,mBAGlDiE,EAHkD,KAGvCyS,EAHuC,OAIzB1W,mBAAS,IAJgB,mBAIlDkE,EAJkD,KAIxCyS,EAJwC,OAKzB3W,mBAAS,IALgB,mBAKlD4W,EALkD,KAKxCC,EALwC,OAMrB7W,oBAAS,GANY,mBAMlDoH,EANkD,KAMtCa,EANsC,KAanD6O,EACM,KAAVR,GAA6B,KAAbE,GAAiC,KAAdvS,GAAiC,KAAbC,EAEnD6S,EAAqB,uCAAG,WAAOhV,GAAP,eAAA1B,EAAA,yDAC5B0B,EAAEyI,kBAEEsM,EAHwB,oDAIvBX,GAAWa,KAAKV,GAJO,wDAM5BrO,GAAc,GAER2M,EAAW,CAAE3Q,YAAWC,WAAUoS,QAAOE,YARnB,SAUtBlW,MAAM,uDAAwD,CAClE2F,OAAQ,OACRgR,KAAM,OACN/Q,QAAS,CAAE,eAAgB,oBAC3BJ,KAAMC,KAAKC,UAAU4O,KAEpBlM,KANG,uCAME,WAAOnI,GAAP,mBAAAF,EAAA,sEACeE,EAAIkF,OADnB,OACEhF,EADF,OAEIyH,EAAgBzH,EAAhByH,MAAOnE,EAAStD,EAATsD,KAEXtD,EAAKqI,OACP+N,EAAYpW,EAAKyW,SACjBjP,GAAc,KAEdoO,EAActS,GACd1C,GAAQqB,IAAI,QAASwF,GACrB7G,GAAQqB,IAAI,cAAeqB,IAVzB,2CANF,uDAmBH4E,OAAM,SAACC,GAAD,OAASC,QAAQC,MAAMF,MA7BJ,2CAAH,sDA6C3B,OACE,eAAC,GAAD,CACExH,IAAKA,EACL4J,SAAU+L,EACV3P,WAAYA,EAHd,UAKE,uBACE/C,KAAK,OACL6G,YAAY,aACZ+E,SA5DwB,SAAClO,GAAD,OAAO2U,EAAa3U,EAAEC,OAAO0I,QA6DrDA,MAAOzG,EACPkT,UAAU,KACVC,UAAQ,IAEV,uBACE/S,KAAK,OACL6G,YAAY,YACZ+E,SAnEuB,SAAClO,GAAD,OAAO4U,EAAY5U,EAAEC,OAAO0I,QAoEnDA,MAAOxG,EACPiT,UAAU,KACVC,UAAQ,IAEV,uBACE/S,KAAK,QACL6G,YAAY,QACZ+E,SA9EoB,SAAClO,GAAD,OAAOwU,EAASxU,EAAEC,OAAO0I,QA+E7CA,MAAO4L,EACPa,UAAU,MACVC,UAAQ,IAEV,uBACE/S,KAAK,WACL4L,SApFmB,SAAClO,GAAD,OAAO0U,EAAQ1U,EAAEC,OAAO0I,QAqF3CQ,YAAY,WACZmM,UAAU,IACVF,UAAU,KACVzM,MAAO8L,EACPY,UAAQ,IAETR,EACC,mBAAGlW,UAAU,WAAb,SAAyBkW,IAEzB,qBAAKlW,UAAU,cAEjB,sBAAKA,UAAU,OAAf,UACE,uBAAO2D,KAAK,SAASqG,MAAM,yBAC3B,qBAAKhK,UAAU,WACf,wBAAQ+B,QApDO,WAPnB8T,EAAS,IACTE,EAAQ,IACRC,EAAa,IACbC,EAAY,IACZE,EAAY,IAKZtG,KAkDI,uBAEF,cAAC,GAAD,CAASnP,IAAKgG,EAAY1G,UAAU,gBCnOlC1B,GAAgDJ,EAAhDI,MAAOF,GAAyCF,EAAzCE,KAAMK,GAAmCP,EAAnCO,UAAWC,GAAwBR,EAAxBQ,eAAgBH,GAAQL,EAARK,IAE1CqY,GAAahY,IAAO8K,KAAV,stDACH,qBAAGmN,UAA6B,OAAS,UAIlC,qBAAGnQ,WAA+B,MAAQ,SAkBpCtI,GAKEK,GAsBRA,GACLH,GAIOI,GAWMN,IAQb,qBAAG0Y,OAAuB,OAAS,SAErCvY,GAOAD,IAaPqC,GAAU,IAAIC,IAyFLuQ,I,MAAAA,GAvFf,YAAkC,IAAlBwE,EAAiB,EAAjBA,cAAiB,EACLrW,mBAAS,IADJ,mBACxBsW,EADwB,KACjBC,EADiB,OAEPvW,mBAAS,IAFF,mBAExByX,EAFwB,KAElBhB,EAFkB,OAGMzW,oBAAS,GAHf,mBAGxB0X,EAHwB,KAGTC,EAHS,OAIJ3X,mBAAS,IAJL,mBAIxB4W,EAJwB,KAIdgB,EAJc,OAKiB5X,oBAAS,GAL1B,mBAKxB6X,EALwB,KAKJC,EALI,OAMK9X,oBAAS,GANd,mBAMxBoH,EANwB,KAMZa,EANY,KAQzB8P,EAAuB,kBAAMD,GAAmBD,IAEhDG,EAAW,uCAAG,WAAOjW,GAAP,SAAA1B,EAAA,yDAClB0B,EAAEyI,iBAEY,KAAV8L,GAAyB,KAATmB,EAHF,wDAKlBxP,GAAc,GALI,SAOZ3H,MAAM,mDAAoD,CAC9D2F,OAAQ,OACRgR,KAAM,OACN/Q,QAAS,CAAE,eAAgB,oBAC3BJ,KAAMC,KAAKC,UAAU,CAAEsQ,QAAOmB,WAE7B/O,KANG,uCAME,WAAOnI,GAAP,uBAAAF,EAAA,yDACe,MAAfE,EAAI0X,OADJ,iCAEiB1X,EAAIkF,OAFrB,OAEIhF,EAFJ,OAGIyX,EAAMzX,EAAKqI,MACjB8O,EAAOM,GACPP,GAAY,GACZ1P,GAAc,GANZ,yCAQ4B1H,EAAIkF,OARhC,iBAQMyC,EARN,EAQMA,MAAOnE,EARb,EAQaA,KAEf4T,GAAY,GACZtB,EAActS,GAEd1C,GAAQqB,IAAI,QAASwF,GACrB7G,GAAQqB,IAAI,cAAeqB,GAdzB,4CANF,uDAuBH4E,OAAM,SAACC,GAAD,OAASC,QAAQC,MAAMF,MA9Bd,2CAAH,sDAoCjB,OACE,qCACE,eAAC0O,GAAD,CACEtM,SAAUgN,EACVR,OAAQE,EACRH,UAAWM,EACXzQ,WAAYA,EAJd,UAME,uBACE/C,KAAK,QACLqG,MAAO4L,EACPpL,YAAY,QACZ+E,SAfkB,SAAClO,GAAD,OAAOwU,EAASxU,EAAEC,OAAO0I,QAgB3C0M,UAAQ,IAEV,uBACE/S,KAAK,WACLqG,MAAO+M,EACPxH,SApBiB,SAAClO,GAAD,OAAO0U,EAAQ1U,EAAEC,OAAO0I,QAqBzCQ,YAAY,WACZmM,UAAU,IACVF,UAAU,KACVC,UAAQ,IAEV,mBAAG1W,UAAU,QAAb,SAAsBkW,IACtB,sBAAKlW,UAAU,OAAf,UACE,uBAAO2D,KAAK,SAASqG,MAAM,WAC3B,qBAAKhK,UAAU,WACf,wBAAQ+B,QAASsV,EAAjB,mCAEF,cAAC,GAAD,CAAS3W,IAAKgG,EAAY1G,UAAU,eAEtC,cAAC,GAAD,CACEU,IAAKyW,EACLtH,OAAQwH,EACR1B,cAAeA,QCvLfrX,GAA4BJ,EAA5BI,MAAOH,GAAqBD,EAArBC,MAAOM,GAAcP,EAAdO,UAEhBgZ,GAAYC,YAAH,kEAEGpZ,IAIZqZ,GAAkB/Y,IAAOC,IAAV,4+BAOLP,GAmBHG,GAQAN,GAeEA,IAyCAyZ,I,GAAAA,GA1Bf,YAAwC,IAAnBrV,EAAkB,EAAlBA,eACnB,OACE,qCACE,cAACkV,GAAD,IACA,eAACE,GAAD,WACE,iCACE,2CACA,mFAEF,qBAAK3X,UAAU,OAAf,SACE,cAAC,GAAD,CAAM2V,cAAepT,MAEvB,qBAAKvC,UAAU,QAAf,SACE,mBACEmC,KAAK,yCACLb,OAAO,SACPuW,IAAI,aAHN,SAKE,cAAC,IAAD,eClFJ1Z,GAA0CD,EAA1CC,MAAOC,GAAmCF,EAAnCE,KAAME,GAA6BJ,EAA7BI,MAAOD,GAAsBH,EAAtBG,OAAQG,GAAcN,EAAdM,KAAMD,GAAQL,EAARK,IACpCuZ,GAAcJ,YAAH,8vFAGC,qBAAGnX,MAAqBjC,GAAQH,MACrC,qBAAGoC,MAAqBpC,GAAQG,MAI9B,qBAAGiC,MAAqBpC,GAAQG,MAG3B,qBAAGiC,MAAqBjC,GAAQF,MAIhC,qBAAGmC,MAAqB,UAAY,aAGpC,qBAAGA,MAAqBjC,GAAQF,MACrC,qBAAGmC,MAAqBpC,GAAQG,MACrB,qBAAGiC,MAAqB,OAAS,UAIrC,qBAAGA,MAAqBnC,GAAOE,KAK/BC,IAAM,qBAAGgC,MAAqB,KAAO,QAIvC,qBAAGA,MAAqB,UAAY,aACzC,qBAAGA,MAAqBpC,GAAQG,MAGhC,qBAAGiC,MAAqBnC,GAAOE,MAExB,qBAAGiC,MAAqB,UAAY,aAI3C,qBAAGA,MAAqBpC,GAAQG,MAGhC,qBAAGiC,MAAqB,OAAS,UAGjC,qBAAGA,MAAqBnC,GAAOE,MAC1B,qBAAGiC,MAAqB,UAAY,aAGpC,qBAAGA,MAAqB,UAAY,aACzC,qBAAGA,MAAqBpC,GAAQG,KAIhCA,IACK,qBAAGiC,MAAqB/B,GAAOJ,MAI/B,qBAAGmC,MAAqB,UAAYnC,MAC9B,qBAAGmC,MAAqBnC,GAAOE,MAQrC,qBAAGiC,MAAqB,UAAY,aAGpC,qBAAGA,MAAqBjC,GAAQF,MAC1B,qBAAGmC,MAAqBnC,GAAO,KAAOE,GAAQ,OAGlDE,GAIEA,IAAO,qBAAG+B,MAAqB,KAAO,QAO/C,qBAAGA,MAAqBpC,GAAQG,MAI3B,qBAAGiC,MAAqB,UAAY,aAIpC,qBAAGA,MAAqBjC,GAAQF,MACrC,qBAAGmC,MAAqBpC,GAAQG,MACrB,qBAAGiC,MAAqBnC,GAAO,KAAOE,GAAQ,QAIpD,qBAAGiC,MAAqB,UAAY,aAIzC,qBAAGA,MAAqBpC,GAAQG,MAI3B,qBAAGiC,MAAqBjC,GAAQF,KAIrCE,IASG,qBAAGiC,MAAqB/B,GAAOJ,KACpCE,IAIO,qBAAGiC,MAAqB/B,GAAOH,MACpC,qBAAGkC,MAAqBjC,GAAQH,MA8BzCwC,GAAU,IAAIC,IA8FLmX,I,GAAAA,GA5Ff,WACEpX,GAAQqB,IAAI,QAASrB,GAAQ8G,IAAI,WAAY,GAC7C,IAAMuQ,EAAarX,GAAQ8G,IAAI,eACzBwQ,EAAmC,SAAzBtX,GAAQ8G,IAAI,SAHf,EAIqBnI,mBAAS2Y,GAJ9B,mBAINhZ,EAJM,KAIK+G,EAJL,OAKyB1G,mBACrB,SAAf0Y,EAAwB,KAAOA,GANpB,mBAKNjX,EALM,KAKOwB,EALP,OAQSjD,mBAAS,MARlB,mBAQN6B,EARM,KAQD+W,EARC,OAS0B5Y,oBAAS,GATnC,mBASNJ,EATM,KASOC,EATP,OAUeG,mBAAS,IAVxB,mBAUN4B,EAVM,KAUIiX,EAVJ,KAWP9G,EAAUzF,iBAAO,MAuBvB,OAjBAlM,qBAAU,WACRiB,GAAQqB,IAAI,QAAS/C,KACpB,CAACA,IAEJS,qBAAU,WAAM,4CACd,8BAAAC,EAAA,sEACoBC,MAAM,oDAAD,OAC+BmB,IAFxD,cACQlB,EADR,gBAIqBA,EAAIkF,OAJzB,OAIQhF,EAJR,OAKEmY,EAAOnY,EAAK2D,iBACZyU,EAAQ,GAAD,OAAIpY,EAAKwD,UAAT,YAAsBxD,EAAKyD,WANpC,4CADc,sBAUVzC,GAVW,WAAD,wBAUGqX,KAChB,CAACrX,EAAa7B,IAEZ6B,EAGD,qCACE,cAAC+W,GAAD,CAAavX,MAAOtB,EAAWoE,KAAMtC,IACrC,eAAC,IAAD,WACE,cAAC,GAAD,CACEiF,aAAcA,EACd/G,UAAWA,EACX8B,YAAaA,EACbiC,SA/BO,WACXqO,EAAQhL,SAASgL,EAAQhL,QAAQwF,SA+B7B3K,SAAUA,EACVC,IAAKA,IAEP,eAAC,IAAD,WACE,cAAC,IAAD,CAAOkX,KAAK,SAAZ,SACE,cAAC,GAAD,CAAOtX,YAAaA,MAEtB,cAAC,IAAD,CAAOsX,KAAK,gBAAZ,SACE,qBAAKrY,UAAU,YAAf,SACE,cAAC,GAAD,CACE9B,OAAQA,EACRe,UAAWA,EACX8B,YAAaA,EACbI,IAAKA,EACLkQ,QAASA,EACTnS,YAAaA,EACbC,gBAAiBA,QAIvB,cAAC,IAAD,CAAOkZ,KAAK,WAAZ,SACE,qBAAKrY,UAAU,YAAf,SACE,cAAC,GAAD,CACEqD,KAAMtC,EACN7C,OAAQA,EACRe,UAAWA,EACXkC,IAAKA,EACLkQ,QAASA,EACTnS,YAAaA,EACbC,gBAAiBA,QAIvB,cAAC,IAAD,CAAOkZ,KAAK,IAAZ,SACE,cAAC,GAAD,CACEtX,YAAaA,EACb9B,UAAWA,EACXoS,QAASA,EACTlQ,IAAKA,eAjDM,cAAC,GAAD,CAAWoB,eAAgBA,KC7MhDuV,GAAcJ,YAAH,yPAgBjBY,IAASC,OACP,eAAC,IAAMC,WAAP,WACE,cAAC,GAAD,IACA,cAAC,GAAD,OAEF/W,SAASgX,eAAe,W","file":"static/js/main.5af786ce.chunk.js","sourcesContent":["const colors = {\n  black: \"#222831\",\n  gray: \"#393e46\",\n  yellow: \"#ffd369\",\n  white: \"#eeeeee\",\n  red: \"#f05454\",\n  blue: \"#30475e\",\n  lightBlue: \"#338ae7\",\n  lightBlueHover: \"#3898fe\",\n};\n\nexport default colors;\n","import { useEffect, useState } from \"react\";\nimport Skeleton from \"react-loading-skeleton\";\nimport styled from \"styled-components\";\nimport colors from \"./../../colors\";\nconst { black } = colors;\n\nconst StyledProfile = styled.div`\n  max-width: fit-content;\n  max-height: ${({ size }) => size};\n  border-radius: 50%;\n  box-shadow: 0 0.4px 1.5px -3px ${({ lm, black }) => (lm ? black + \"33\" : \"transparent\")},\n    0 0.9px 3.6px -3px ${({ lm, black }) => (lm ? black + \"25\" : \"transparent\")},\n    0 1.8px 6.8px -3px ${({ lm, black }) => (lm ? black + \"22\" : \"transparent\")},\n    0 3.1px 12.1px -3px ${({ lm, black }) => (lm ? black + \"18\" : \"transparent\")},\n    0 5.8px 22.6px -3px ${({ lm, black }) => (lm ? black + \"14\" : \"transparent\")},\n    0 14px 54px -3px ${({ lm, black }) => (lm ? black + \"11\" : \"transparent\")};\n\n  .frame {\n    height: ${({ size }) => size};\n    width: ${({ size }) => size};\n    border-radius: 50%;\n    overflow: hidden;\n    background-color: #eee;\n  }\n  img {\n    height: 100%;\n    width: 100%;\n    object-fit: cover;\n  }\n`;\n\nfunction ProfilePicture({\n  size,\n  lightMode,\n  needsUpdate,\n  setUpdateStatus,\n  src,\n  userId,\n}) {\n  const [imgSrc, setSrc] = useState(null);\n  const fullSrc = \"https://frozen-thicket-71687.herokuapp.com/images/\" + src;\n\n  useEffect(() => {\n    if (needsUpdate) {\n      (async function fetchUpdatedUserInfo() {\n        const res = await fetch(\n          `https://frozen-thicket-71687.herokuapp.com/profiledata/${userId}`\n        );\n        const data = await res.text();\n\n        setSrc(\"https://frozen-thicket-71687.herokuapp.com/images/\" + data);\n        setUpdateStatus(false);\n      })();\n    }\n  }, [needsUpdate, userId, setUpdateStatus]);\n\n  return (\n    <StyledProfile lm={lightMode} black={black} size={size}>\n      <div className=\"frame\">\n        {!src && <Skeleton circle={true} height={size} width={size} />}\n        {src && <img src={imgSrc || fullSrc} alt=\"profile\" loading=\"lazy\" />}\n      </div>\n    </StyledProfile>\n  );\n}\n\nexport default ProfilePicture;\n","import styled from \"styled-components\";\n\nconst StyledToggle = styled.div`\n  .toggle {\n    cursor: pointer;\n    position: relative;\n    height: 40px;\n    display: flex;\n    align-items: center;\n  }\n  .rail {\n    background: ${({ light, gray, white }) => (light ? gray : white)};\n    width: 35px;\n    height: 14px;\n    border-radius: 25px;\n    transition: background 0.4s ease 0s;\n    border: 1px solid ${({ white }) => white}22;\n  }\n  .ball {\n    background: ${({ light, gray, white }) => (light ? white : gray)};\n    height: 12px;\n    width: 12px;\n    border-radius: 50%;\n    border: 1px solid ${({ white }) => white}22;\n    // Box shadow prevents choppiness while transitioning\n    box-shadow: 0px 0px 0px transparent;\n    position: absolute;\n    top: 14px;\n    left: ${({ light }) => (light ? \"22px\" : \"1px\")};\n    transition: left 0.1s cubic-bezier(0.08, 0.82, 0.66, 1.2),\n      background 0.4s ease 0s;\n  }\n`;\n\nfunction Toggle({ colors, light }) {\n  const { gray, white } = colors;\n\n  return (\n    <StyledToggle gray={gray} white={white} light={light}>\n      <div className=\"toggle modal-component\">\n        <div className=\"rail modal-component\" />\n        <div className=\"ball modal-component\" />\n      </div>\n    </StyledToggle>\n  );\n}\n\nexport default Toggle;\n","import { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport ProfilePicture from \"./../../userProfile/profilePicture\";\nimport Toggle from \"./toggle\";\nimport { IoLogOutOutline } from \"react-icons/io5\";\nimport colors from \"./../../../colors\";\nimport Cookies from \"universal-cookie\";\nconst { black, gray, white } = colors;\n\nconst StyledSettings = styled.div`\n  display: ${({ vis }) => (vis ? \"grid\" : \"none\")};\n  position: fixed;\n  bottom: 55px;\n  right: 10px;\n  width: 300px;\n  background: ${({ light }) => (light ? white : gray)};\n  padding: 8px;\n  border: 1px solid ${({ light }) => (light ? black : white)}55;\n  border-radius: 8px;\n  color: ${({ light }) => (light ? black : white)};\n\n  a {\n    padding: 0;\n\n    &:hover {\n      color: ${({ light }) => (light ? black : white)};\n    }\n  }\n\n  .name-container {\n    display: flex;\n    padding: 8px;\n    border-radius: 8px;\n\n    .pfp {\n      margin-right: 10px;\n    }\n\n    h3 {\n      font-size: 16px;\n    }\n\n    p {\n      color: ${({ light }) => (light ? black : white + \"aa\")};\n      font-size: 14px;\n      font-weight: 400;\n    }\n\n    &-right {\n      display: grid;\n      gap: 5px;\n      align-content: space between;\n      align-self: center;\n      word-break: break-word;\n    }\n\n    &:hover,\n    &:active {\n      background: ${({ light }) => (light ? gray : white)}33;\n      color: ${({ light }) => (light ? black : white)};\n    }\n  }\n\n  .spacer {\n    height: 10px;\n    margin: 0 10px;\n    border-bottom: 1px solid ${({ light }) => (light ? black : white)}33;\n  }\n\n  ul li {\n    height: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: start;\n    font-size: 14px;\n    padding 0 8px;\n    border-radius: 8px;\n    margin-top: 5px;\n\n    .icon {\n      width: 50px;\n      display: flex;\n      justify-content: start;\n      font-size: 24px;\n    }\n\n    &:hover,\n    &:active {\n      background: ${({ light }) => (light ? gray : white)}33;\n      cursor: pointer;\n    }\n\n    .logout-icon {\n      font-size: 24px;\n    }\n  }\n`;\n\nconst cookies = new Cookies();\n\nfunction AccountSettings({\n  modalVis,\n  currentUser,\n  toggleVis,\n  light,\n  changeColorMode,\n  userName,\n  pfp,\n}) {\n  const toggleModalOff = (e) => {\n    if ([...e.target.classList].includes(\"modal-component\")) return;\n    if (modalVis) toggleVis();\n  };\n\n  useEffect(() => {\n    document.querySelector(\"body\").addEventListener(\"click\", toggleModalOff);\n\n    return () => {\n      document\n        .querySelector(\"body\")\n        .removeEventListener(\"click\", toggleModalOff);\n    };\n  });\n\n  const handleLogout = () => {\n    cookies.set(\"currentUser\", null);\n    cookies.set(\"token\", null);\n    window.location.href = window.location.origin + \"/facebookish\";\n  };\n\n  return (\n    <StyledSettings\n      vis={modalVis}\n      light={light}\n      id=\"settings-modal\"\n      className=\"modal-component\"\n    >\n      <Link\n        to=\"/profile\"\n        className=\"name-container modal-component\"\n        onClick={toggleVis}\n      >\n        <div className=\"pfp\">\n          <ProfilePicture src={pfp} userId={currentUser} size={\"60px\"} />\n        </div>\n        <div className=\"name-container-right modal-component\">\n          <h3>{userName}</h3>\n          <p>See your profile</p>\n        </div>\n      </Link>\n      <div className=\"spacer modal-component\" />\n      <ul className=\"modal-component\">\n        <li onClick={changeColorMode} className=\"modal-component\">\n          <div className=\"icon\">\n            <Toggle colors={colors} light={light} />\n          </div>\n          <p className=\"modal-component\">Toggle color mode</p>\n        </li>\n        <li onClick={handleLogout} className=\"logout modal-component\">\n          <div className=\"icon\">\n            <IoLogOutOutline />\n          </div>\n          <p>Logout</p>\n        </li>\n      </ul>\n    </StyledSettings>\n  );\n}\n\nexport default AccountSettings;\n","import { useState } from \"react\";\nimport { BsThreeDots } from \"react-icons/bs\";\nimport AccountSettings from \"./accountSettings\";\n\nfunction MainAccountSettings(props) {\n  const {\n    currentUser,\n    lightMode,\n    changeColorMode,\n    setCurrentUser,\n    userName,\n    pfp,\n  } = props;\n  const [settingsModalVis, setSettingsVis] = useState(false);\n\n  const toggleSettingsModal = () => setSettingsVis(!settingsModalVis);\n\n  const handleKeyDown = (e) => {\n    if (e.key === \"Tab\") return;\n    e.target.click();\n  };\n\n  return (\n    <>\n      <button\n        onKeyDown={handleKeyDown}\n        onClick={toggleSettingsModal}\n        tabIndex=\"0\"\n        className=\"settings\"\n      >\n        <BsThreeDots />\n      </button>\n      <AccountSettings\n        modalVis={settingsModalVis}\n        currentUser={currentUser}\n        toggleVis={toggleSettingsModal}\n        light={lightMode}\n        changeColorMode={changeColorMode}\n        setCurrentUser={setCurrentUser}\n        userName={userName}\n        pfp={pfp}\n      />\n    </>\n  );\n}\n\nexport default MainAccountSettings;\n","import { BsPlusSquareFill } from \"react-icons/bs\";\n\nfunction CreatePost({ focusRef }) {\n  return (\n    <button className=\"post-icon\" onClick={focusRef}>\n      <BsPlusSquareFill />\n    </button>\n  );\n}\n\nexport default CreatePost;\n","import styled from \"styled-components\";\nimport ProfilePicture from \"./../../userProfile/profilePicture\";\nimport moment from \"moment\";\n\nconst StyledNotification = styled.div`\n  display: flex;\n  padding: 8px;\n  padding-right: 31px;\n  border-radius: 8px;\n  cursor: pointer;\n\n  .notif-detail {\n    margin-left: 10px;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    letter-spacing: 0.5px;\n    line-height: 18px;\n  }\n`;\n\nfunction Notification({ notif, user, markRead }) {\n  const sender = notif.sender.firstName + \" \" + notif.sender.lastName;\n  const formatSentence = (type) => {\n    let [receiver, action] = type.split(\"/\");\n    let sentence;\n\n    switch (action) {\n      case \"add\":\n        sentence = \" sent you a friend request.\";\n        break;\n      case \"accept\":\n        sentence = \" accepted your friend request.\";\n        break;\n      case \"like\":\n        if (receiver === \"post\") sentence = \" liked your post.\";\n        if (receiver === \"comment\") sentence = \" liked your comment.\";\n        break;\n      case \"comment\":\n        if (receiver === \"post\") sentence = \" replied to your post.\";\n        if (receiver === \"comment\") sentence = \" replied to your comment.\";\n        break;\n      default:\n        break;\n    }\n\n    return sentence;\n  };\n\n  return (\n    <StyledNotification\n      id=\"notif-item\"\n      onClick={markRead(notif._id)}\n      className=\"modal-component\"\n    >\n      <ProfilePicture size={\"60px\"} src={notif.sender.profilePhotoSrc} />\n      <div className=\"notif-detail modal-component\">\n        <p className=\"modal-component\">\n          <b>{sender}</b>\n          {formatSentence(notif.notificationType)}\n        </p>\n        <p className=\"modal-component\">{moment(notif.createdAt).fromNow()}</p>\n      </div>\n    </StyledNotification>\n  );\n}\n\nexport default Notification;\n","import { IoNotifications } from \"react-icons/io5\";\nimport { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport Notification from \"./notification\";\nimport colors from \"./../../../colors\";\n\nconst StyledNotifications = styled.button`\n  font-size: 24px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  position: relative;\n\n  &:hover,\n  &:active {\n    color: ${colors.black};\n    transition: color 50ms ease;\n  }\n\n  &::after {\n    content: \"${({ notifLength }) =>\n      notifLength > 9 ? \"9+\" : notifLength > 0 ? notifLength : \"\"}\";\n    display: ${({ notifLength }) => (notifLength > 0 ? \"flex\" : \"none\")};\n    align-items: center;\n    justify-content: center;\n    font-size: 12px;\n    font-weight: bold;\n    color: ${colors.white};\n    text-shadow: 1px 1px 1px ${colors.black};\n    position: absolute;\n    top: 0px;\n    right: 5px;\n    border-radius: 50%;\n    height: 15px;\n    width: 15px;\n    background: ${colors.red};\n  }\n`;\n\nconst StyledNotifs = styled.ul`\n  display: ${({ vis }) => (vis ? \"flex\" : \"none\")};\n  flex-direction: column;\n  list-style: none;\n  font-size: 14px;\n  font-weight: 400;\n  position: absolute;\n  bottom: 55px;\n  right: 15vw;\n  width: 75vw;\n  max-width: 360px;\n  max-height: 40vh;\n  overflow-y: scroll;\n  padding: 6px;\n  padding-bottom: 15px;\n  border-radius: 8px;\n  scrollbar-width: none;\n  box-shadow: 0 0px 0.8px rgba(0, 0, 0, 0.013), 0 0px 1.9px rgba(0, 0, 0, 0.032),\n    0 0px 3.9px rgba(0, 0, 0, 0.051), 0 0px 8px rgba(0, 0, 0, 0.066),\n    0 0px 22px rgba(0, 0, 0, 0.07);\n\n  &:hover,\n  &:active {\n    overflow: overlay;\n    scrollbar-width: auto;\n\n    #notif-item {\n      padding-right: 17px;\n    }\n  }\n\n  .notif-top {\n    margin-top: 10px;\n    margin-left: 8px;\n\n    h1 {\n      font-size: 1.7em;\n    }\n\n    p {\n      font-size: 12px;\n      margin-bottom: 18px;\n    }\n  }\n\n  @media (max-width: 540px) {\n    & {\n      width: 90vw;\n      right: 5vw;\n    }\n  }\n`;\n\nfunction Notifications({ currentUser }) {\n  const [notifsModal, setNotifsVis] = useState(false);\n  const [notifs, setNotifs] = useState([]);\n\n  const toggleOffNotifs = (e) => {\n    if ([...e.target.classList].includes(\"modal-component\")) return;\n    if (notifsModal) setNotifsVis(false);\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"click\", toggleOffNotifs);\n\n    return () => {\n      window.removeEventListener(\"click\", toggleOffNotifs);\n    };\n  });\n\n  useEffect(() => {\n    async function fetchNotifications() {\n      const res = await fetch(\n        `https://frozen-thicket-71687.herokuapp.com/notifications/${currentUser}`\n      );\n      const data = await res.json();\n\n      if (Array.isArray(data)) setNotifs(data);\n      else setNotifs([]);\n    }\n\n    fetchNotifications();\n  }, [currentUser]);\n\n  const toggle = () => setNotifsVis(!notifsModal);\n\n  const markRead = (notifId) => {\n    return async () => {\n      const body = JSON.stringify({ notifId, userId: currentUser });\n\n      const res = await fetch(\n        \"https://frozen-thicket-71687.herokuapp.com/notifications/complete\",\n        {\n          method: \"put\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body,\n        }\n      );\n\n      const data = await res.json();\n      setNotifs(data);\n    };\n  };\n\n  const mapNotifs = notifs.map((notif) => (\n    <li key={notif._id} className=\"modal-component\">\n      <Notification notif={notif} user={currentUser} markRead={markRead} />\n    </li>\n  ));\n\n  return (\n    <>\n      <StyledNotifications onClick={toggle} notifLength={notifs.length}>\n        <IoNotifications />\n      </StyledNotifications>\n      <StyledNotifs\n        vis={notifsModal}\n        id=\"notif-modal\"\n        className=\"modal-component\"\n      >\n        <div className=\"notif-top modal-component\">\n          <h1 className=\"modal-component\">Notifications</h1>\n          <p className=\"modal-component\">click to mark as read</p>\n        </div>\n        {mapNotifs}\n      </StyledNotifs>\n    </>\n  );\n}\n\nexport default Notifications;\n","import { AiFillHome } from \"react-icons/ai\";\nimport { Link } from \"react-router-dom\";\n\nfunction HomeLink() {\n  return (\n    <Link to=\"/\">\n      <AiFillHome />\n    </Link>\n  );\n}\n\nexport default HomeLink;\n","import { ImUsers } from \"react-icons/im\";\nimport { Link } from \"react-router-dom\";\n\nfunction UsersLink() {\n  return (\n    <Link to=\"/users\">\n      <ImUsers />\n    </Link>\n  );\n}\n\nexport default UsersLink;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport colors from \"../../colors\";\nimport MainAccountSettings from \"./components/mainAccountSettings\";\nimport CreatePost from \"./components/createPost\";\nimport Notifications from \"./components/notifications\";\nimport HomeLink from \"./components/home\";\nimport UsersLink from \"./components/users\";\n\nconst { black, white, blue } = colors;\n\nconst StyledNav = styled.div`\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  height: 60px;\n  background: ${blue};\n  transition: background 0.4s ease, color 0.4s ease;\n  color: ${white};\n  font-weight: 600;\n  letter-spacing: 1.2px;\n  position: fixed;\n  bottom: 0;\n  width: 100%;\n  z-index: 10;\n\n  .post-icon {\n    display: flex;\n    align-items: center;\n    font-size: 24px;\n    cursor: pointer;\n    padding: 10px;\n\n    &:hover:not(.name-container),\n    &:active:not(.name-container) {\n      color: ${black};\n      transition: color 50ms ease;\n      font-weight: 600;\n    }\n  }\n\n  a,\n  a:visited {\n    display: flex;\n    align-items: center;\n    padding: 10px;\n    text-decoration: none;\n    font-size: 24px;\n    color: inherit;\n\n    &:hover:not(.name-container),\n    &:active:not(.name-container) {\n      color: ${black};\n      transition: color 50ms ease;\n      font-weight: 600;\n    }\n  }\n\n  .notifs,\n  .settings {\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n\n    &:hover,\n    &:active {\n      color: ${black};\n    }\n  }\n  .settings {\n    font-size: 28px;\n  }\n\n  .notifs {\n    font-size: 24px;\n  }\n\n  & button,\n  & button:hover,\n  & button:active {\n    background: none;\n  }\n`;\n\nfunction Nav(props) {\n  const {\n    setLightMode,\n    lightMode,\n    currentUser,\n    focusRef,\n    userName,\n    pfp,\n  } = props;\n\n  function changeColorMode() {\n    setLightMode(!lightMode);\n  }\n\n  return (\n    <StyledNav light={lightMode}>\n      <HomeLink />\n      <UsersLink />\n      <CreatePost focusRef={focusRef} />\n      <Notifications currentUser={currentUser} />\n      <MainAccountSettings\n        currentUser={currentUser}\n        lightMode={lightMode}\n        changeColorMode={changeColorMode}\n        userName={userName}\n        pfp={pfp}\n      />\n    </StyledNav>\n  );\n}\n\nexport default Nav;\n","export default function getCommentCount(postComments) {\n  if (!postComments) return 1;\n\n  return postComments.reduce((total, current) => {\n    return total + (1 + current.comments?.length);\n  }, 0);\n}\n","import styled from \"styled-components\";\nimport { CgSpinner } from \"react-icons/cg\";\n\nconst StyledSpinner = styled.div`\n  display: ${({ vis }) => (vis ? \"flex\" : \"none\")};\n\n  .spinner {\n    font-size: ${({ size }) => size || 20}px;\n    animation: spin 1s cubic-bezier(0.18, 0.89, 0.32, 1.28) infinite;\n  }\n\n  @keyframes spin {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n`;\n\nfunction Spinner({ size, vis }) {\n  return (\n    <StyledSpinner size={size} vis={vis}>\n      <CgSpinner className=\"spinner\" id=\"spinner\" />\n    </StyledSpinner>\n  );\n}\n\nexport default Spinner;\n","import styled from \"styled-components\";\nimport getCommentCount from \"./../../utils/getCommentCount\";\nimport { AiFillEdit } from \"react-icons/ai\";\nimport { RiChatDeleteFill } from \"react-icons/ri\";\nimport Cookies from \"universal-cookie\";\nimport Spinner from \"./../spinner/spinner\";\nimport { useEffect, useState } from \"react\";\n\nconst StyledModal = styled.div`\n  display: ${({ vis }) => (vis ? \"flex\" : \"none\")};\n  color: ${({ vis }) => (vis ? \"red\" : \"blue\")};\n  position: absolute;\n  top: 0;\n  right: 10px;\n  color: black;\n  margin-right: 20px;\n  z-index: 3;\n\n  ul {\n    list-style: none;\n    border-radius: 6px;\n    z-index: 2;\n    box-shadow: 0 0.3px 0.9px rgba(0, 0, 0, 0.073),\n      0 0.9px 2.3px rgba(0, 0, 0, 0.106), 0 1.8px 4.8px rgba(0, 0, 0, 0.124),\n      0 3.7px 9.9px rgba(0, 0, 0, 0.139), 0 10px 27px rgba(0, 0, 0, 0.19);\n  }\n  li {\n    display: flex;\n    align-items: center;\n    padding: 5px;\n\n    svg {\n      font-size: 18px;\n    }\n    &:first-child {\n      border-radius: 6px 6px 0 0;\n    }\n\n    &:last-child {\n      border-radius: 0 0 6px 6px;\n    }\n\n    button {\n      border-style: none;\n      background: transparent;\n      color: inherit;\n      font-weight: bold;\n      font-size: 14px;\n    }\n  }\n\n  li.spacer {\n    border-bottom: 1px solid gray;\n    height: 0;\n    padding: 0;\n    margin: 0 5px;\n  }\n\n  li .content {\n    display: flex;\n    align-items: center;\n    padding: 6px;\n    width: 100%;\n    border-radius: 6px;\n  }\n\n  li .content.del {\n    margin-top: 0;\n  }\n\n  .icon {\n    display: ${({ spinnerVis }) => (spinnerVis ? \"none\" : \"flex\")};\n  }\n`;\n\nconst cookies = new Cookies();\n\nfunction SettingsModal(props) {\n  const {\n    modalVisible,\n    isPost,\n    postItem,\n    commentItem,\n    toggleModal,\n    setFeed,\n    homeFeed,\n    user,\n    postAuthor,\n    setCommentCount,\n    togglePostEdit,\n    toggleCommentEditStatus,\n  } = props;\n\n  const [spinnerVis, setSpinnerVis] = useState(false);\n  const token = cookies.get(\"token\");\n\n  const toggleSettingsOff = () => {\n    if (modalVisible) toggleModal();\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"click\", toggleSettingsOff);\n\n    return () => {\n      window.removeEventListener(\"click\", toggleSettingsOff);\n    };\n  });\n\n  async function refreshFeed() {\n    let response;\n    if (homeFeed) {\n      response = await fetch(\n        `https://frozen-thicket-71687.herokuapp.com/posts/feed/${user}`\n      );\n    } else {\n      response = await fetch(\n        `https://frozen-thicket-71687.herokuapp.com/posts/byuser/${postAuthor}`\n      );\n    }\n    const data = await response.json();\n    toggleModal();\n    setFeed(data);\n  }\n\n  async function deletePost() {\n    const reqBody = JSON.stringify({ postId: postItem._id });\n\n    await fetch(`https://frozen-thicket-71687.herokuapp.com/posts/delete`, {\n      method: \"delete\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      body: reqBody,\n    })\n      .then(() => {\n        setSpinnerVis(false);\n        toggleModal();\n      })\n      .catch((err) => console.error(err));\n\n    refreshFeed();\n  }\n\n  async function deleteComment(e) {\n    const [post, commentId, parentId] = [\n      commentItem.post,\n      commentItem._id,\n      commentItem.parentId,\n    ];\n    const reqBodyData = parentId\n      ? { post, commentId, parentId }\n      : { post, commentId };\n    const reqBody = JSON.stringify(reqBodyData);\n    const res = await fetch(\n      \"https://frozen-thicket-71687.herokuapp.com/comments/delete\",\n      {\n        method: \"delete\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n        body: reqBody,\n      }\n    ).catch((err) => console.error(err));\n\n    const data = await res.json();\n\n    setCommentCount(getCommentCount(data.comments));\n    refreshFeed();\n  }\n\n  return (\n    <StyledModal vis={modalVisible} spinnerVis={spinnerVis}>\n      <ul className=\"menu\">\n        <li\n          onClick={() => {\n            isPost ? togglePostEdit() : toggleCommentEditStatus();\n            toggleModal();\n          }}\n        >\n          <div className=\"content\">\n            <AiFillEdit />\n            <button>Edit {isPost ? \"post\" : \"comment\"}</button>\n          </div>\n        </li>\n        <li className=\"spacer\" />\n        <li\n          onClick={(e) => {\n            setSpinnerVis(true);\n            isPost ? deletePost() : deleteComment(e);\n          }}\n        >\n          <div className=\"content del\">\n            <RiChatDeleteFill className=\"icon\" />\n            <Spinner className=\"spinner\" vis={spinnerVis} />\n            <button>Delete {isPost ? \"post\" : \"comment\"}</button>\n          </div>\n        </li>\n      </ul>\n    </StyledModal>\n  );\n}\n\nexport default SettingsModal;\n","import styled from \"styled-components\";\n\nconst StyledAction = styled.button`\n  font-weight: bold;\n  font-size: 14px;\n`;\n\nfunction LikeAction({ user, post, comment, setLikeCount }) {\n  async function processLike() {\n    const body = post\n      ? JSON.stringify({ user, post })\n      : JSON.stringify({ user, comment });\n\n    const res = await fetch(\n      `https://frozen-thicket-71687.herokuapp.com/likes/like-${\n        post ? \"post\" : \"comment\"\n      }`,\n      {\n        method: \"post\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body,\n      }\n    );\n\n    const data = await res.json();\n    const likeCount = data.likes.length;\n    setLikeCount(likeCount);\n  }\n\n  return (\n    <StyledAction onClick={processLike} com={comment} className=\"util\">\n      Like\n    </StyledAction>\n  );\n}\n\nexport default LikeAction;\n","import LikeAction from \"./likeAction\";\nimport styled from \"styled-components\";\n\nconst StyledCommentUtils = styled.div`\n  display: flex;\n\n  button {\n    padding: 0;\n    margin-left: 15px;\n    margin-top: 3px;\n    background: none;\n    font-size: 12px;\n    display: flex;\n    align-items: center;\n\n    &::after {\n      content: \"\";\n      display: inline-block;\n      margin: 0 5px;\n      height: 1px;\n      width: 2px;\n      background: #707070;\n      border-radius: 50%;\n    }\n    &:hover,\n    &:active {\n      background: none;\n      color: inherit;\n      text-decoration: underline;\n    }\n  }\n\n  button.reply {\n    margin: 0;\n    margin-top: 3px;\n    font-size: 12px;\n    font-weight: bold;\n    &::after {\n      display: none;\n    }\n  }\n\n  button.util:hover,\n  button.reply:hover {\n    cursor: pointer;\n  }\n`;\n\nfunction CommentUtils({ comment, user, setLikeCount, focusRef }) {\n  return (\n    <StyledCommentUtils id=\"comment-util\">\n      <LikeAction user={user} setLikeCount={setLikeCount} comment={comment} />\n      <button className=\"reply\" onClick={focusRef}>\n        Reply\n      </button>\n    </StyledCommentUtils>\n  );\n}\n\nexport default CommentUtils;\n","import styled from \"styled-components\";\nimport { AiFillLike } from \"react-icons/ai\";\n\nconst StyledLike = styled.div`\n  position: ${({ isCmt }) => (isCmt ? \"absolute\" : \"static\")};\n  bottom: -12px;\n  right: 0;\n  display: grid;\n  grid-auto-flow: column;\n  align-items: center;\n  background: ${({ isCmt }) => (isCmt ? \"#393e46\" : \"none\")};\n  padding: ${({ isCmt }) => (isCmt ? \"3px\" : \"\")};\n  padding-right: 5px;\n  border-radius: 15px;\n  box-shadow: ${({ isCmt }) =>\n    isCmt\n      ? \"0 0.3px 1.3px rgba(0, 0, 0, 0.31), 0 0.8px 3.5px rgba(0, 0, 0, 0.202), 0 1.8px 8.4px rgba(0, 0, 0, 0.155),0 6px 28px rgba(0, 0, 0, 0.108)\"\n      : \"none\"};\n\n  .like {\n    path {\n      color: #338ae7;\n    }\n    margin-bottom: 2px;\n    margin-right: 5px;\n    margin-left: 1px;\n  }\n`;\n\nfunction LikeDisplay({ likeCount, isCmt, id }) {\n  return (\n    <StyledLike isCmt={isCmt} className={isCmt ? \"cmt\" : \"\"} id={id}>\n      <AiFillLike className=\"like\" />\n      <p>{likeCount}</p>\n    </StyledLike>\n  );\n}\n\nexport default LikeDisplay;\n","import LikeDisplay from \"./likeDisplay\";\nimport styled from \"styled-components\";\n\nconst StyledCommentMetrics = styled.div`\n  .cmt {\n    font-size: 12px;\n  }\n`;\n\nfunction CommentMetrics({ likeCount }) {\n  return (\n    <StyledCommentMetrics>\n      <LikeDisplay likeCount={likeCount} isCmt={true} id={\"comment-likes\"} />\n    </StyledCommentMetrics>\n  );\n}\n\nexport default CommentMetrics;\n","import styled from \"styled-components\";\nimport colors from \"./../../colors\";\nimport ProfilePicture from \"./../userProfile/profilePicture\";\nimport { Link } from \"react-router-dom\";\nimport getCommentCount from \"./../../utils/getCommentCount\";\nimport Cookies from \"universal-cookie\";\n\nconst StyledForm = styled.form`\n  opacity: ${({ vis }) => (vis ? \"100%\" : \"0\")};\n  height: ${({ vis }) => (vis ? \"fit-content\" : \"0\")};\n  .wrap {\n    margin-top: ${({ vis }) => (vis ? \"10px\" : \"0px\")};\n    margin-left: 15px;\n    display: flex;\n    justify-content: space-between;\n  }\n\n  a {\n    align-self: center;\n  }\n  input[type=\"text\"] {\n    flex: 1;\n    height: 35px;\n    width: 170px;\n    padding-left: 10px;\n    border-style: none;\n    border-radius: 18px;\n    background: #707070;\n    color: ${colors.white};\n    font-size: 14px;\n    margin: 0 10px;\n  }\n\n  input[type=\"submit\"] {\n    background: none;\n    font-weight: bold;\n  }\n\n  p {\n    width: max-content;\n    font-size: 12px;\n    padding-top: 3px;\n    padding-left: 55px;\n  }\n`;\n\nconst cookies = new Cookies();\n\nfunction SubCommentForm({\n  subFormVis,\n  toggleVis,\n  postId,\n  commentId,\n  setFeed,\n  homeFeed,\n  postAuthor,\n  inputRef,\n  currentUser,\n  setCommentCount,\n  parentId,\n  pfp,\n}) {\n  const token = cookies.get(\"token\");\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    const input = e.target[0];\n    const text = input.value;\n    // Prevent sending empty comments\n    if (!text) return;\n\n    const bodyData = {\n      text,\n      parentId,\n      post: postId,\n      comment: commentId,\n      author: currentUser,\n    };\n    const requestBody = JSON.stringify(bodyData);\n\n    const commentRes = await fetch(\n      `https://frozen-thicket-71687.herokuapp.com/comments/child/new`,\n      {\n        method: \"POST\",\n        type: \"cors\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n        body: requestBody,\n      }\n    ).catch((err) => console.error(err));\n\n    const commentData = await commentRes.json();\n\n    let response;\n    if (homeFeed) {\n      response = await fetch(\n        `https://frozen-thicket-71687.herokuapp.com/posts/feed/${currentUser}`\n      );\n    } else {\n      response = await fetch(\n        `https://frozen-thicket-71687.herokuapp.com/posts/byuser/${postAuthor}`\n      );\n    }\n    const data = await response.json();\n    setFeed(data);\n    setCommentCount(getCommentCount(commentData.comments));\n    toggleVis();\n    input.value = \"\";\n  }\n\n  return (\n    <StyledForm onSubmit={handleSubmit} vis={subFormVis}>\n      <div className=\"wrap\">\n        <Link to=\"/profile\">\n          <ProfilePicture src={pfp} size={\"25px\"} userId={currentUser} />\n        </Link>\n        <input\n          type=\"text\"\n          ref={inputRef}\n          id=\"comment-input\"\n          placeholder=\"Write a comment...\"\n        />\n      </div>\n      <p>Press enter to comment</p>\n    </StyledForm>\n  );\n}\n\nexport default SubCommentForm;\n","import styled from \"styled-components\";\nimport colors from \"./../../colors\";\n\nconst StyledEditForm = styled.form`\n  width: 100%;\n  margin-left: 10px;\n  padding-right: 10px;\n  input[type=\"text\"] {\n    width: 97%;\n    flex: 1;\n    height: 35px;\n    padding-left: 10px;\n    padding-right: 10px;\n    border-style: none;\n    border-radius: 18px;\n    background: #707070;\n    color: ${colors.white};\n    font-size: 14px;\n  }\n  p {\n    font-size: 12px;\n    margin-top: 5px;\n  }\n  input.comment-input {\n    margin-top: 5px;\n    border: 1px solid #a0a0a0;\n  }\n`;\n\nfunction EditForm(props) {\n  const {\n    setPostText,\n    postText,\n    togglePostEdit,\n    postId,\n    isPost,\n    setCommentText,\n    commentText,\n    toggleCommentEditStatus,\n    commentId,\n  } = props;\n\n  const setText = (text) => (isPost ? setPostText(text) : setCommentText(text));\n  const toggleEditForm = () =>\n    isPost ? togglePostEdit() : toggleCommentEditStatus();\n\n  const handleEditSubmit = async (e) => {\n    e.preventDefault();\n\n    const newData = e.target.firstElementChild.value;\n    const bodyData = isPost ? { postId, newData } : { commentId, newData };\n    const body = JSON.stringify(bodyData);\n\n    const res = await fetch(\n      `https://frozen-thicket-71687.herokuapp.com/${\n        isPost ? \"posts\" : \"comments\"\n      }/update`,\n      {\n        method: \"put\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body,\n      }\n    );\n\n    const data = await res.json();\n\n    setText(data.text);\n    toggleEditForm();\n  };\n\n  return (\n    <StyledEditForm onSubmit={handleEditSubmit}>\n      <input\n        type=\"text\"\n        className={isPost ? \"post-input\" : \"comment-input\"}\n        defaultValue={isPost ? postText : commentText}\n        id=\"edit-form\"\n      />\n      <p>Press enter to submit.</p>\n    </StyledEditForm>\n  );\n}\n\nexport default EditForm;\n","import styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\nimport { BsThreeDots } from \"react-icons/bs\";\nimport Settings from \"./../modals/settingsModal\";\nimport { useState, useRef } from \"react\";\nimport ProfilePicture from \"./../userProfile/profilePicture\";\nimport CommentUtils from \"./commentUtils\";\nimport CommentMetrics from \"./commentMetrics\";\nimport SubCommentForm from \"./../commentForm/subCommentForm\";\nimport EditForm from \"./editForm\";\n\nconst StyledComment = styled.div`\n  padding: 5px;\n  padding-right: 15px;\n  margin-left: 25px;\n  position: relative;\n  display: grid;\n  grid-template-columns: 35px auto;\n  grid-template-rows: 1fr auto;\n  column-gap: 10px;\n\n  .pfp-link {\n    height: 100%;\n    grid-column: 1 / 2;\n    grid-row: 1 / -1;\n  }\n\n  .sub-comment-body {\n    position: relative;\n    min-width: 200px;\n    max-width: fit-content;\n    padding: 8px 14px;\n    border-radius: 20px;\n\n    a.user {\n      font-size: 14px;\n    }\n    p.content {\n      font-size: 15px;\n      padding-top: 2px;\n    }\n  }\n\n  & a,\n  & p {\n    grid-column: 2 / 3;\n  }\n\n  .comment-settings {\n    position: absolute;\n    top: 5px;\n    right: 10px;\n    cursor: pointer;\n    font-size: 18px;\n\n    &:hover {\n      color: #777;\n    }\n  }\n\n  &:hover .comment-settings {\n    display: block;\n  }\n\n  @media (min-width: 1280px) {\n    .comment-settings {\n      display: none;\n    }\n  }\n`;\n\nfunction SubComment({\n  comment,\n  currentUser,\n  setFeed,\n  homeFeed,\n  postAuthor,\n  setCommentCount,\n  pfp,\n}) {\n  const [modalVisible, setModalVisible] = useState(false);\n  const [likeCount, setLikeCount] = useState(comment.likes.length);\n  const [subFormVis, setSubFormVis] = useState(false);\n  const [editingComment, setCommentEditStatus] = useState(false);\n  const [commentText, setCommentText] = useState(comment.text);\n  const commentAuthor =\n    comment.author.firstName + \" \" + comment.author.lastName;\n  const isAuthor = comment.author._id === currentUser;\n  const subCommentRef = useRef(null);\n\n  function focusSubCommentForm() {\n    subCommentRef.current.focus();\n    setSubFormVis(!subFormVis);\n  }\n\n  function toggleModalVisibility() {\n    setModalVisible(!modalVisible);\n  }\n\n  const toggleCommentEditStatus = () => setCommentEditStatus(!editingComment);\n\n  const EditComponent = () => {\n    return (\n      <EditForm\n        setCommentText={setCommentText}\n        commentText={commentText}\n        commentId={comment._id}\n        toggleCommentEditStatus={toggleCommentEditStatus}\n      />\n    );\n  };\n\n  const postContent = () => <p className=\"content\">{commentText}</p>;\n\n  return (\n    <StyledComment>\n      <div className=\"pfp-link\">\n        <Link to={`/user/${comment.author._id}`} className=\"user\">\n          <ProfilePicture\n            src={comment.author.profilePhotoSrc}\n            userId={currentUser}\n            size={\"35px\"}\n          />\n        </Link>\n      </div>\n      <div className=\"sub-comment-body\">\n        <Link to={`/user/${comment.author._id}`} className=\"user\">\n          {commentAuthor}\n        </Link>\n        {editingComment ? EditComponent() : postContent()}\n        {isAuthor ? (\n          <BsThreeDots\n            className=\"comment-settings\"\n            onClick={toggleModalVisibility}\n          />\n        ) : (\n          <div />\n        )}\n        <Settings\n          modalVisible={modalVisible}\n          toggleModal={setModalVisible}\n          commentItem={comment}\n          setFeed={setFeed}\n          homeFeed={homeFeed}\n          user={currentUser}\n          postAuthor={postAuthor}\n          setCommentCount={setCommentCount}\n          toggleCommentEditStatus={toggleCommentEditStatus}\n        />\n        {likeCount > 0 ? <CommentMetrics likeCount={likeCount} /> : <div />}\n      </div>\n      <CommentUtils\n        comment={comment._id}\n        user={currentUser}\n        setLikeCount={setLikeCount}\n        focusRef={focusSubCommentForm}\n      />\n      <SubCommentForm\n        currentUser={currentUser}\n        subFormVis={subFormVis}\n        toggleVis={setSubFormVis}\n        inputRef={subCommentRef}\n        postId={comment.post}\n        commentId={comment._id}\n        parentId={comment.parentId}\n        setFeed={setFeed}\n        homeFeed={homeFeed}\n        postAuthor={postAuthor}\n        setCommentCount={setCommentCount}\n        src={comment.author.profilePhotoSrc}\n        pfp={pfp}\n      />\n    </StyledComment>\n  );\n}\n\nexport default SubComment;\n","import styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\nimport { BsThreeDots } from \"react-icons/bs\";\nimport Settings from \"./../modals/settingsModal\";\nimport { useState, useRef } from \"react\";\nimport ProfilePicture from \"./../userProfile/profilePicture\";\nimport CommentUtils from \"./commentUtils\";\nimport CommentMetrics from \"./commentMetrics\";\nimport SubCommentForm from \"./../commentForm/subCommentForm\";\nimport SubComment from \"./subComment\";\nimport EditForm from \"./editForm\";\n\nconst StyledComment = styled.div`\n  padding: 0 5px;\n  margin-left: 10px;\n  margin-right: 10px;\n  position: relative;\n  display: grid;\n  grid-template-columns: 35px auto;\n  grid-template-rows: 1fr auto;\n  column-gap: 10px;\n\n  &:first-child {\n    margin-top: 10px;\n  }\n\n  .pfp-link {\n    height: 100%;\n    grid-column: 1 / 2;\n    grid-row: 1 / -1;\n  }\n\n  .comment-body {\n    position: relative;\n    min-width: 250px;\n    max-width: fit-content;\n    padding: 8px 14px;\n    border-radius: 20px;\n\n    a.user {\n      font-size: 14px;\n    }\n    p.content {\n      font-size: 15px;\n      padding-top: 2px;\n    }\n  }\n\n  & a,\n  & p {\n    grid-column: 2 / 3;\n  }\n\n  .comment-settings {\n    position: absolute;\n    top: 5px;\n    right: 10px;\n    cursor: pointer;\n    font-size: 18px;\n\n    &:hover {\n      color: #777;\n    }\n  }\n\n  &:hover .comment-settings {\n    display: block;\n  }\n\n  @media (min-width: 1280px) {\n    .comment-settings {\n      display: none;\n    }\n  }\n\n  .sub-comments {\n    margin-top: ${({ subFormVis }) => (subFormVis ? \"50px\" : \"0\")};\n    margin-left: -20px;\n  }\n`;\n\nfunction Comment({\n  comment,\n  currentUser,\n  setFeed,\n  homeFeed,\n  postAuthor,\n  setCommentCount,\n  pfp,\n}) {\n  const [modalVisible, setModalVisible] = useState(false);\n  const [likeCount, setLikeCount] = useState(comment.likes.length);\n  const [subFormVis, setSubFormVis] = useState(false);\n  const [editingComment, setCommentEditStatus] = useState(false);\n  const [commentText, setCommentText] = useState(comment.text);\n  const commentAuthor =\n    comment.author.firstName + \" \" + comment.author.lastName;\n  const isAuthor = comment.author._id === currentUser;\n  const subCommentRef = useRef(null);\n\n  function focusSubCommentForm() {\n    subCommentRef.current.focus();\n    setSubFormVis(!subFormVis);\n  }\n\n  function toggleModalVisibility() {\n    setModalVisible(!modalVisible);\n  }\n\n  const toggleCommentEditStatus = () => setCommentEditStatus(!editingComment);\n\n  const EditComponent = () => {\n    return (\n      <EditForm\n        setCommentText={setCommentText}\n        commentText={commentText}\n        commentId={comment._id}\n        toggleCommentEditStatus={toggleCommentEditStatus}\n      />\n    );\n  };\n\n  const postContent = () => <p className=\"content\">{commentText}</p>;\n\n  return (\n    <>\n      <StyledComment className=\"comment\" subFormVis={subFormVis}>\n        <div className=\"pfp-link\">\n          <Link to={`/user/${comment.author._id}`} className=\"user\">\n            <ProfilePicture\n              src={comment.author.profilePhotoSrc}\n              userId={comment.author._id}\n              size={\"35px\"}\n            />\n          </Link>\n        </div>\n        <div className=\"comment-body\">\n          <Link to={`/user/${comment.author._id}`} className=\"user\">\n            {commentAuthor}\n          </Link>\n          {editingComment ? EditComponent() : postContent()}\n          {isAuthor ? (\n            <BsThreeDots\n              className=\"comment-settings\"\n              onClick={toggleModalVisibility}\n            />\n          ) : (\n            <div />\n          )}\n          <Settings\n            modalVisible={modalVisible}\n            toggleModal={setModalVisible}\n            commentItem={comment}\n            setFeed={setFeed}\n            homeFeed={homeFeed}\n            user={currentUser}\n            postAuthor={postAuthor}\n            setCommentCount={setCommentCount}\n            toggleCommentEditStatus={toggleCommentEditStatus}\n          />\n          {likeCount > 0 ? <CommentMetrics likeCount={likeCount} /> : <div />}\n        </div>\n        <CommentUtils\n          comment={comment._id}\n          user={currentUser}\n          setLikeCount={setLikeCount}\n          focusRef={focusSubCommentForm}\n        />\n        <SubCommentForm\n          currentUser={currentUser}\n          subFormVis={subFormVis}\n          toggleVis={setSubFormVis}\n          inputRef={subCommentRef}\n          postId={comment.post}\n          commentId={comment._id}\n          parentId={comment._id}\n          setFeed={setFeed}\n          homeFeed={homeFeed}\n          postAuthor={postAuthor}\n          setCommentCount={setCommentCount}\n          pfp={pfp}\n        />\n      </StyledComment>\n      <div className=\"sub-comments\">\n        {comment.comments.map((subComment) => (\n          <div key={subComment._id} className=\"sub-comment\">\n            <SubComment\n              postAuthor={postAuthor}\n              comment={subComment}\n              parentId={subComment.parentId}\n              currentUser={currentUser}\n              setFeed={setFeed}\n              homeFeed={homeFeed}\n              setCommentCount={setCommentCount}\n              pfp={pfp}\n            />\n          </div>\n        ))}\n      </div>\n    </>\n  );\n}\n\nexport default Comment;\n","import styled from \"styled-components\";\nimport colors from \"./../../colors\";\nimport ProfilePicture from \"./../userProfile/profilePicture\";\nimport { Link } from \"react-router-dom\";\nimport getCommentCount from \"./../../utils/getCommentCount\";\nimport Cookies from \"universal-cookie\";\n\nconst StyledForm = styled.form`\n  margin: 0 10px;\n  padding-bottom: 10px;\n\n  .wrap {\n    display: flex;\n    justify-content: space-between;\n    margin-top: 10px;\n    margin-left: 5px;\n  }\n\n  input[type=\"text\"] {\n    flex: 1;\n    height: 35px;\n    padding-left: 10px;\n    padding-right: 10px;\n    border-style: none;\n    border-radius: 18px;\n    background: #707070;\n    color: ${colors.white};\n    font-size: 14px;\n    margin: 0 10px;\n    z-index: 2;\n  }\n\n  input[type=\"submit\"] {\n    background: none;\n    font-weight: bold;\n  }\n\n  p {\n    font-size: 12px;\n    padding-top: 3px;\n    padding-left: 55px;\n  }\n`;\n\nconst cookies = new Cookies();\n\nfunction CommentForm({\n  postId,\n  setFeed,\n  homeFeed,\n  postAuthor,\n  inputRef,\n  currentUser,\n  setCommentCount,\n  setCommentsVisible,\n  src,\n  pfp,\n}) {\n  const token = cookies.get(\"token\");\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    const input = e.target[0];\n    const text = input.value;\n    // Prevent sending empty comments\n    if (!text) return;\n\n    const bodyData = {\n      text,\n      post: postId,\n      author: currentUser,\n    };\n    const requestBody = JSON.stringify(bodyData);\n\n    const commentRes = await fetch(\n      `https://frozen-thicket-71687.herokuapp.com/comments/new`,\n      {\n        method: \"POST\",\n        type: \"cors\",\n        body: requestBody,\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n      }\n    ).catch((err) => console.error(err));\n\n    const commentData = await commentRes.json();\n\n    let response;\n    if (homeFeed) {\n      response = await fetch(\n        `https://frozen-thicket-71687.herokuapp.com/posts/feed/${currentUser}`\n      );\n    } else {\n      response = await fetch(\n        `https://frozen-thicket-71687.herokuapp.com/posts/byuser/${postAuthor}`\n      );\n    }\n    const data = await response.json();\n    setFeed(data);\n    setCommentCount(getCommentCount(commentData.comments));\n    setCommentsVisible();\n    input.value = \"\";\n  }\n\n  return (\n    <StyledForm onSubmit={handleSubmit}>\n      <div className=\"wrap\">\n        <Link to=\"/profile\">\n          <ProfilePicture size={\"35px\"} src={pfp} userId={currentUser} />\n        </Link>\n        <input\n          type=\"text\"\n          ref={inputRef}\n          id=\"comment-input\"\n          placeholder=\"Write a comment...\"\n        />\n      </div>\n      <p>Press enter to comment</p>\n    </StyledForm>\n  );\n}\n\nexport default CommentForm;\n","import styled from \"styled-components\";\nimport LikeAction from \"./likeAction\";\n\nconst StyledUtils = styled.div`\n  display: grid;\n  justify-items: stretch;\n  grid-auto-flow: column;\n  column-gap: 4px;\n  border-bottom: 1px solid gray;\n  border-top: 1px solid gray;\n  padding: 4px 0;\n  margin-left: 10px;\n  margin-right: 10px;\n  & button {\n    font-weight: bold;\n    font-size: 14px;\n  }\n\n  button.util {\n    background: none;\n    &:hover,\n    &:active {\n      background: #707070aa;\n    }\n  }\n`;\n\nfunction PostUtils({ user, post, setLikeCount, focusRef }) {\n  return (\n    <StyledUtils>\n      <LikeAction user={user} post={post} setLikeCount={setLikeCount} />\n      <button onClick={focusRef} className=\"util\">\n        Comment\n      </button>\n    </StyledUtils>\n  );\n}\n\nexport default PostUtils;\n","import LikeDisplay from \"./likeDisplay\";\nimport styled from \"styled-components\";\n\nconst StyledMetrics = styled.div`\n  font-size: 15px;\n  display: flex;\n  padding: 0 10px;\n  margin-top: 5px;\n\n  .likes,\n  .post-comments {\n    margin-top: 5px;\n    flex: 1;\n    display: flex;\n  }\n  .likes {\n    justify-content: start;\n  }\n  .post-comments {\n    display: ${({ commentCount }) => (commentCount ? \"flex\" : \"none\")};\n    justify-content: flex-end;\n    -webkit-justify-content: flex-end;\n    margin-right: 4px;\n\n    &:hover {\n      text-decoration: underline;\n      cursor: pointer;\n    }\n  }\n`;\n\nfunction PostMetrics({ likeCount, commentCount, toggleComments }) {\n  return (\n    <StyledMetrics commentCount={commentCount}>\n      <div className=\"likes\">\n        {likeCount > 0 ? <LikeDisplay likeCount={likeCount} /> : <div />}\n      </div>\n      <div className=\"post-comments\" onClick={toggleComments}>\n        {commentCount === 1 ? (\n          commentCount + \" Comment\"\n        ) : commentCount > 0 ? (\n          commentCount + \" Comments\"\n        ) : (\n          <div />\n        )}\n      </div>\n    </StyledMetrics>\n  );\n}\n\nexport default PostMetrics;\n","import styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\nimport Comment from \"./comment\";\nimport CommentForm from \"./../commentForm/commentForm\";\nimport { BsThreeDots } from \"react-icons/bs\";\nimport Settings from \"./../modals/settingsModal\";\nimport { useState, useRef, useEffect } from \"react\";\nimport ProfilePicture from \"./../userProfile/profilePicture\";\nimport moment from \"moment\";\nimport PostUtils from \"./postUtils\";\nimport PostMetrics from \"./postMetrics\";\nimport getCommentCount from \"./../../utils/getCommentCount\";\nimport EditForm from \"./editForm\";\n\nconst StyledPost = styled.div`\n  width: 100%;\n  border-radius: 5px;\n  margin: 20px 0px;\n  box-shadow: 0 0.1px 0.8px rgba(0, 0, 0, 0.02),\n    0 0.1px 1.9px rgba(0, 0, 0, 0.028), 0 0.3px 3.5px rgba(0, 0, 0, 0.035),\n    0 0.4px 6.3px rgba(0, 0, 0, 0.042), 0 0.8px 11.7px rgba(0, 0, 0, 0.05);\n\n  &:hover {\n    transition: box-shadow 0.05s ease;\n    box-shadow: 0 -0.4px 1.1px rgba(0, 0, 0, 0.047),\n      0 -0.7px 2.5px rgba(0, 0, 0, 0.063), 0 -0.9px 4.5px rgba(0, 0, 0, 0.067),\n      0 -0.8px 7.4px rgba(0, 0, 0, 0.067), 0 0.4px 12.2px rgba(0, 0, 0, 0.066);\n  }\n\n  .user-info {\n    display: grid;\n    grid-template-columns: 60px auto;\n    grid-template-rows: 15px auto;\n    row-gap: 10px;\n    padding: 6px 5px 0px;\n    margin-bottom: 10px;\n\n    p {\n      font-size: 13px;\n      font-weight: bold;\n      color: #aaa;\n    }\n\n    a,\n    p {\n      width: fit-content;\n    }\n\n    a:hover {\n      text-decoration: underline;\n    }\n  }\n\n  .post {\n    position: relative;\n    padding: 5px 0;\n    padding-bottom: 10px;\n    // border-bottom: 1px solid gray;\n    position: relative;\n\n    .pfp-link {\n      grid-column: 1 / 2;\n      grid-row: 1 / -1;\n      justify-self: center;\n      align-self: center;\n    }\n\n    p.content {\n      margin-left: 10px;\n      line-height: 23px;\n      font-size: 15px;\n    }\n  }\n\n  .post-settings {\n    position: absolute;\n    top: 6px;\n    right: 10px;\n    cursor: pointer;\n    font-size: 24px;\n\n    &:hover {\n      color: #777;\n    }\n  }\n\n  .post:hover .post-settings {\n    display: block;\n  }\n\n  .comments {\n    display: ${({ cmtsVis }) => (cmtsVis ? \"block\" : \"none\")};\n  }\n\n  .photo-wrap {\n    width: 100%;\n    margin-top: 5px;\n    display: flex;\n    justify-content: center;\n\n    img {\n      width: 100%;\n      // max-width: 100%;\n    }\n  }\n\n  @media (min-width: 300px) {\n    .post-settings {\n      display: block;\n    }\n  }\n\n  @media (min-width: 1280px) {\n    .post-settings {\n      display: none;\n    }\n  }\n`;\n\nfunction Post({ post, setFeed, homeFeed, src, currentUser, pfp }) {\n  const [modalVisible, setModalVisible] = useState(false);\n  const [likeCount, setLikeCount] = useState(post.likes.length);\n  const [commentCount, setCommentCount] = useState(\n    getCommentCount(post.comments)\n  );\n  const [commentsVisible, setCommentsVisible] = useState(true);\n  const [editingPost, setPostEditStatus] = useState(false);\n  const [postText, setPostText] = useState(post.text);\n  const [img, setImg] = useState(null);\n  const isAuthor = post.author._id === currentUser;\n  const inputRef = useRef(null);\n\n  useEffect(() => {\n    (async function getImg() {\n      if (post.photo) {\n        const key = post.photo.key;\n        setImg(`https://frozen-thicket-71687.herokuapp.com/images/${key}`);\n      } else {\n        return;\n      }\n    })();\n  }, [img, post.photo]);\n\n  const toggleModalVisibility = () => setModalVisible(!modalVisible);\n  const togglePostEdit = () => setPostEditStatus(!editingPost);\n\n  const EditComponent = () => {\n    return (\n      <EditForm\n        setPostText={setPostText}\n        postText={postText}\n        togglePostEdit={togglePostEdit}\n        postId={post._id}\n        isPost\n      />\n    );\n  };\n\n  const postContent = () => <p className=\"content\">{postText}</p>;\n\n  const postPhoto = () => (\n    <div className=\"photo-wrap\">\n      <img src={img} alt=\"post\" loading=\"lazy\" />\n    </div>\n  );\n\n  return (\n    <StyledPost className=\"postItem\" cmtsVis={commentsVisible}>\n      <div className=\"post\">\n        <div className=\"user-info\">\n          <div className=\"pfp-link\">\n            <Link to={`/user/${post.author._id}`} className=\"user\">\n              <ProfilePicture src={post.author.profilePhotoSrc} size={\"40px\"} />\n            </Link>\n          </div>\n          <Link to={`/user/${post.author._id}`} className=\"user\">\n            {post.author.firstName} {post.author.lastName}\n          </Link>\n          <p>{moment(post.createdAt).fromNow()}</p>\n        </div>\n        {editingPost ? EditComponent() : postContent()}\n        {post.photo ? postPhoto() : <div />}\n        <PostMetrics\n          likeCount={likeCount}\n          commentCount={commentCount}\n          toggleComments={() => setCommentsVisible(!commentsVisible)}\n        />\n        {isAuthor ? (\n          <BsThreeDots\n            className=\"post-settings\"\n            onClick={toggleModalVisibility}\n          />\n        ) : (\n          <div />\n        )}\n        <Settings\n          modalVisible={modalVisible}\n          toggleModal={setModalVisible}\n          postItem={post}\n          user={currentUser}\n          setFeed={setFeed}\n          homeFeed={homeFeed}\n          setCommentCount={setCommentCount}\n          togglePostEdit={togglePostEdit}\n          postAuthor={post.author._id}\n          isPost\n        />\n      </div>\n      <PostUtils\n        user={currentUser}\n        post={post._id}\n        setLikeCount={setLikeCount}\n        focusRef={() => inputRef.current.focus()}\n      />\n      <div className=\"comments\">\n        {post.comments.map((comment) => (\n          <div key={comment._id}>\n            <Comment\n              comment={comment}\n              currentUser={currentUser}\n              setFeed={setFeed}\n              homeFeed={homeFeed}\n              postAuthor={post.author._id}\n              setCommentCount={setCommentCount}\n              pfp={pfp}\n            />\n          </div>\n        ))}\n      </div>\n      <CommentForm\n        currentUser={currentUser}\n        postId={post._id}\n        postAuthor={post.author._id}\n        setFeed={setFeed}\n        homeFeed={homeFeed}\n        inputRef={inputRef}\n        setCommentCount={setCommentCount}\n        setCommentsVisible={() => setCommentsVisible(true)}\n        src={src}\n        pfp={pfp}\n      />\n    </StyledPost>\n  );\n}\n\nexport default Post;\n","import Skeleton, { SkeletonTheme } from \"react-loading-skeleton\";\nimport styled from \"styled-components\";\n\nconst StyledLoader = styled.div`\n  background: #777;\n  width: 95%;\n  max-width: 750px;\n  padding: 18px;\n  border-radius: 8px;\n  margin-bottom: 10px;\n  box-shadow: 0 0.1px 0.8px rgba(0, 0, 0, 0.02),\n    0 0.1px 1.9px rgba(0, 0, 0, 0.028), 0 0.3px 3.5px rgba(0, 0, 0, 0.035),\n    0 0.4px 6.3px rgba(0, 0, 0, 0.042), 0 0.8px 11.7px rgba(0, 0, 0, 0.05);\n\n  .post-detail {\n    display: flex;\n    margin-bottom: 15px;\n  }\n\n  .detail-right {\n    margin-left: 10px;\n    width: 100%;\n    display: grid;\n    align-content: space-between;\n  }\n  .author {\n    width: 200px;\n  }\n  .posted-at {\n    width: 100px;\n  }\n\n  .text {\n    margin-bottom: 8px;\n  }\n  .post-body {\n    height: 200px;\n  }\n  .comments {\n    margin-top: 15px;\n  }\n  .comment {\n    margin-top: 12px;\n    display: grid;\n    grid-auto-flow: column;\n    justify-content: start;\n    gap: 10px;\n  }\n`;\n\nfunction PostLoader() {\n  return (\n    <StyledLoader className=\"loading\" id=\"post-loader\">\n      <SkeletonTheme color={\"#d8d8d8\"} highlightColor={\"#f0f0f0\"}>\n        <div className=\"post-detail\">\n          <Skeleton circle=\"true\" height={40} width={40} className=\"pfp\" />\n          <div className=\"detail-right\">\n            <Skeleton className=\"author\" />\n            <Skeleton className=\"posted-at\" />\n          </div>\n        </div>\n        <Skeleton className=\"text\" count={3} />\n        <div className=\"comments\">\n          <div className=\"comment\">\n            <Skeleton circle={true} height={35} width={35} />\n            <div className=\"cmts-right\">\n              <Skeleton height={55} width={200} />\n            </div>\n          </div>\n          <div className=\"comment\">\n            <Skeleton circle={true} height={35} width={35} />\n            <div className=\"cmts-right\">\n              <Skeleton height={55} width={260} />\n            </div>\n          </div>\n          <div className=\"comment\">\n            <Skeleton circle={true} height={35} width={35} />\n            <div className=\"cmts-right\">\n              <Skeleton height={55} width={150} />\n            </div>\n          </div>\n        </div>\n      </SkeletonTheme>\n    </StyledLoader>\n  );\n}\n\nexport default PostLoader;\n","import Post from \"./../post/post\";\nimport styled from \"styled-components\";\nimport PostLoader from \"../loader/postLoader\";\n\nconst StyledFeed = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  .wrap {\n    width: 95%;\n    max-width: 750px;\n  }\n`;\nconst loader = (\n  <>\n    <PostLoader />\n    <PostLoader />\n    <PostLoader />\n  </>\n);\n\nfunction Feed({ homeFeed, posts, setPosts, src, currentUser, pfp }) {\n  return (\n    <StyledFeed className=\"grid-feed\">\n      {posts ? (\n        <div className=\"wrap\">\n          {posts.map((post) => (\n            <div key={post._id} className=\"post-wrap\">\n              <Post\n                post={post}\n                setFeed={setPosts}\n                homeFeed={homeFeed}\n                src={src}\n                currentUser={currentUser}\n                pfp={pfp}\n              />\n            </div>\n          ))}\n        </div>\n      ) : (\n        loader\n      )}\n    </StyledFeed>\n  );\n}\n\nexport default Feed;\n","import styled from \"styled-components\";\nimport { IoMdPersonAdd } from \"react-icons/io\";\nimport { FaUserFriends } from \"react-icons/fa\";\nimport { useState } from \"react\";\n\nconst StyledFriendShip = styled.button`\n  display: ${({ sameUser }) => (sameUser ? \"none\" : \"flex\")};\n  align-items: center;\n  justify-content: center;\n  width: 180px;\n  height: 40px;\n  cursor: pointer;\n\n  .icon {\n    font-size: 18px;\n    margin-right: 6px;\n  }\n  .txt {\n    font-size: 15px;\n    font-weight: bold;\n  }\n\n  &.pending:hover p,\n  &.pending path {\n    color: #eee;\n    cursor: auto;\n  }\n`;\n\nfunction FriendshipButton({ receiverId, currentUser, isPending, sameUser }) {\n  const [pending, setPending] = useState(false);\n\n  async function addPendingFriendship() {\n    const body = JSON.stringify({ receiverId, senderId: currentUser });\n\n    await fetch(\"https://frozen-thicket-71687.herokuapp.com/friends/add\", {\n      method: \"post\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body,\n    });\n\n    setPending(true);\n  }\n\n  const addFriend = () => {\n    return (\n      <>\n        <IoMdPersonAdd className=\"icon\" />\n        <p className=\"txt\">Add Friend</p>\n      </>\n    );\n  };\n\n  const reqPending = () => {\n    return (\n      <>\n        <FaUserFriends className=\"icon\" />\n        <p className=\"txt\">Request Pending...</p>\n      </>\n    );\n  };\n\n  return (\n    <StyledFriendShip\n      onClick={addPendingFriendship}\n      disabled={pending}\n      sameUser={sameUser}\n      className={pending ? \"pending\" : \"\"}\n      id={isPending ? \"pending\" : \"\"}\n    >\n      {pending ? reqPending() : addFriend()}\n    </StyledFriendShip>\n  );\n}\n\nexport default FriendshipButton;\n","import { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { AiFillPicture } from \"react-icons/ai\";\nimport colors from \"./../../colors\";\nimport Cookies from \"universal-cookie\";\nimport Spinner from \"./../spinner/spinner\";\n\nconst StyledHandler = styled.form`\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  position: relative;\n  z-index: 10;\n  width: 100%;\n  max-width: 400px;\n  max-height: 90vh;\n  padding-bottom: 15px;\n  border-radius: 8px;\n  box-shadow: 0 0.1px 0.8px rgba(0, 0, 0, 0.02),\n    0 0.1px 1.9px rgba(0, 0, 0, 0.028), 0 0.3px 3.5px rgba(0, 0, 0, 0.035),\n    0 0.4px 6.3px rgba(0, 0, 0, 0.042), 0 0.8px 11.7px rgba(0, 0, 0, 0.05);\n\n  input[type=\"file\"] {\n    display: none;\n  }\n\n  .icon {\n    font-size: 100px;\n    cursor: pointer;\n    color: ${colors.blue};\n    justify-self: center;\n  }\n\n  label {\n    height: fit-content;\n    width: fit-content;\n    display: grid;\n    flex-direction: column;\n    grid-auto-flow: row;\n    justify-content: center;\n    margin-bottom: 10px;\n\n    p.upload-txt {\n      padding: 0;\n      text-align: center;\n      font-size: 14px;\n\n      &:hover {\n        text-decoration: underline;\n        cursor: pointer;\n      }\n    }\n  }\n\n  input[type=\"submit\"] {\n    margin-top: 20px;\n    width: 95%;\n    max-width: 400px;\n    font-size: 18px;\n    padding: 10px;\n\n    &:hover,\n    &:active {\n      background: ${colors.blue};\n      cursor: pointer;\n    }\n  }\n\n  img[src] {\n    margin-top: 15px;\n    max-width: 95%;\n    max-height: 300px;\n  }\n\n  #esc {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    height: 40px;\n    width: 40px;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n\n    &:hover,\n    &:active {\n      opacity: 80%;\n    }\n\n    span {\n      display: block;\n      height: 2px;\n      width: 25px;\n      background: ${colors.gray};\n      border-radius: 8px;\n\n      &:first-child {\n        transform: rotate(45deg);\n        position: absolute;\n        left: 8px;\n      }\n\n      &:last-child {\n        transform: rotate(-45deg);\n        position: absolute;\n        left: 8px;\n      }\n    }\n  }\n\n  input#img-text-input {\n    width: 95%;\n    min-height: 35px;\n    max-width: 400px;\n    font-size: 14px;\n\n    &:hover {\n      opacity: 70%;\n    }\n  }\n\n  .spinner {\n    position: absolute;\n    bottom: 26px;\n    left: ${({ pfp }) => (pfp ? \"10%\" : \"33%\")};\n  }\n\n  @media (min-width: 420px) {\n    .spinner {\n      left: ${({ pfp }) => (pfp ? \"16%\" : \"36%\")};\n    }\n  }\n  @media (min-width: 520px) {\n    .spinner {\n      left: ${({ pfp }) => (pfp ? \"20%\" : \"150px\")};\n    }\n  }\n`;\nconst cookies = new Cookies();\n\nfunction ImageHandler({\n  user,\n  toggleOff,\n  profile,\n  setFeed,\n  setUpdateStatus,\n  postInput,\n  fromProfile,\n}) {\n  const [imgFile, setImage] = useState(null);\n  const [src, setSrc] = useState(null);\n  const [text, setText] = useState(\"\");\n  const [spinnerVis, setSpinnerVis] = useState(false);\n  const token = cookies.get(\"token\");\n\n  const handleImgInput = (e) => {\n    setImage(e.target.files[0]);\n    setSrc(URL.createObjectURL(e.target.files[0]));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!imgFile) return;\n\n    setSpinnerVis(true);\n\n    const formData = new FormData();\n    formData.append(\"file\", imgFile);\n    formData.append(\"text\", text);\n\n    const endPoint = `${profile ? \"profile\" : \"posts\"}/${\n      fromProfile ? \"profile\" : \"home\"\n    }/${user}`;\n    const url = `https://frozen-thicket-71687.herokuapp.com/upload/${endPoint}`;\n\n    await fetch(url, {\n      method: \"post\",\n      body: formData,\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then(async (res) => {\n        const data = await res.json();\n        if (profile) setUpdateStatus(true);\n        else setFeed(data);\n\n        clearHandler();\n        setSpinnerVis(false);\n      })\n      .catch((err) => console.error(err));\n  };\n\n  const clearHandler = () => {\n    toggleOff();\n    setImage(null);\n    setSrc(null);\n    setText(\"\");\n  };\n\n  const handleInputChange = (e) => setText(e.target.value);\n\n  return (\n    <StyledHandler\n      id=\"img-form\"\n      onSubmit={handleSubmit}\n      encType=\"multipart/form-data\"\n      className=\"modal-component\"\n      pfp={profile}\n    >\n      <input\n        type=\"file\"\n        name={postInput ? \"post-file\" : \"file\"}\n        id={postInput ? \"post-file\" : \"file\"}\n        accept=\".png, .jpeg, .jpg\"\n        onChange={handleImgInput}\n        className=\"modal-component\"\n      />\n      <label\n        htmlFor={postInput ? \"post-file\" : \"file\"}\n        className=\"modal-component\"\n      >\n        <AiFillPicture className=\"upload-icon icon modal-component\" />\n        <p className=\"upload-txt modal-component\">Upload an image</p>\n      </label>\n      {profile ? (\n        <div />\n      ) : (\n        <input\n          type=\"text\"\n          id=\"img-text-input\"\n          placeholder=\"What's on your mind?\"\n          onChange={handleInputChange}\n          value={text}\n          className=\"modal-component\"\n        />\n      )}\n      <img src={src} alt=\"\" className=\"modal-component\" />\n      <input\n        type=\"submit\"\n        value={profile ? \"Change profile picture\" : \"Post\"}\n        className=\"modal-component\"\n        disabled={spinnerVis}\n      />\n      <Spinner className=\"spinner\" vis={spinnerVis} />\n      <button id=\"esc\" onClick={clearHandler} className=\"modal-component\">\n        <span />\n        <span />\n      </button>\n    </StyledHandler>\n  );\n}\n\nexport default ImageHandler;\n","import { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport ImageHandler from \"./imageHandler\";\n\nconst StyledModal = styled.div`\n  display: ${({ vis }) => (vis ? \"flex\" : \"none\")};\n  justify-content: center;\n  position: fixed;\n  top: 20px;\n  left: 0;\n  width: 80%;\n  margin: 0 10%;\n  z-index: 3;\n  animation: comeFromTop 0.2s cubic-bezier(0.18, 0.89, 0.32, 1.28);\n\n  @keyframes comeFromTop {\n    from {\n      top: -50px;\n    }\n  }\n`;\n\nfunction ImageHandlerModal({\n  toggle,\n  user,\n  vis,\n  profile,\n  setFeed,\n  setUpdateStatus,\n  postInput,\n  fromProfile,\n}) {\n  const toggleModalOff = (e) => {\n    if (e.target.tagName === \"path\") return;\n    if ([...e.target.classList].includes(\"modal-component\")) return;\n    if (vis) toggle();\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"click\", toggleModalOff);\n\n    return () => {\n      window.removeEventListener(\"click\", toggleModalOff);\n    };\n  });\n\n  return (\n    <StyledModal vis={vis}>\n      <ImageHandler\n        user={user}\n        toggleOff={toggle}\n        profile={profile}\n        setFeed={setFeed}\n        setUpdateStatus={setUpdateStatus}\n        postInput={postInput}\n        fromProfile={fromProfile}\n      />\n    </StyledModal>\n  );\n}\n\nexport default ImageHandlerModal;\n","import styled from \"styled-components\";\nimport { AiFillPicture } from \"react-icons/ai\";\nimport colors from \"./../../../colors\";\nimport { useState } from \"react\";\nimport Cookies from \"universal-cookie\";\nimport Spinner from \"./../../spinner/spinner\";\n\nconst StyledHandler = styled.form`\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  position: relative;\n  z-index: 10;\n  width: 100%;\n  max-width: 400px;\n  max-height: 90vh;\n  padding-bottom: 15px;\n  border-radius: 8px;\n  box-shadow: 0 0.1px 0.8px rgba(0, 0, 0, 0.02),\n    0 0.1px 1.9px rgba(0, 0, 0, 0.028), 0 0.3px 3.5px rgba(0, 0, 0, 0.035),\n    0 0.4px 6.3px rgba(0, 0, 0, 0.042), 0 0.8px 11.7px rgba(0, 0, 0, 0.05);\n\n  input[type=\"file\"] {\n    display: none;\n  }\n\n  .banner-icon {\n    font-size: 100px;\n    cursor: pointer;\n    color: ${colors.blue};\n    justify-self: center;\n  }\n\n  label {\n    height: fit-content;\n    width: fit-content;\n    display: grid;\n    flex-direction: column;\n    grid-auto-flow: row;\n    justify-content: center;\n    margin-bottom: 10px;\n\n    p.banner-upload-txt {\n      padding: 0;\n      text-align: center;\n      font-size: 14px;\n\n      &:hover {\n        text-decoration: underline;\n        cursor: pointer;\n      }\n    }\n  }\n\n  input[type=\"submit\"] {\n    margin-top: 20px;\n    width: 95%;\n    max-width: 400px;\n    font-size: 18px;\n    padding: 10px;\n\n    &:hover,\n    &:active {\n      background: ${colors.blue};\n      cursor: pointer;\n    }\n  }\n\n  img {\n    display: none;\n    height: 0;\n  }\n\n  img[src] {\n    display: block;\n    height: auto;\n    margin-top: 15px;\n    max-width: 95%;\n    max-height: 300px;\n  }\n\n  #esc {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    height: 40px;\n    width: 40px;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n\n    &:hover,\n    &:active {\n      opacity: 80%;\n    }\n\n    span {\n      display: block;\n      height: 2px;\n      width: 25px;\n      background: ${colors.gray};\n      border-radius: 8px;\n\n      &:first-child {\n        transform: rotate(45deg);\n        position: absolute;\n        left: 8px;\n      }\n\n      &:last-child {\n        transform: rotate(-45deg);\n        position: absolute;\n        left: 8px;\n      }\n    }\n  }\n\n  input#img-text-input {\n    width: 95%;\n    min-height: 35px;\n    max-width: 400px;\n    font-size: 14px;\n\n    &:hover {\n      opacity: 70%;\n    }\n  }\n\n  .spinner {\n    position: absolute;\n    bottom: 25px;\n    left: 35px;\n  }\n\n  @media (min-width: 400px) {\n    .spinner {\n      left: 17%;\n    }\n  }\n  @media (min-width: 450px) {\n    .spinner {\n      left: 20%;\n    }\n  }\n`;\n\nconst cookies = new Cookies();\n\nfunction UploadHandler({ user, toggleOff, setBannerSrc }) {\n  const [imgFile, setImage] = useState(null);\n  const [src, setSrc] = useState(null);\n  const [spinnerVis, setSpinnerVis] = useState(false);\n  const token = cookies.get(\"token\");\n\n  const handleImgInput = (files) => {\n    setImage(files[0]);\n    setSrc(URL.createObjectURL(files[0]));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!imgFile) return;\n\n    setSpinnerVis(true);\n\n    const formData = new FormData();\n    formData.append(\"file\", imgFile);\n\n    const url = `https://frozen-thicket-71687.herokuapp.com/upload/banner/${user}`;\n\n    await fetch(url, {\n      method: \"post\",\n      body: formData,\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    })\n      .then(async (res) => {\n        const data = await res.json();\n\n        setBannerSrc(data.src);\n        clearHandler();\n        setSpinnerVis(false);\n      })\n      .catch((err) => console.error(err));\n  };\n\n  const clearHandler = () => {\n    toggleOff();\n    setImage(null);\n    setSrc(null);\n  };\n\n  return (\n    <StyledHandler\n      id=\"img-form\"\n      onSubmit={handleSubmit}\n      encType=\"multipart/form-data\"\n      className=\"modal-component\"\n    >\n      <input\n        type=\"file\"\n        name=\"banner-file\"\n        id=\"banner-file\"\n        accept=\".png, .jpeg, .jpg\"\n        onChange={(e) => handleImgInput([...e.target.files])}\n        className=\"modal-component\"\n      />\n      <label htmlFor=\"banner-file\" className=\"modal-component\">\n        <AiFillPicture className=\"banner-upload-icon banner-icon modal-component\" />\n        <p className=\"banner-upload-txt modal-component\">Upload an image</p>\n      </label>\n      <img src={src} alt=\"preview\" className=\"banner-preview modal-component\" />\n      <input\n        type=\"submit\"\n        value=\"Change cover photo\"\n        className=\"modal-component\"\n        disabled={spinnerVis}\n      />\n      <Spinner className=\"spinner\" vis={spinnerVis} />\n      <button id=\"esc\" onClick={clearHandler} className=\"modal-component\">\n        <span />\n        <span />\n      </button>\n    </StyledHandler>\n  );\n}\n\nexport default UploadHandler;\n","import { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport UploadHandler from \"./uploadHandler\";\n\nconst StyledBanner = styled.div`\n  display: ${({ vis }) => (vis ? \"flex\" : \"none\")};\n  justify-content: center;\n  position: fixed;\n  top: 20px;\n  left: 0;\n  width: 80%;\n  margin: 0 10%;\n  z-index: 3;\n  animation: comeFromTop 0.2s cubic-bezier(0.18, 0.89, 0.32, 1.28);\n\n  @keyframes comeFromTop {\n    from {\n      top: -50px;\n    }\n  }\n`;\n\nfunction BannerModal({ vis, toggleOff, user, setBannerSrc }) {\n  const toggleModalOff = (e) => {\n    if (e.target.tagName === \"path\") return;\n    if ([...e.target.classList].includes(\"modal-component\")) return;\n    if (vis) toggleOff();\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"click\", toggleModalOff);\n\n    return () => {\n      window.removeEventListener(\"click\", toggleModalOff);\n    };\n  });\n\n  return (\n    <StyledBanner vis={vis}>\n      <UploadHandler\n        toggleOff={toggleOff}\n        user={user}\n        setBannerSrc={setBannerSrc}\n      />\n    </StyledBanner>\n  );\n}\n\nexport default BannerModal;\n","import styled from \"styled-components\";\nimport ProfilePicture from \"./profilePicture\";\nimport FriendshipButton from \"./../friendshipButton/friendshipButton\";\nimport ImageHandlerModal from \"./../imageHandler/imageHandlerModal\";\nimport Skeleton, { SkeletonTheme } from \"react-loading-skeleton\";\nimport { useState } from \"react\";\nimport { MdPhotoCamera } from \"react-icons/md\";\nimport BannerModal from \"./banner/bannerModal\";\nimport colors from \"./../../colors\";\n\nconst StyledHeader = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: center;\n  min-height: 50vh;\n\n  .pfp {\n    position: relative;\n  }\n\n  .name-wrap {\n    max-width: fit-content;\n    font-size: 18px;\n    margin-top: 22px;\n    margin-bottom: 15px;\n  }\n\n  form {\n    display: flex;\n    flex-flow: column nowrap;\n  }\n\n  input[type=\"text\"] {\n    background: ${({ lm }) => (lm ? \"#d8d8d8\" : \"#707070\")};\n    padding: 8px;\n    padding-left: 10px;\n    border-style: none;\n    border-radius: 18px;\n    height: 37px;\n    opacity: 60%;\n    color: ${({ lm }) => (lm ? \"#000\" : \"#fff\")};\n\n    &:focus {\n      outline: none;\n    }\n  }\n\n  @keyframes comeFromBottom {\n    from {\n      bottom: 0;\n      opacity: 0;\n    }\n  }\n\n  .loader {\n    background: #c0c0c0;\n    height: 100%;\n    width: 100%;\n  }\n\n  .banner {\n    position: absolute;\n    top: 0;\n    max-height: 30vh;\n    height: 100%;\n    width: 100%;\n\n    img {\n      object-fit: cover;\n      height: 100%;\n      width: 100%;\n    }\n\n    &-upload {\n      position: absolute;\n      top: 10px;\n      right: 20px;\n      font-size: 26px;\n      cursor: pointer;\n      text-shadow: 1px 1px 1px #222;\n\n      &:hover,\n      &:active {\n        filter: brightness(1.2);\n      }\n    }\n  }\n\n  .pfp-edit-icon {\n    display: ${({ sameUser }) => (sameUser ? \"flex\" : \"none\")};\n    position: absolute;\n    right: 15px;\n    bottom: 10px;\n    border-radius: 50%;\n    background: ${({ lm }) => (lm ? colors.white : colors.gray)};\n    height: 40px;\n    width: 40px;\n    padding: 6px;\n    border: 1px solid ${colors.gray}33;\n\n    &:hover,\n    &:active {\n      cursor: pointer;\n      filter: brightness(${({ lm }) => (lm ? 1.05 : 1.2)});\n    }\n  }\n\n  @media (min-width: 1024px) {\n    & {\n      min-height: 65vh;\n    }\n\n    .banner {\n      min-height: 48vh;\n    }\n  }\n`;\n\nfunction ProfileHeader(props) {\n  const {\n    currentUser,\n    userId,\n    pfpSrc,\n    lightMode,\n    needsUpdate,\n    setUpdateStatus,\n    userName,\n    friendshipPending,\n    alreadyFriends,\n    bannerSrc,\n    setBannerSrc,\n  } = props;\n\n  const [modalVis, setVis] = useState(false);\n  const [bannerVis, setBannerVis] = useState(false);\n\n  const toggleBannerModal = () => setBannerVis(!bannerVis);\n\n  const loader = (\n    <SkeletonTheme color={\"#dadada\"} highlightColor={\"#e0e0e0\"}>\n      <Skeleton height={\"30vh\"} />\n    </SkeletonTheme>\n  );\n\n  const banner = (\n    <img\n      src={\"https://frozen-thicket-71687.herokuapp.com/images/\" + bannerSrc}\n      alt=\"profile banner\"\n    />\n  );\n\n  const bannerUploader = (\n    <div className=\"banner-upload\" onClick={toggleBannerModal}>\n      <MdPhotoCamera />\n    </div>\n  );\n\n  const noBanner = bannerSrc === null || bannerSrc === undefined;\n\n  return (\n    <StyledHeader\n      lm={lightMode}\n      sameUser={currentUser === userId}\n      className=\"grid-prof-head\"\n    >\n      <div className=\"banner\">\n        {userId === currentUser ? bannerUploader : <div />}\n        {noBanner ? loader : banner}\n      </div>\n      <BannerModal\n        vis={bannerVis}\n        toggleOff={toggleBannerModal}\n        user={currentUser}\n        setBannerSrc={setBannerSrc}\n      />\n      <div className=\"pfp\">\n        <ProfilePicture\n          size={\"250px\"}\n          src={pfpSrc}\n          userId={currentUser}\n          lightMode={lightMode}\n          needsUpdate={needsUpdate}\n          setUpdateStatus={setUpdateStatus}\n        />\n        <MdPhotoCamera\n          className=\"pfp-edit-icon\"\n          onClick={() => {\n            if (currentUser === userId) setVis(!modalVis);\n          }}\n        />\n      </div>\n      <div className=\"name-wrap\">\n        <h2>{userName || <Skeleton width={150} />}</h2>\n      </div>\n      {alreadyFriends ? (\n        <div />\n      ) : (\n        <FriendshipButton\n          receiverId={userId}\n          currentUser={currentUser}\n          isPending={friendshipPending}\n          sameUser={currentUser === userId}\n          alreadyFriends={alreadyFriends}\n        />\n      )}\n      <ImageHandlerModal\n        vis={modalVis}\n        user={currentUser}\n        toggle={() => setVis(!modalVis)}\n        setUpdateStatus={setUpdateStatus}\n        profile\n      />\n    </StyledHeader>\n  );\n}\n\nexport default ProfileHeader;\n","import { AiFillPicture } from \"react-icons/ai\";\nimport { MdTextsms } from \"react-icons/md\";\n\nfunction PostIcons({ toggleImgModal, focusRef }) {\n  return (\n    <div className=\"post-types\">\n      <div className=\"post-icon\" onClick={toggleImgModal}>\n        <AiFillPicture />\n        <p id=\"post-icon-text\">Photo</p>\n      </div>\n      <div className=\"post-icon\" onClick={focusRef}>\n        <MdTextsms />\n        <p id=\"post-icon-text\">Text</p>\n      </div>\n    </div>\n  );\n}\n\nexport default PostIcons;\n","import ProfilePicture from \"./../../userProfile/profilePicture\";\n\nfunction Form(props) {\n  const {\n    handleSubmit,\n    src,\n    currentUser,\n    handleInputChange,\n    text,\n    postRef,\n  } = props;\n\n  return (\n    <form onSubmit={handleSubmit} className=\"txt-form\">\n      <div className=\"wrap\">\n        <div className=\"pfp\">\n          <ProfilePicture src={src} userId={currentUser} size={\"37px\"} />\n        </div>\n        <input\n          type=\"text\"\n          onChange={handleInputChange}\n          value={text}\n          ref={postRef}\n        />\n        <div className=\"placeholder\" id={text ? \"moved\" : \" \"}>\n          What's on your mind?\n        </div>\n      </div>\n      <p>Press enter to post</p>\n    </form>\n  );\n}\n\nexport default Form;\n","import { useState } from \"react\";\nimport styled from \"styled-components\";\nimport PostIcons from \"./postIcons\";\nimport ImageHandlerModal from \"./../../imageHandler/imageHandlerModal\";\nimport Form from \"./form\";\nimport Cookies from \"universal-cookie\";\n\nconst StyledStatusForm = styled.div`\n  background: ${({ lm, g }) => (lm ? \"#eee\" : g)};\n  border: 1px solid ${({ lm, g, w }) => (lm ? g : w)}11;\n  padding: 18px;\n  padding-bottom: 6px;\n  border-radius: 8px;\n  margin: 10px auto;\n  margin-bottom: 20px;\n  position: relative;\n  width: 95%;\n  max-width: 750px;\n  box-shadow: 0 0.1px 0.8px rgba(0, 0, 0, 0.02),\n    0 0.1px 1.9px rgba(0, 0, 0, 0.028), 0 0.3px 3.5px rgba(0, 0, 0, 0.035),\n    0 0.4px 6.3px rgba(0, 0, 0, 0.042), 0 0.8px 11.7px rgba(0, 0, 0, 0.05);\n\n  form {\n    display: flex;\n    flex-flow: column nowrap;\n  }\n\n  .wrap {\n    display: flex;\n  }\n\n  .pfp {\n    margin-right: 10px;\n  }\n\n  input[type=\"text\"] {\n    background: ${({ lm }) => (lm ? \"#d8d8d8\" : \"#707070\")};\n    padding-left: 10px;\n    border-style: none;\n    border-radius: 18px;\n    height: 37px;\n    width: 100%;\n    opacity: 60%;\n    font-size: 15px;\n    color: ${({ lm }) => (lm ? \"#000\" : \"#fff\")};\n\n    &:focus {\n      outline: none;\n    }\n  }\n\n  .txt-form {\n    padding-bottom: 10px;\n    border-bottom: 1px solid gray;\n    border-bottom: 1px solid gray;\n  }\n\n  .placeholder {\n    color: ${({ lm, g, w }) => (lm ? g : w)}aa;\n    position: absolute;\n    top: 28px;\n    left: 75px;\n    font-size: 15px;\n    transition: top 0.2s ease, left 0.2s ease, font-size 0.2s ease;\n    pointer-events: none;\n  }\n\n  input[type=\"text\"]:focus + div.placeholder {\n    color: ${({ lm, g, w }) => (lm ? g : w)};\n    font-size: 12px;\n    top: 2px;\n    left: 70px;\n    transition: top 0.2s ease, left 0.2s ease, font-size 0.2s ease;\n  }\n\n  #moved {\n    top: 2px;\n    left: 70px;\n    color: ${({ lm, g, w }) => (lm ? g : w)};\n    font-size: 12px;\n    transition: top 0.2s ease, left 0.2s ease, font-size 0.2s ease;\n  }\n\n  p {\n    font-size: 12px;\n    padding-top: 3px;\n    padding-left: 57px;\n  }\n\n  .post-types {\n    display: grid;\n    grid-auto-flow: column;\n    margin-top: 7px;\n  }\n\n  .post-icon {\n    display: grid;\n    grid-auto-flow: column;\n    justify-content: center;\n    font-size: 28px;\n    cursor: pointer;\n    padding: 5px 0;\n    border-radius: 8px;\n\n    &:hover,\n    &:active {\n      background: #707070aa;\n    }\n\n    p {\n      padding: 0;\n      padding-left: 5px;\n      width: fit-content;\n      justify-self: start;\n      align-self: center;\n      font-size: 15px;\n      font-weight: bold;\n    }\n  }\n`;\nconst cookies = new Cookies();\n\nfunction StatusForm({\n  colors,\n  postRef,\n  currentUser,\n  lightMode,\n  setFeed,\n  homeFeed,\n  src,\n  fromProfile,\n}) {\n  const [text, setText] = useState(\"\");\n  const [modalVis, setImgModalVis] = useState(false);\n  const { black, gray, white, red, yellow } = colors;\n  const token = cookies.get(\"token\");\n\n  const focusRef = () => postRef.current.focus();\n\n  const toggleImgModal = () => setImgModalVis(!modalVis);\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    // Prevent posting empty content\n    if (!text) return;\n\n    const formData = { homeFeed, text };\n    const reqBody = JSON.stringify(formData);\n\n    // Response returns the updated posts from the create method of the post controller.\n    // This is to help minimize requests.\n    const res = await fetch(\n      `https://frozen-thicket-71687.herokuapp.com/posts/new`,\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n        body: reqBody,\n      }\n    );\n\n    const data = await res.json();\n    setFeed(data);\n\n    setText(\"\");\n    postRef.current.blur();\n  }\n\n  const textIsEmpty = () => text === \"\";\n\n  const handleInputChange = (e) => {\n    setText(e.target.value);\n  };\n\n  return (\n    <>\n      <StyledStatusForm\n        r={red}\n        y={yellow}\n        b={black}\n        g={gray}\n        w={white}\n        lm={lightMode}\n        textIsEmpty={textIsEmpty()}\n        className=\"grid-status-form\"\n      >\n        <Form\n          handleSubmit={handleSubmit}\n          src={src}\n          currentUser={currentUser}\n          handleInputChange={handleInputChange}\n          text={text}\n          postRef={postRef}\n        />\n        <PostIcons toggleImgModal={toggleImgModal} focusRef={focusRef} />\n        <ImageHandlerModal\n          toggle={toggleImgModal}\n          user={currentUser}\n          vis={modalVis}\n          setFeed={setFeed}\n          postInput\n          fromProfile={fromProfile}\n        />\n      </StyledStatusForm>\n    </>\n  );\n}\n\nexport default StatusForm;\n","import styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\nimport colors from \"./../../colors\";\n\nconst StyledCard = styled.div`\n  background: ${({ lightMode }) => (lightMode ? colors.white : colors.gray)};\n  border-radius: 8px;\n  border: 1px solid\n    ${({ lightMode }) => (lightMode ? colors.gray : colors.white)}22;\n  height: 100%;\n  width: 160px;\n  box-shadow: 0 2.6px 1.3px rgba(0, 0, 0, 0.07),\n    0 3.7px 4.3px rgba(0, 0, 0, 0.036), 0 4px 15px rgba(0, 0, 0, 0.027);\n\n  & .link {\n    text-decoration: none;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  & .link:hover,\n  & .link:active {\n    text-decoration: underline;\n  }\n\n  .frame {\n    width: 100%;\n    max-height: 200px;\n\n    img {\n      height: 150px;\n      width: 100%;\n      object-fit: cover;\n      border-top-left-radius: 8px;\n      border-top-right-radius: 8px;\n    }\n  }\n\n  .detail {\n    height: 45px;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: start;\n  }\n\n  h3 {\n    font-size: 1em;\n    margin-top: 8px;\n  }\n\n  @media (min-width: 1024px) {\n    & {\n      width: auto;\n    }\n  }\n`;\n\nfunction FriendCard({ friend, lightMode }) {\n  const src =\n    \"https://frozen-thicket-71687.herokuapp.com/images/\" +\n    friend.profilePhotoSrc;\n\n  return (\n    <StyledCard lightMode={lightMode}>\n      <Link to={`/user/${friend._id}`} className=\"link\">\n        <div className=\"frame\">\n          <img src={src} alt=\"friend\" />\n        </div>\n        <div className=\"detail\">\n          <h3>{friend.firstName + \" \" + friend.lastName}</h3>\n        </div>\n      </Link>\n    </StyledCard>\n  );\n}\n\nexport default FriendCard;\n","import styled from \"styled-components\";\nimport FriendCard from \"./friendCard\";\nimport colors from \"./../../colors\";\n\nconst StyledFriends = styled.ul`\n  list-style: none;\n  display: grid;\n  grid-auto-flow: column;\n  grid-template-rows: 30px 30px 30px repeat(auto-fit, 1fr);\n  justify-content: start;\n  gap: 8px;\n  width: 95%;\n  max-width: 750px;\n  overflow-x: scroll;\n  scrollbar-width: none;\n  background: ${({ lm }) => (lm ? \"#eee\" : colors.gray)};\n  border: 1px solid ${({ lm }) => (lm ? colors.gray : colors.white)}11;\n  padding: 18px;\n  padding-top: 45px;\n  padding-bottom: 8px;\n  border-radius: 8px;\n  margin: 10px auto;\n  margin-bottom: 20px;\n  position: relative;\n  box-shadow: 0 0.1px 0.8px rgba(0, 0, 0, 0.02),\n    0 0.1px 1.9px rgba(0, 0, 0, 0.028), 0 0.3px 3.5px rgba(0, 0, 0, 0.035),\n    0 0.4px 6.3px rgba(0, 0, 0, 0.042), 0 0.8px 11.7px rgba(0, 0, 0, 0.05);\n\n  &:hover,\n  &:active {\n    scrollbar-width: auto;\n  }\n\n  @media (min-width: 840px) {\n    &:hover,\n    &:active {\n      margin-bottom: -5px;\n    }\n  }\n\n  .count {\n    position: absolute;\n    top: 12px;\n    left: 18px;\n  }\n\n  @media (min-width: 1024px) {\n    & {\n      align-content: start;\n      grid-auto-flow: row;\n      height: min-content;\n      max-height: 100vh;\n      max-width: 300px;\n      overflow-x: hidden;\n      overflow-y: scroll;\n\n      &:hover,\n      &:active {\n        padding-right: 3px;\n      }\n    }\n  }\n`;\n\nfunction FriendsList({ friends, lightMode }) {\n  const mapFriends = friends.map((friend) => {\n    return (\n      <li key={friend._id}>\n        <FriendCard friend={friend} lightMode={lightMode} />\n      </li>\n    );\n  });\n\n  return (\n    <StyledFriends lm={lightMode} className=\"grid-friend-list\">\n      <h4 className=\"count\">Friends ( {friends.length} )</h4>\n      {friends.length === 0 ? <div /> : mapFriends}\n    </StyledFriends>\n  );\n}\n\nexport default FriendsList;\n","import React, { useEffect, useState } from \"react\";\nimport { useRouteMatch } from \"react-router-dom\";\nimport Feed from \"./../feed/feed\";\nimport ProfileHeader from \"./profileHeader\";\nimport StatusForm from \"./../homepage/statusForm/statusForm\";\nimport FriendsList from \"./../friends/friendsList\";\n\nfunction UserProfile({\n  colors,\n  lightMode,\n  user,\n  currentUser,\n  pfp,\n  postRef,\n  needsUpdate,\n  setUpdateStatus,\n}) {\n  const match = useRouteMatch();\n  const userId = user || match.params.userId;\n  const [userName, setUserName] = useState(null);\n  const [posts, setPosts] = useState([]);\n  const [friendshipPending, setFriendStatus] = useState(null);\n  // const [needsUpdate, setUpdateStatus] = useState(false);\n  const [pfpSrc, setPfpSrc] = useState(null);\n  const [friends, setFriends] = useState([]);\n  const [alreadyFriends, setAlreadyFriends] = useState(null);\n  const [bannerSrc, setBannerSrc] = useState(null);\n\n  useEffect(() => {\n    (async function fetchUserData() {\n      const dataResponse = await fetch(\n        `https://frozen-thicket-71687.herokuapp.com/users/${userId}`\n      );\n      const data = await dataResponse.json();\n\n      setFriendStatus(data.pendingFriends.includes(currentUser));\n      setUserName(data.firstName + \" \" + data.lastName);\n      setPfpSrc(data.profilePhotoSrc);\n      setBannerSrc(data.bannerSrc);\n      setFriends(data.friends);\n      setAlreadyFriends(data.friends.map((fr) => fr._id).includes(currentUser));\n    })();\n  }, [userId, currentUser]);\n\n  useEffect(() => {\n    (async function fetchPosts() {\n      const response = await fetch(\n        `https://frozen-thicket-71687.herokuapp.com/posts/byuser/${userId}`\n      );\n\n      const data = await response.json();\n      setPosts(data);\n    })();\n  }, [userId]);\n\n  return (\n    <>\n      <ProfileHeader\n        currentUser={currentUser}\n        userId={userId}\n        pfpSrc={pfpSrc}\n        lightMode={lightMode}\n        needsUpdate={needsUpdate}\n        setUpdateStatus={setUpdateStatus}\n        userName={userName}\n        friendshipPending={friendshipPending}\n        alreadyFriends={alreadyFriends}\n        bannerSrc={bannerSrc}\n        setBannerSrc={setBannerSrc}\n      />\n      <FriendsList friends={friends} lightMode={lightMode} />\n      {currentUser === userId ? (\n        <StatusForm\n          colors={colors}\n          currentUser={currentUser}\n          lightMode={lightMode}\n          setFeed={setPosts}\n          src={pfp}\n          postRef={postRef}\n          fromProfile\n        />\n      ) : (\n        <div />\n      )}\n      <Feed\n        user={userId}\n        posts={posts}\n        setPosts={setPosts}\n        src={pfpSrc}\n        currentUser={currentUser}\n        pfp={pfp}\n      />\n    </>\n  );\n}\n\nexport default UserProfile;\n","import Skeleton from \"react-loading-skeleton\";\nimport styled from \"styled-components\";\nimport ProfilePicture from \"./../userProfile/profilePicture\";\nimport colors from \"./../../colors\";\nimport FriendshipButton from \"./../friendshipButton/friendshipButton\";\nimport { Link } from \"react-router-dom\";\nimport { useState } from \"react\";\n\nconst StyledCard = styled.div`\n  display: flex;\n  width: 350px;\n  padding: 15px;\n  border-radius: 8px;\n\n  .user-data {\n    display: flex;\n    flex-direction: column;\n    margin-left: 20px;\n\n    & > * {\n      margin: 3px 0;\n    }\n\n    h3 {\n      font-size: 16px;\n    }\n\n    a {\n      text-decoration: none;\n\n      &:hover {\n        text-decoration: underline;\n      }\n    }\n\n    button {\n      background: ${colors.blue};\n      width: 100px;\n      font-weight: bold;\n      font-size: 14px;\n\n      &:first-child {\n        margin-right: 5px;\n      }\n\n      &:hover {\n        opacity: 90%;\n      }\n    }\n\n    .req-btns button {\n      cursor: pointer;\n    }\n\n    .mutual-count {\n      font-size: 14px;\n    }\n\n    .spacer {\n      height: 16px;\n    }\n\n    #add-btn button {\n      width: 205px;\n      height: 32px;\n\n      &.pending {\n        cursor: auto;\n      }\n    }\n\n    #not-responded:not(.req-btns button:hover) {\n      opacity: 100%;\n    }\n\n    #responded {\n      opacity: 50%;\n      cursor: auto;\n\n      &:hover {\n        color: white;\n      }\n    }\n  }\n`;\n\nfunction UserCard({ user, amtCommon, currentUser, requested }) {\n  const [responded, setResponse] = useState(false);\n  const [resId, setResId] = useState(\"not-responded\");\n  const fullName = `${user.firstName} ${user.lastName}`;\n\n  async function handleFriendAcceptance() {\n    const senderId = user._id;\n    const accepterId = currentUser;\n    const body = JSON.stringify({ senderId, accepterId });\n\n    await fetch(\"https://frozen-thicket-71687.herokuapp.com/friends/accept\", {\n      method: \"post\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body,\n    });\n\n    setResId(\"responded\");\n    setResponse(true);\n  }\n\n  async function handleFriendDenial() {\n    const senderId = user._id;\n    const denierId = currentUser;\n    const body = JSON.stringify({ senderId, denierId });\n\n    await fetch(\"https://frozen-thicket-71687.herokuapp.com/friends/deny\", {\n      method: \"post\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body,\n    });\n\n    setResId(\"responded\");\n    setResponse(true);\n  }\n\n  const reqButtons = () => (\n    <div className=\"req-btns\">\n      <button id={resId} onClick={handleFriendAcceptance} disabled={responded}>\n        Confirm\n      </button>\n      <button id={resId} onClick={handleFriendDenial} disabled={responded}>\n        Deny\n      </button>\n    </div>\n  );\n\n  const friendButton = () => (\n    <div id=\"add-btn\">\n      <FriendshipButton receiverId={user._id} currentUser={currentUser} />\n    </div>\n  );\n\n  const common = (amt) => {\n    return (\n      <p className=\"mutual-count\">{`${amt} mutual friend${\n        amt > 1 ? \"s\" : \"\"\n      }`}</p>\n    );\n  };\n\n  return (\n    <StyledCard id=\"prof-card\">\n      <div className=\"pfp\">\n        <Link to={`/users/${user._id}`}>\n          <ProfilePicture\n            src={user.profilePhotoSrc}\n            userId={user._id}\n            size={\"70px\"}\n          />\n        </Link>\n      </div>\n      <div className=\"user-data\">\n        <Link to={`/user/${user._id}`}>\n          {<h3>{fullName}</h3> || <Skeleton />}\n        </Link>\n        {amtCommon ? common(amtCommon) : <div className=\"spacer\" />}\n        {requested ? reqButtons() : friendButton()}\n      </div>\n    </StyledCard>\n  );\n}\n\nexport default UserCard;\n","import UserCard from \"./userCard\";\n\nfunction ReceivedRequests({ currentUser, reqs, userData, getMutualCount }) {\n  return (\n    <>\n      {reqs &&\n        reqs.map((user) => (\n          <li key={user._id}>\n            <UserCard\n              user={user}\n              amtCommon={getMutualCount(userData, user)}\n              currentUser={currentUser}\n              requested\n            />\n          </li>\n        ))}\n    </>\n  );\n}\nexport default ReceivedRequests;\n","import UserCard from \"./userCard\";\n\nfunction UnrequestedUsers({ currentUser, users, userData, getMutualCount }) {\n  return (\n    <>\n      {users &&\n        users.map((user) => (\n          <li key={user._id}>\n            <UserCard\n              user={user}\n              amtCommon={getMutualCount(userData, user)}\n              currentUser={currentUser}\n            />\n          </li>\n        ))}\n    </>\n  );\n}\n\nexport default UnrequestedUsers;\n","import { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport ReceivedRequests from \"./receivedRequests\";\nimport UnrequestedUsers from \"./unrequestedUsers\";\n\nconst StyledUsers = styled.ul`\n  margin-top: 10px;\n  margin-bottom: 80px;\n  display: grid;\n  justify-items: center;\n  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\n  gap: 4px;\n\n  li {\n    list-style: none;\n    width: fit-content;\n    height: fit-content;\n  }\n`;\n\nfunction Users({ currentUser }) {\n  const [users, setUsers] = useState(null);\n  const [receivedReqs, setReceivedReqs] = useState(null);\n  const [userObject, setUserObject] = useState(null);\n\n  useEffect(() => {\n    (async function fetchUsers() {\n      const url = \"https://frozen-thicket-71687.herokuapp.com\";\n      const currentUserObj = await fetch(`${url}/users/${currentUser}`);\n      const users = await fetch(`${url}/users/find-users/${currentUser}`);\n      const received = await fetch(`${url}/friends/pending/${currentUser}`);\n\n      const promiseArr = [currentUserObj.json(), users.json(), received.json()];\n\n      Promise.all(promiseArr).then((data) => {\n        const [currUser, users, recReqs] = data;\n\n        setUserObject(currUser);\n        setUsers(users);\n        setReceivedReqs(recReqs);\n      });\n    })();\n  }, [currentUser]);\n\n  const getCommonFriendCount = (self, user) => {\n    return self.friends.filter((friend) => user.friends.includes(friend._id))\n      .length;\n  };\n\n  return (\n    <StyledUsers>\n      <ReceivedRequests\n        currentUser={currentUser}\n        reqs={receivedReqs}\n        userData={userObject}\n        getMutualCount={getCommonFriendCount}\n      />\n      <UnrequestedUsers\n        currentUser={currentUser}\n        users={users}\n        userData={userObject}\n        getMutualCount={getCommonFriendCount}\n      />\n    </StyledUsers>\n  );\n}\n\nexport default Users;\n","import StatusForm from \"./statusForm/statusForm\";\nimport colors from \"./../../colors\";\nimport Feed from \"./../feed/feed\";\nimport { useEffect, useState } from \"react\";\n\nfunction HomePage({ currentUser, lightMode, postRef, pfp }) {\n  const [posts, setPosts] = useState(null);\n  const [pfpSrc, setSrc] = useState(null);\n\n  useEffect(() => {\n    (async function fetchPosts() {\n      const response = await fetch(\n        `https://frozen-thicket-71687.herokuapp.com/posts/feed/${currentUser}`\n      );\n\n      const data = await response.json();\n      setPosts(data);\n    })();\n  }, [currentUser]);\n\n  useEffect(() => {\n    (async function fetchPosts() {\n      const response = await fetch(\n        `https://frozen-thicket-71687.herokuapp.com/users/${currentUser}`\n      );\n\n      const data = await response.json();\n      setSrc(data.profilePhotoSrc);\n    })();\n  }, [currentUser]);\n\n  return (\n    <>\n      <StatusForm\n        colors={colors}\n        postRef={postRef}\n        lightMode={lightMode}\n        currentUser={currentUser}\n        setFeed={setPosts}\n        src={pfpSrc}\n        homeFeed\n      ></StatusForm>\n      <Feed\n        currentUser={currentUser}\n        src={pfpSrc}\n        pfp={pfp}\n        posts={posts}\n        setPosts={setPosts}\n        homeFeed\n      />\n    </>\n  );\n}\n\nexport default HomePage;\n","import UserProfile from \"./../userProfile/UserProfile\";\n\nfunction Profile({\n  user,\n  lightMode,\n  colors,\n  pfp,\n  postRef,\n  needsUpdate,\n  setUpdateStatus,\n}) {\n  return (\n    <UserProfile\n      currentUser={user}\n      user={user}\n      colors={colors}\n      lightMode={lightMode}\n      pfp={pfp}\n      postRef={postRef}\n      needsUpdate={needsUpdate}\n      setUpdateStatus={setUpdateStatus}\n    />\n  );\n}\n\nexport default Profile;\n","const emailRegex = /^[a-zA-Z0-9]+@[a-zA-Z0-9]+\\.[A-Za-z]+$/;\n\nexport default emailRegex;\n","import styled from \"styled-components\";\nimport { useState } from \"react\";\nimport emailRegex from \"./../../utils/emailRegex\";\nimport colors from \"./../../colors\";\nimport Cookies from \"universal-cookie\";\nimport Spinner from \"./../spinner/spinner\";\nconst { gray, lightBlue, lightBlueHover, white, red } = colors;\n\nconst StyledForm = styled.form`\n  position: absolute;\n  top: 0px;\n  display: ${({ vis }) => (vis ? \"grid\" : \"none\")};\n  gap: 18px;\n  width: 300px;\n  padding: 18px;\n  padding-bottom: ${({ spinnerVis }) => (spinnerVis ? \"0px\" : \"18px\")};\n  margin: 0 auto;\n  background: #fff;\n  border-radius: 8px;\n  position: relative;\n  box-shadow: 0 0px 1.1px rgba(0, 0, 0, 0.019),\n    0 0.2px 3.5px rgba(0, 0, 0, 0.027), 0 1px 7.5px rgba(0, 0, 0, 0.033),\n    0 3px 13.5px rgba(0, 0, 0, 0.041), 0 5px 20px rgba(0, 0, 0, 0.06);\n\n  input {\n    height: 50px;\n    font-size: 16px;\n    border-radius: 8px;\n\n    &[type=\"email\"],\n    &[type=\"password\"],\n    &[type=\"text\"] {\n      padding-left: 15px;\n      padding-right: 7px;\n      border: 1px solid ${gray}33;\n      outline: none;\n\n      &:focus,\n      &:active {\n        border: 2px solid ${lightBlue};\n        box-shadow: 0 0 0 2px #e7f3ff;\n      }\n    }\n  }\n\n  input:valid:not(input[type=\"submit\"]) {\n    border: 1px solid #43df36;\n    box-shadow: 0 0 2px #43df36;\n  }\n\n  .btns {\n    width: 100%;\n\n    & > * {\n      width: 100%;\n      flex: 1;\n      padding: 12px;\n      border-style: none;\n      border-radius: 8px;\n      font-size: 18px;\n      font-weight: bold;\n      background: ${lightBlue};\n      color: ${white};\n\n      &:hover:not(.spacer),\n      &:active:not(.spacer) {\n        background: ${lightBlueHover};\n        cursor: pointer;\n      }\n    }\n\n    button {\n      height: 50px;\n    }\n  }\n\n  .spacer {\n    border-top: 1px solid ${gray}33;\n    border-radius: 0;\n    margin-top: 24px;\n    width: 100%;\n    background: none;\n  }\n\n  .err-empty {\n    display: none;\n  }\n  .err-text {\n    position: absolute;\n    bottom: 238px;\n    left: 27px;\n    text-align: start;\n    color: ${red};\n    font-size: 12px;\n    animation: appear 0.3s ease;\n  }\n\n  .spinner {\n    position: absolute;\n    bottom: 132px;\n    left: 30px;\n    color: ${white};\n  }\n\n  @keyframes appear {\n    from {\n      opacity: 0;\n      left: 0;\n    }\n  }\n\n  @media (min-width: 540px) {\n    & {\n      width: 400px;\n    }\n    .spinner {\n      left: 77px;\n    }\n  }\n`;\n\nconst cookies = new Cookies();\n\nfunction CreateAccountForm({ vis, toggle, setActiveUser }) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPass] = useState(\"\");\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const [spinnerVis, setSpinnerVis] = useState(false);\n\n  const handleEmailChange = (e) => setEmail(e.target.value);\n  const handlePassChange = (e) => setPass(e.target.value);\n  const handleFirstNameChange = (e) => setFirstName(e.target.value);\n  const handleLastNameChange = (e) => setLastName(e.target.value);\n\n  const fieldsEmpty =\n    email === \"\" || password === \"\" || firstName === \"\" || lastName === \"\";\n\n  const handleAccountCreation = async (e) => {\n    e.preventDefault();\n\n    if (fieldsEmpty) return;\n    if (!emailRegex.test(email)) return;\n\n    setSpinnerVis(true);\n\n    const userData = { firstName, lastName, email, password };\n\n    await fetch(\"https://frozen-thicket-71687.herokuapp.com/users/new\", {\n      method: \"post\",\n      mode: \"cors\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(userData),\n    })\n      .then(async (res) => {\n        const data = await res.json();\n        const { token, user } = data;\n\n        if (data.error) {\n          setErrorMsg(data.message);\n          setSpinnerVis(false);\n        } else {\n          setActiveUser(user);\n          cookies.set(\"token\", token);\n          cookies.set(\"currentUser\", user);\n        }\n      })\n      .catch((err) => console.error(err));\n  };\n\n  const clearFields = () => {\n    setEmail(\"\");\n    setPass(\"\");\n    setFirstName(\"\");\n    setLastName(\"\");\n    setErrorMsg(\"\");\n  };\n\n  const handleCancel = () => {\n    clearFields();\n    toggle();\n  };\n\n  return (\n    <StyledForm\n      vis={vis}\n      onSubmit={handleAccountCreation}\n      spinnerVis={spinnerVis}\n    >\n      <input\n        type=\"text\"\n        placeholder=\"First Name\"\n        onChange={handleFirstNameChange}\n        value={firstName}\n        maxLength=\"50\"\n        required\n      />\n      <input\n        type=\"text\"\n        placeholder=\"Last Name\"\n        onChange={handleLastNameChange}\n        value={lastName}\n        maxLength=\"50\"\n        required\n      />\n      <input\n        type=\"email\"\n        placeholder=\"Email\"\n        onChange={handleEmailChange}\n        value={email}\n        maxLength=\"100\"\n        required\n      />\n      <input\n        type=\"password\"\n        onChange={handlePassChange}\n        placeholder=\"Password\"\n        minLength=\"8\"\n        maxLength=\"50\"\n        value={password}\n        required\n      />\n      {errorMsg ? (\n        <p className=\"err-text\">{errorMsg}</p>\n      ) : (\n        <div className=\"err-empty\" />\n      )}\n      <div className=\"btns\">\n        <input type=\"submit\" value=\"Create Your Account!\" />\n        <div className=\"spacer\" />\n        <button onClick={handleCancel}>Cancel</button>\n      </div>\n      <Spinner vis={spinnerVis} className=\"spinner\" />\n    </StyledForm>\n  );\n}\n\nexport default CreateAccountForm;\n","import styled from \"styled-components\";\nimport { useState } from \"react\";\nimport CreateAccountForm from \"./createAccount\";\nimport colors from \"./../../colors\";\nimport Cookies from \"universal-cookie\";\nimport Spinner from \"./../spinner/spinner\";\nconst { white, gray, lightBlue, lightBlueHover, red } = colors;\n\nconst StlyedForm = styled.form`\n  display: ${({ createVis }) => (createVis ? \"none\" : \"grid\")};\n  gap: 18px;\n  width: 300px;\n  padding: 18px;\n  padding-bottom: ${({ spinnerVis }) => (spinnerVis ? \"0px\" : \"18px\")};\n  margin: 0 auto;\n  background: #fff;\n  border-radius: 8px;\n  position: relative;\n  box-shadow: 0 0px 1.1px rgba(0, 0, 0, 0.019),\n    0 0.2px 3.5px rgba(0, 0, 0, 0.027), 0 1px 7.5px rgba(0, 0, 0, 0.033),\n    0 3px 13.5px rgba(0, 0, 0, 0.041), 0 5px 20px rgba(0, 0, 0, 0.06);\n\n  input {\n    height: 50px;\n    font-size: 16px;\n    border-radius: 8px;\n\n    &[type=\"email\"],\n    &[type=\"password\"] {\n      padding-left: 15px;\n      padding-right: 7px;\n      border: 1px solid ${gray}33;\n      outline: none;\n\n      &:focus,\n      &:active {\n        border: 2px solid ${lightBlue};\n        box-shadow: 0 0 0 2px #e7f3ff;\n      }\n    }\n  }\n\n  input:valid:not(input[type=\"submit\"]) {\n    border: 1px solid #43df36;\n    box-shadow: 0 0 2px #43df36;\n  }\n\n  .btns {\n    width: 100%;\n\n    & > * {\n      width: 100%;\n      flex: 1;\n      padding: 12px;\n      border-style: none;\n      border-radius: 8px;\n      font-size: 18px;\n      font-weight: bold;\n      background: ${lightBlue};\n      color: ${white};\n\n      &:hover:not(.spacer),\n      &:active:not(.spacer) {\n        background: ${lightBlueHover};\n        cursor: pointer;\n      }\n    }\n\n    button {\n      height: 50px;\n    }\n  }\n\n  .spacer {\n    border-top: 1px solid ${gray}33;\n    border-radius: 0;\n    margin-top: 24px;\n    width: 100%;\n    background: none;\n  }\n\n  .error {\n    display: ${({ errVis }) => (errVis ? \"flex\" : \"none\")};\n    font-size: 14px;\n    color: ${red};\n  }\n\n  .spinner {\n    position: absolute;\n    bottom: 132px;\n    left: 90px;\n    color: ${white};\n  }\n\n  @media (min-width: 540px) {\n    & {\n      width: 400px;\n    }\n    .spinner {\n      left: 140px;\n    }\n  }\n`;\n\nconst cookies = new Cookies();\n\nfunction Form({ setActiveUser }) {\n  const [email, setEmail] = useState(\"\");\n  const [pass, setPass] = useState(\"\");\n  const [errorModalVis, setErrorVis] = useState(false);\n  const [errorMsg, setMsg] = useState(\"\");\n  const [accountCreationVis, setAccCreationVis] = useState(false);\n  const [spinnerVis, setSpinnerVis] = useState(false);\n\n  const toggleAccountCreator = () => setAccCreationVis(!accountCreationVis);\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n\n    if (email === \"\" || pass === \"\") return;\n\n    setSpinnerVis(true);\n\n    await fetch(\"https://frozen-thicket-71687.herokuapp.com/login\", {\n      method: \"post\",\n      mode: \"cors\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ email, pass }),\n    })\n      .then(async (res) => {\n        if (res.status === 401) {\n          const data = await res.json();\n          const msg = data.error;\n          setMsg(msg);\n          setErrorVis(true);\n          setSpinnerVis(false);\n        } else {\n          const { token, user } = await res.json();\n\n          setErrorVis(false);\n          setActiveUser(user);\n\n          cookies.set(\"token\", token);\n          cookies.set(\"currentUser\", user);\n        }\n      })\n      .catch((err) => console.error(err));\n  };\n\n  const handleEmailChange = (e) => setEmail(e.target.value);\n  const handlePassChange = (e) => setPass(e.target.value);\n\n  return (\n    <>\n      <StlyedForm\n        onSubmit={handleLogin}\n        errVis={errorModalVis}\n        createVis={accountCreationVis}\n        spinnerVis={spinnerVis}\n      >\n        <input\n          type=\"email\"\n          value={email}\n          placeholder=\"Email\"\n          onChange={handleEmailChange}\n          required\n        />\n        <input\n          type=\"password\"\n          value={pass}\n          onChange={handlePassChange}\n          placeholder=\"Password\"\n          minLength=\"8\"\n          maxLength=\"50\"\n          required\n        />\n        <p className=\"error\">{errorMsg}</p>\n        <div className=\"btns\">\n          <input type=\"submit\" value=\"Log In\" />\n          <div className=\"spacer\" />\n          <button onClick={toggleAccountCreator}>Create New Account</button>\n        </div>\n        <Spinner vis={spinnerVis} className=\"spinner\" />\n      </StlyedForm>\n      <CreateAccountForm\n        vis={accountCreationVis}\n        toggle={toggleAccountCreator}\n        setActiveUser={setActiveUser}\n      />\n    </>\n  );\n}\n\nexport default Form;\n","import styled, { createGlobalStyle } from \"styled-components\";\nimport Form from \"./form\";\nimport colors from \"./../../colors\";\nimport { AiFillGithub } from \"react-icons/ai\";\nconst { white, black, lightBlue } = colors;\n\nconst LoginBody = createGlobalStyle`\n  body {\n    background: ${white};\n  }\n`;\n\nconst StyledLoginPage = styled.div`\n  display: flex;\n  flex-flow: row wrap;\n  align-content: flex-start;\n  align-items: start;\n  justify-content: center;\n  height: 100%;\n  background: ${white};\n  text-align: center;\n  padding-top: 30px;\n  position: relative;\n\n  span {\n    flex: 1;\n    flex-basis: 768px;\n    height: 200px;\n    margin-top: 0;\n  }\n\n  .form {\n    flex: 2;\n    flex-basis: 400px;\n  }\n\n  h1 {\n    font-family: \"Ubuntu\", sans-serif;\n    color: ${lightBlue};\n    font-size: 3em;\n    padding-top: 30px;\n  }\n\n  h3 {\n    font-family: \"Ubuntu\", sans-serif;\n    font-weight: 400;\n    color: ${black};\n    font-size: 1.4em;\n    line-height: 34px;\n    padding-left: 40px;\n    padding-right: 40px;\n    margin-top: 20px;\n  }\n\n  .links {\n    position: fixed;\n    bottom: 4px;\n    left: 12px;\n    font-size: 32px;\n\n    a {\n      color: ${black};\n    }\n  }\n\n  @media (min-width: 1167px) {\n    & {\n      padding-top: 150px;\n    }\n\n    span {\n      margin-top: 40px;\n    }\n  }\n`;\n\nfunction LoginPage({ setCurrentUser }) {\n  return (\n    <>\n      <LoginBody />\n      <StyledLoginPage>\n        <span>\n          <h1>facespace</h1>\n          <h3>personalize your space and connect with others</h3>\n        </span>\n        <div className=\"form\">\n          <Form setActiveUser={setCurrentUser} />\n        </div>\n        <div className=\"links\">\n          <a\n            href=\"https://github.com/nsars19/facebookish\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            <AiFillGithub />\n          </a>\n        </div>\n      </StyledLoginPage>\n    </>\n  );\n}\n\nexport default LoginPage;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport colors from \"./colors\";\nimport Nav from \"./components/nav/nav\";\nimport UserProfile from \"./components/userProfile/UserProfile\";\nimport Users from \"./components/users/Users\";\nimport Cookies from \"universal-cookie\";\nimport HomePage from \"./components/homepage/homepage\";\nimport Profile from \"./components/profile/profile\";\nimport { createGlobalStyle } from \"styled-components\";\nimport LoginPage from \"./components/login/login\";\n\nconst { black, gray, white, yellow, blue, red } = colors;\nconst GlobalStyle = createGlobalStyle`\n  body {\n    margin-bottom: 50px;\n    background: ${({ light }) => (light ? white : black)};\n    color: ${({ light }) => (light ? black : white)};\n\n    a,\n    a:visited {\n      color: ${({ light }) => (light ? black : white)};\n    }\n    div.postItem {\n      background: ${({ light }) => (light ? white : gray)};\n    }\n    div.comment-body,\n    div.sub-comment-body {\n      background: ${({ light }) => (light ? \"#d8d8d8\" : \"#707070\")}\n    }\n    ul.menu {\n      background: ${({ light }) => (light ? white : gray)};\n      color: ${({ light }) => (light ? black : white)};\n      border: 1px solid ${({ light }) => (light ? \"#aaa\" : \"#444\")};\n\n      li .content:hover,\n      li .content:active {\n        background: ${({ light }) => (light ? gray : white)}33;\n      }\n\n      li .content.del:hover,\n      li .content.del:active {\n        background: ${red}${({ light }) => (light ? \"cc\" : \"aa\")};\n      }\n    }\n    #comment-input {\n      background: ${({ light }) => (light ? \"#d8d8d8\" : \"#707070\")};\n      color: ${({ light }) => (light ? black : white)};\n    }\n    #comment-submit {\n      color: ${({ light }) => (light ? gray : white)};\n      &:hover {\n        background: ${({ light }) => (light ? \"#d8d8d8\" : \"#707070\")}\n      }\n    }\n    button.util {\n      color: ${({ light }) => (light ? black : white)}aa;\n    }\n    #comment-util button{\n      color: ${({ light }) => (light ? \"#777\" : \"#aaa\")};\n    }\n    #comment-likes {\n      color: ${({ light }) => (light ? gray : white)};\n      background: ${({ light }) => (light ? \"#cacaca\" : \"#707070\")}\n    }\n    #edit-form {\n      background: ${({ light }) => (light ? \"#d8d8d8\" : \"#707070\")};\n      color: ${({ light }) => (light ? black : white)};\n    }\n    #pending:hover,\n    #pending:active {\n      color: ${white};\n      background: ${({ light }) => (light ? blue : gray)};\n      cursor: auto;\n    }\n    #prof-card {\n      background: ${({ light }) => (light ? \"#d8d8d8\" : gray)};\n      border: 1px solid ${({ light }) => (light ? gray : white)}33;\n    }\n\n    input[type=\"text\"]:hover {\n      opacity: 70%;\n    }\n\n    #esc {\n      background: ${({ light }) => (light ? \"#d8d8d8\" : \"#707070\")};\n    }\n    #img-form {\n      background: ${({ light }) => (light ? white : gray)};\n      border: 1px solid ${({ light }) => (light ? gray + \"33\" : white + \"22\")};\n      \n      input:not(input[type=\"text\"]) {\n        background: ${blue};\n\n        &:hover,\n        &:active {\n          background: ${blue}${({ light }) => (light ? \"cc\" : \"88\")};\n          color: #eee;\n        }\n      }\n    }\n\n    #post-icon-text {\n      color: ${({ light }) => (light ? black : white)}aa;\n    }\n\n    input#img-text-input {\n      background: ${({ light }) => (light ? \"#d8d8d8\" : \"#707070\")};\n    }\n\n    #notif-modal {\n      background: ${({ light }) => (light ? white : gray)};\n      color: ${({ light }) => (light ? black : white)};\n      border: 1px solid ${({ light }) => (light ? gray + \"55\" : white + \"55\")};\n    }\n    #notif-item:hover,\n    #notif-item:active {\n      background: ${({ light }) => (light ? \"#d8d8d8\" : \"#707070\")};\n    }\n\n    div.post-comments {\n      color: ${({ light }) => (light ? black : white)}cc;\n    }\n\n    #post-loader {\n      background: ${({ light }) => (light ? white : gray)};\n    }\n\n    #spinner {\n      color: ${white};\n    }\n  }\n\n  button,\n  input[type=\"submit\"] {\n    padding: 8px;\n    border-style: none;\n    border-radius: 5px;\n    background: ${({ light }) => (light ? blue : gray)};\n    color: ${white};\n\n    &:hover,\n    &:active {\n      background: ${({ light }) => (light ? blue : yellow)}cc;\n      color: ${({ light }) => (light ? white : black)};\n    }\n  }\n\n  @media (min-width: 1024px) {\n    .grid-wrap {\n      display: grid;\n      grid-template-areas:\n        \"head head head head head head head head\"\n        \"list form form form .... .... .... ....\"\n        \"list feed feed feed .... .... .... ....\"\n        \".... feed feed feed .... .... .... ....\";\n    }\n\n    .grid-prof-head {\n      grid-area: head;\n    }\n    .grid-friend-list {\n      grid-area: list;\n      grid-auto-flow: row;\n    }\n    .grid-feed {\n      grid-area: feed;\n    }\n    .grid-status-form {\n      grid-area: form;\n    }\n  }\n`;\n\nconst cookies = new Cookies();\n\nfunction App() {\n  cookies.set(\"light\", cookies.get(\"light\") || true);\n  const userCookie = cookies.get(\"currentUser\");\n  const isLight = cookies.get(\"light\") === \"true\" ? true : false;\n  const [lightMode, setLightMode] = useState(isLight);\n  const [currentUser, setCurrentUser] = useState(\n    userCookie === \"null\" ? null : userCookie\n  );\n  const [pfp, setPfp] = useState(null);\n  const [needsUpdate, setUpdateStatus] = useState(false);\n  const [userName, setName] = useState(\"\");\n  const postRef = useRef(null);\n\n  const focusRef = () => {\n    if (postRef.current) postRef.current.focus();\n  };\n\n  useEffect(() => {\n    cookies.set(\"light\", lightMode);\n  }, [lightMode]);\n\n  useEffect(() => {\n    async function fetchData() {\n      const res = await fetch(\n        `https://frozen-thicket-71687.herokuapp.com/users/${currentUser}`\n      );\n      const data = await res.json();\n      setPfp(data.profilePhotoSrc);\n      setName(`${data.firstName} ${data.lastName}`);\n    }\n\n    if (currentUser) fetchData();\n  }, [currentUser, needsUpdate]);\n\n  if (!currentUser) return <LoginPage setCurrentUser={setCurrentUser} />;\n  else\n    return (\n      <>\n        <GlobalStyle light={lightMode} user={currentUser} />\n        <Router>\n          <Nav\n            setLightMode={setLightMode}\n            lightMode={lightMode}\n            currentUser={currentUser}\n            focusRef={focusRef}\n            userName={userName}\n            pfp={pfp}\n          />\n          <Switch>\n            <Route path=\"/users\">\n              <Users currentUser={currentUser} />\n            </Route>\n            <Route path=\"/user/:userId\">\n              <div className=\"grid-wrap\">\n                <UserProfile\n                  colors={colors}\n                  lightMode={lightMode}\n                  currentUser={currentUser}\n                  pfp={pfp}\n                  postRef={postRef}\n                  needsUpdate={needsUpdate}\n                  setUpdateStatus={setUpdateStatus}\n                />\n              </div>\n            </Route>\n            <Route path=\"/profile\">\n              <div className=\"grid-wrap\">\n                <Profile\n                  user={currentUser}\n                  colors={colors}\n                  lightMode={lightMode}\n                  pfp={pfp}\n                  postRef={postRef}\n                  needsUpdate={needsUpdate}\n                  setUpdateStatus={setUpdateStatus}\n                />\n              </div>\n            </Route>\n            <Route path=\"/\">\n              <HomePage\n                currentUser={currentUser}\n                lightMode={lightMode}\n                postRef={postRef}\n                pfp={pfp}\n              />\n            </Route>\n          </Switch>\n        </Router>\n      </>\n    );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { createGlobalStyle } from \"styled-components\";\n\nconst GlobalStyle = createGlobalStyle`\n  *,\n  *::before,\n  *::after {       \n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n    font-family: Arial, sans-serif;\n  }\n    \n  a.user {\n    text-decoration: none;\n    font-weight: 600;\n  }\n`;\n\nReactDOM.render(\n  <React.StrictMode>\n    <GlobalStyle />\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}