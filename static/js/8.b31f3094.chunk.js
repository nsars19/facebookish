(this["webpackJsonpreact-front"]=this["webpackJsonpreact-front"]||[]).push([[8],{62:function(n,e,t){"use strict";var r,c=t(7),s=t.n(c),a=t(11),i=t(4),o=t(5),u=t(6),d=t(63),p=t(64),l=t(2),j=t(1),h=u.b.button(r||(r=Object(o.a)(["\n  display: ",";\n  align-items: center;\n  justify-content: center;\n  width: 180px;\n  height: 40px;\n  cursor: pointer;\n\n  .icon {\n    font-size: 18px;\n    margin-right: 6px;\n  }\n  .txt {\n    font-size: 15px;\n    font-weight: bold;\n  }\n\n  &.pending:hover p,\n  &.pending path {\n    color: #eee;\n    cursor: auto;\n  }\n"])),(function(n){return n.sameUser?"none":"flex"}));e.a=function(n){var e=n.receiverId,t=n.currentUser,r=n.isPending,c=n.sameUser,o=Object(l.useState)(!1),u=Object(i.a)(o,2),f=u[0],b=u[1];function x(){return(x=Object(a.a)(s.a.mark((function n(){var r;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=JSON.stringify({receiverId:e,senderId:t}),n.next=3,fetch("https://frozen-thicket-71687.herokuapp.com/friends/add",{method:"post",headers:{"Content-Type":"application/json"},body:r});case 3:b(!0);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(j.jsx)(h,{onClick:function(){return x.apply(this,arguments)},disabled:f,sameUser:c,className:f?"pending":"",id:r?"pending":"",children:f?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(p.a,{className:"icon"}),Object(j.jsx)("p",{className:"txt",children:"Request Pending..."})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(d.a,{className:"icon"}),Object(j.jsx)("p",{className:"txt",children:"Add Friend"})]})})}},73:function(n,e,t){"use strict";t.r(e);var r,c=t(7),s=t.n(c),a=t(11),i=t(4),o=t(5),u=t(2),d=t(6),p=t(37),l=t.n(p),j=t(22),h=t(3),f=t(62),b=t(14),x=t(1),m=d.b.div(r||(r=Object(o.a)(["\n  display: flex;\n  width: 350px;\n  padding: 15px;\n  border-radius: 8px;\n\n  .user-data {\n    display: flex;\n    flex-direction: column;\n    margin-left: 20px;\n\n    & > * {\n      margin: 3px 0;\n    }\n\n    h3 {\n      font-size: 16px;\n    }\n\n    a {\n      text-decoration: none;\n\n      &:hover {\n        text-decoration: underline;\n      }\n    }\n\n    button {\n      background: ",";\n      width: 100px;\n      font-weight: bold;\n      font-size: 14px;\n\n      &:first-child {\n        margin-right: 5px;\n      }\n\n      &:hover {\n        opacity: 90%;\n      }\n    }\n\n    .req-btns button {\n      cursor: pointer;\n    }\n\n    .mutual-count {\n      font-size: 14px;\n    }\n\n    .spacer {\n      height: 16px;\n    }\n\n    #add-btn button {\n      width: 205px;\n      height: 32px;\n\n      &.pending {\n        cursor: auto;\n      }\n    }\n\n    #not-responded:not(.req-btns button:hover) {\n      opacity: 100%;\n    }\n\n    #responded {\n      opacity: 50%;\n      cursor: auto;\n\n      &:hover {\n        color: white;\n      }\n    }\n  }\n"])),h.a.blue);var O=function(n){var e,t=n.user,r=n.amtCommon,c=n.currentUser,o=n.requested,d=Object(u.useState)(!1),p=Object(i.a)(d,2),h=p[0],O=p[1],g=Object(u.useState)("not-responded"),v=Object(i.a)(g,2),y=v[0],k=v[1],w="".concat(t.firstName," ").concat(t.lastName);function N(){return C.apply(this,arguments)}function C(){return(C=Object(a.a)(s.a.mark((function n(){var e,r,a;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t._id,r=c,a=JSON.stringify({senderId:e,accepterId:r}),n.next=5,fetch("https://frozen-thicket-71687.herokuapp.com/friends/accept",{method:"post",headers:{"Content-Type":"application/json"},body:a});case 5:k("responded"),O(!0);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function U(){return z.apply(this,arguments)}function z(){return(z=Object(a.a)(s.a.mark((function n(){var e,r,a;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t._id,r=c,a=JSON.stringify({senderId:e,denierId:r}),n.next=5,fetch("https://frozen-thicket-71687.herokuapp.com/friends/deny",{method:"post",headers:{"Content-Type":"application/json"},body:a});case 5:k("responded"),O(!0);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(x.jsxs)(m,{id:"prof-card",children:[Object(x.jsx)("div",{className:"pfp",children:Object(x.jsx)(b.b,{to:"/users/".concat(t._id),children:Object(x.jsx)(j.a,{src:t.profilePhotoSrc,userId:t._id,size:"70px"})})}),Object(x.jsxs)("div",{className:"user-data",children:[Object(x.jsx)(b.b,{to:"/user/".concat(t._id),children:Object(x.jsx)("h3",{children:w})||Object(x.jsx)(l.a,{})}),r?(e=r,Object(x.jsx)("p",{className:"mutual-count",children:"".concat(e," mutual friend").concat(e>1?"s":"")})):Object(x.jsx)("div",{className:"spacer"}),o?Object(x.jsxs)("div",{className:"req-btns",children:[Object(x.jsx)("button",{id:y,onClick:N,disabled:h,children:"Confirm"}),Object(x.jsx)("button",{id:y,onClick:U,disabled:h,children:"Deny"})]}):Object(x.jsx)("div",{id:"add-btn",children:Object(x.jsx)(f.a,{receiverId:t._id,currentUser:c})})]})]})};var g=function(n){var e=n.currentUser,t=n.reqs,r=n.userData,c=n.getMutualCount;return Object(x.jsx)(x.Fragment,{children:t&&t.map((function(n){return Object(x.jsx)("li",{children:Object(x.jsx)(O,{user:n,amtCommon:c(r,n),currentUser:e,requested:!0})},n._id)}))})};var v,y=function(n){var e=n.currentUser,t=n.users,r=n.userData,c=n.getMutualCount;return Object(x.jsx)(x.Fragment,{children:t&&t.map((function(n){return Object(x.jsx)("li",{children:Object(x.jsx)(O,{user:n,amtCommon:c(r,n),currentUser:e})},n._id)}))})},k=d.b.ul(v||(v=Object(o.a)(["\n  margin-top: 10px;\n  margin-bottom: 80px;\n  display: grid;\n  justify-items: center;\n  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\n  gap: 4px;\n\n  li {\n    list-style: none;\n    width: fit-content;\n    height: fit-content;\n  }\n"])));e.default=function(n){var e=n.currentUser,t=Object(u.useState)(null),r=Object(i.a)(t,2),c=r[0],o=r[1],d=Object(u.useState)(null),p=Object(i.a)(d,2),l=p[0],j=p[1],h=Object(u.useState)(null),f=Object(i.a)(h,2),b=f[0],m=f[1];Object(u.useEffect)((function(){!function(){var n=Object(a.a)(s.a.mark((function n(){var t,r,c,a,u;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="https://frozen-thicket-71687.herokuapp.com",n.next=3,fetch("".concat(t,"/users/").concat(e));case 3:return r=n.sent,n.next=6,fetch("".concat(t,"/users/find-users/").concat(e));case 6:return c=n.sent,n.next=9,fetch("".concat(t,"/friends/pending/").concat(e));case 9:a=n.sent,u=[r.json(),c.json(),a.json()],Promise.all(u).then((function(n){var e=Object(i.a)(n,3),t=e[0],r=e[1],c=e[2];m(t),o(r),j(c)}));case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()}),[e]);var O=function(n,e){return n.friends.filter((function(n){return e.friends.includes(n._id)})).length};return Object(x.jsxs)(k,{children:[Object(x.jsx)(g,{currentUser:e,reqs:l,userData:b,getMutualCount:O}),Object(x.jsx)(y,{currentUser:e,users:c,userData:b,getMutualCount:O})]})}}}]);
//# sourceMappingURL=8.b31f3094.chunk.js.map