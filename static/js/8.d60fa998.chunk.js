(this["webpackJsonpreact-front"]=this["webpackJsonpreact-front"]||[]).push([[8],{70:function(n,e,t){"use strict";var r,i=t(7),a=t.n(i),s=t(11),o=t(4),c=t(5),p=t(6),d=t(71),l=t(72),u=t(2),x=t(1),h=p.b.button(r||(r=Object(c.a)(["\n  display: ",";\n  align-items: center;\n  justify-content: center;\n  width: 180px;\n  height: 40px;\n  cursor: pointer;\n\n  .icon {\n    font-size: 18px;\n    margin-right: 6px;\n  }\n  .txt {\n    font-size: 15px;\n    font-weight: bold;\n  }\n\n  &.pending:hover p,\n  &.pending path {\n    color: #eee;\n    cursor: auto;\n  }\n"])),(function(n){return n.sameUser?"none":"flex"}));e.a=function(n){var e=n.receiverId,t=n.currentUser,r=n.isPending,i=n.sameUser,c=Object(u.useState)(!1),p=Object(o.a)(c,2),b=p[0],f=p[1];function m(){return(m=Object(s.a)(a.a.mark((function n(){var r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=JSON.stringify({receiverId:e,senderId:t}),n.next=3,fetch("https://frozen-thicket-71687.herokuapp.com/friends/add",{method:"post",headers:{"Content-Type":"application/json"},body:r});case 3:f(!0);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(x.jsx)(h,{onClick:function(){return m.apply(this,arguments)},disabled:b,sameUser:i,className:b?"pending":"",id:r?"pending":"",children:b?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(l.a,{className:"icon"}),Object(x.jsx)("p",{className:"txt",children:"Request Pending..."})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(d.a,{className:"icon"}),Object(x.jsx)("p",{className:"txt",children:"Add Friend"})]})})}},80:function(n,e,t){"use strict";t.r(e);var r,i=t(7),a=t.n(i),s=t(11),o=t(4),c=t(2),p=t(8),d=t(75),l=t(5),u=t(6),x=t(23),h=t(70),b=t(77),f=t(37),m=t.n(f),j=t(74),g=t(25),O=t(17),v=t(3),w=t(15),y=t(18),k=t(73),N=t(1),S=u.b.form(r||(r=Object(l.a)(['\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  position: relative;\n  z-index: 10;\n  width: 100%;\n  max-width: 400px;\n  max-height: 90vh;\n  padding-bottom: 15px;\n  border-radius: 8px;\n  box-shadow: 0 0.1px 0.8px rgba(0, 0, 0, 0.02),\n    0 0.1px 1.9px rgba(0, 0, 0, 0.028), 0 0.3px 3.5px rgba(0, 0, 0, 0.035),\n    0 0.4px 6.3px rgba(0, 0, 0, 0.042), 0 0.8px 11.7px rgba(0, 0, 0, 0.05);\n\n  input[type="file"] {\n    display: none;\n  }\n\n  .banner-icon {\n    font-size: 100px;\n    cursor: pointer;\n    color: ',';\n    justify-self: center;\n  }\n\n  label {\n    height: fit-content;\n    width: fit-content;\n    display: grid;\n    flex-direction: column;\n    grid-auto-flow: row;\n    justify-content: center;\n    margin-bottom: 10px;\n\n    p.banner-upload-txt {\n      padding: 0;\n      text-align: center;\n      font-size: 14px;\n\n      &:hover {\n        text-decoration: underline;\n        cursor: pointer;\n      }\n    }\n  }\n\n  input[type="submit"] {\n    margin-top: 20px;\n    width: 95%;\n    max-width: 400px;\n    font-size: 18px;\n    padding: 10px;\n\n    &:hover,\n    &:active {\n      background: ',";\n      cursor: pointer;\n    }\n  }\n\n  img {\n    display: none;\n    height: 0;\n  }\n\n  img[src] {\n    display: block;\n    height: auto;\n    margin-top: 15px;\n    max-width: 95%;\n    max-height: 300px;\n  }\n\n  #esc {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    height: 40px;\n    width: 40px;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n\n    &:hover,\n    &:active {\n      opacity: 80%;\n    }\n\n    span {\n      display: block;\n      height: 2px;\n      width: 25px;\n      background: ",";\n      border-radius: 8px;\n\n      &:first-child {\n        transform: rotate(45deg);\n        position: absolute;\n        left: 8px;\n      }\n\n      &:last-child {\n        transform: rotate(-45deg);\n        position: absolute;\n        left: 8px;\n      }\n    }\n  }\n\n  input#img-text-input {\n    width: 95%;\n    min-height: 35px;\n    max-width: 400px;\n    font-size: 14px;\n\n    &:hover {\n      opacity: 70%;\n    }\n  }\n\n  .img-error {\n    display: ",";\n    padding: 5px;\n    padding-top: 20px;\n    font-size: 14px;\n    text-align: center;\n  }\n\n  .spinner {\n    position: absolute;\n    bottom: 25px;\n    left: 35px;\n  }\n\n  @media (min-width: 400px) {\n    .spinner {\n      left: 17%;\n    }\n  }\n  @media (min-width: 450px) {\n    .spinner {\n      left: 20%;\n    }\n  }\n"])),v.a.blue,v.a.blue,v.a.gray,(function(n){return n.imgError?"flex":"none"})),U=new w.a;var z,F=function(n){var e=n.user,t=n.toggleOff,r=n.setBannerSrc,i=Object(c.useState)(null),p=Object(o.a)(i,2),d=p[0],l=p[1],u=Object(c.useState)(null),x=Object(o.a)(u,2),h=x[0],b=x[1],f=Object(c.useState)(!1),m=Object(o.a)(f,2),j=m[0],v=m[1],w=Object(c.useState)(!1),z=Object(o.a)(w,2),F=z[0],M=z[1],C=U.get("token"),I=function(){var n=Object(s.a)(a.a.mark((function n(t){var i,o,c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),d&&!F){n.next=3;break}return n.abrupt("return");case 3:return v(!0),n.next=6,Object(k.a)(d);case 6:return i=n.sent,(o=new FormData).append("file",i),c="https://frozen-thicket-71687.herokuapp.com/upload/banner/no-feed/".concat(e),n.next=12,fetch(c,{method:"post",body:o,headers:{Authorization:"Bearer ".concat(C)}}).then(function(){var n=Object(s.a)(a.a.mark((function n(e){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.json();case 2:t=n.sent,r(t.src),P(),v(!1);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(n){return console.error(n)}));case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),P=function(){t(),l(null),b(null),M(!1),v(!1)};return Object(N.jsxs)(S,{id:"img-form",onSubmit:I,encType:"multipart/form-data",className:"modal-component",imgError:F,children:[Object(N.jsx)("input",{type:"file",name:"banner-file",id:"banner-file",accept:".png, .jpeg, .jpg",onChange:function(n){return e=Object(g.a)(n.target.files),l(e[0]),b(URL.createObjectURL(e[0])),F&&M(!1),void(e[0].size>6e6&&M(!0));var e},className:"modal-component"}),Object(N.jsxs)("label",{htmlFor:"banner-file",className:"modal-component",children:[Object(N.jsx)(O.e,{className:"banner-upload-icon banner-icon modal-component"}),Object(N.jsx)("p",{className:"banner-upload-txt modal-component",children:"Upload an image"})]}),Object(N.jsx)("img",{src:h,alt:"preview",className:"banner-preview modal-component"}),Object(N.jsx)("p",{className:"img-error",children:"This image is too large! If you really want to post it, please compress it."}),Object(N.jsx)("input",{type:"submit",value:"Change cover photo",className:"modal-component",disabled:j}),Object(N.jsx)(y.a,{className:"spinner",vis:j}),Object(N.jsxs)("button",{id:"esc",onClick:P,className:"modal-component",children:[Object(N.jsx)("span",{}),Object(N.jsx)("span",{})]})]})},M=u.b.div(z||(z=Object(l.a)(["\n  display: ",";\n  justify-content: center;\n  position: fixed;\n  top: 20px;\n  left: 0;\n  width: 80%;\n  margin: 0 10%;\n  z-index: 3;\n  animation: comeFromTop 0.2s cubic-bezier(0.18, 0.89, 0.32, 1.28);\n\n  @keyframes comeFromTop {\n    from {\n      top: -50px;\n    }\n  }\n"])),(function(n){return n.vis?"flex":"none"}));var C,I=function(n){var e=n.vis,t=n.toggleOff,r=n.user,i=n.setBannerSrc,a=function(n){"path"!==n.target.tagName&&(Object(g.a)(n.target.classList).includes("modal-component")||e&&t())};return Object(c.useEffect)((function(){return window.addEventListener("click",a),function(){window.removeEventListener("click",a)}})),Object(N.jsx)(M,{vis:e,children:Object(N.jsx)(F,{toggleOff:t,user:r,setBannerSrc:i})})},P=u.b.div(C||(C=Object(l.a)(['\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: center;\n  min-height: 50vh;\n\n  .pfp {\n    position: relative;\n  }\n\n  .name-wrap {\n    max-width: fit-content;\n    font-size: 18px;\n    margin-top: 22px;\n    margin-bottom: 15px;\n  }\n\n  form {\n    display: flex;\n    flex-flow: column nowrap;\n  }\n\n  input[type="text"] {\n    background: ',";\n    padding: 8px;\n    padding-left: 10px;\n    border-style: none;\n    border-radius: 18px;\n    height: 37px;\n    opacity: 60%;\n    color: ",";\n\n    &:focus {\n      outline: none;\n    }\n  }\n\n  @keyframes comeFromBottom {\n    from {\n      bottom: 0;\n      opacity: 0;\n    }\n  }\n\n  .loader {\n    background: #c0c0c0;\n    height: 100%;\n    width: 100%;\n  }\n\n  .banner {\n    position: absolute;\n    top: 0;\n    max-height: 30vh;\n    height: 100%;\n    width: 100%;\n\n    img {\n      object-fit: cover;\n      height: 100%;\n      width: 100%;\n    }\n\n    &-upload {\n      position: absolute;\n      top: 10px;\n      right: 20px;\n      font-size: 26px;\n      cursor: pointer;\n      text-shadow: 1px 1px 1px #222;\n\n      &:hover,\n      &:active {\n        filter: brightness(1.2);\n      }\n    }\n  }\n\n  .pfp-edit-icon {\n    display: ",";\n    position: absolute;\n    right: 15px;\n    bottom: 10px;\n    border-radius: 50%;\n    background: ",";\n    height: 40px;\n    width: 40px;\n    padding: 6px;\n    border: 1px solid ","33;\n\n    &:hover,\n    &:active {\n      cursor: pointer;\n      filter: brightness(",");\n    }\n  }\n\n  @media (min-width: 1024px) {\n    & {\n      min-height: 65vh;\n    }\n\n    .banner {\n      min-height: 48vh;\n    }\n  }\n"])),(function(n){return n.lm?"#d8d8d8":"#707070"}),(function(n){return n.lm?"#000":"#fff"}),(function(n){return n.sameUser?"flex":"none"}),(function(n){return n.lm?v.a.white:v.a.gray}),v.a.gray,(function(n){return n.lm?1.05:1.2}));var B,E=function(n){var e=n.currentUser,t=n.userId,r=n.pfpSrc,i=n.lightMode,a=n.needsUpdate,s=n.setUpdateStatus,p=n.userName,d=n.friendshipPending,l=n.alreadyFriends,u=n.bannerSrc,g=n.setBannerSrc,O=Object(c.useState)(!1),v=Object(o.a)(O,2),w=v[0],y=v[1],k=Object(c.useState)(!1),S=Object(o.a)(k,2),U=S[0],z=S[1],F=function(){return z(!U)},M=Object(N.jsx)(f.SkeletonTheme,{color:"#dadada",highlightColor:"#e0e0e0",children:Object(N.jsx)(m.a,{height:"30vh"})}),C=Object(N.jsx)("img",{src:"https://frozen-thicket-71687.herokuapp.com/images/"+u,alt:"profile banner"}),B=Object(N.jsx)("div",{className:"banner-upload",onClick:F,children:Object(N.jsx)(j.a,{})}),E=null===u||void 0===u;return Object(N.jsxs)(P,{lm:i,sameUser:e===t,className:"grid-prof-head",children:[Object(N.jsxs)("div",{className:"banner",children:[t===e?B:Object(N.jsx)("div",{}),E?M:C]}),Object(N.jsx)(I,{vis:U,toggleOff:F,user:e,setBannerSrc:g}),Object(N.jsxs)("div",{className:"pfp",children:[Object(N.jsx)(x.a,{size:"250px",src:r,userId:e,lightMode:i,needsUpdate:a,setUpdateStatus:s}),Object(N.jsx)(j.a,{className:"pfp-edit-icon",onClick:function(){e===t&&y(!w)}})]}),Object(N.jsx)("div",{className:"name-wrap",children:Object(N.jsx)("h2",{children:p||Object(N.jsx)(m.a,{width:150})})}),l?Object(N.jsx)("div",{}):Object(N.jsx)(h.a,{receiverId:t,currentUser:e,isPending:d,sameUser:e===t,alreadyFriends:l}),Object(N.jsx)(b.a,{vis:w,user:e,toggle:function(){return y(!w)},setUpdateStatus:s,profile:!0})]})},L=t(76),R=t(14),T=u.b.div(B||(B=Object(l.a)(["\n  background: ",";\n  border-radius: 8px;\n  border: 1px solid\n    ","22;\n  height: 100%;\n  width: 160px;\n  min-width: 160px;\n  box-shadow: 0 2.6px 1.3px rgba(0, 0, 0, 0.07),\n    0 3.7px 4.3px rgba(0, 0, 0, 0.036), 0 4px 15px rgba(0, 0, 0, 0.027);\n\n  & .link {\n    text-decoration: none;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  & .link:hover,\n  & .link:active {\n    text-decoration: underline;\n  }\n\n  .frame {\n    width: 100%;\n    max-height: 200px;\n\n    img {\n      height: 150px;\n      width: 100%;\n      object-fit: cover;\n      border-top-left-radius: 8px;\n      border-top-right-radius: 8px;\n    }\n  }\n\n  .detail {\n    height: 45px;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: start;\n  }\n\n  h3 {\n    font-size: 1em;\n    margin-top: 8px;\n  }\n\n  @media (min-width: 1024px) {\n    & {\n      width: auto;\n    }\n  }\n"])),(function(n){return n.lightMode?v.a.white:v.a.gray}),(function(n){return n.lightMode?v.a.gray:v.a.white}));var J,_=function(n){var e=n.friend,t=n.lightMode,r="https://frozen-thicket-71687.herokuapp.com/images/"+e.profilePhotoSrc;return Object(N.jsx)(T,{lightMode:t,children:Object(N.jsxs)(R.b,{to:"/user/".concat(e._id),className:"link",children:[Object(N.jsx)("div",{className:"frame",children:Object(N.jsx)("img",{src:r,alt:"friend"})}),Object(N.jsx)("div",{className:"detail",children:Object(N.jsx)("h3",{children:e.firstName+" "+e.lastName})})]})})},A=t(24),D=u.b.ul(J||(J=Object(l.a)(["\n  list-style: none;\n  display: grid;\n  grid-auto-flow: column;\n  grid-template-rows: 30px 30px 30px repeat(auto-fit, 1fr);\n  justify-content: start;\n  gap: 8px;\n  width: 95%;\n  max-width: 750px;\n  overflow-x: scroll;\n  scrollbar-width: none;\n  background: ",";\n  border: 1px solid ","11;\n  padding: 18px;\n  padding-right: 20px;\n  padding-top: 45px;\n  padding-bottom: 8px;\n  border-radius: 8px;\n  margin: 10px auto;\n  margin-bottom: 20px;\n  position: relative;\n  filter: scale(1);\n  box-shadow: 0 0.1px 0.8px rgba(0, 0, 0, 0.02),\n    0 0.1px 1.9px rgba(0, 0, 0, 0.028), 0 0.3px 3.5px rgba(0, 0, 0, 0.035),\n    0 0.4px 6.3px rgba(0, 0, 0, 0.042), 0 0.8px 11.7px rgba(0, 0, 0, 0.05);\n\n  .count {\n    position: absolute;\n    top: 12px;\n    left: 18px;\n  }\n\n  button {\n    color: ",";\n    font-size: 45px;\n    position: sticky;\n    width: 0;\n    padding: 0;\n    top: 0;\n    right: 40px;\n    cursor: pointer;\n\n    &:first-child {\n      left: 0;\n    }\n\n    svg:hover {\n      filter: brightness(2);\n    }\n  }\n"])),(function(n){return n.lm?"#eee":v.a.gray}),(function(n){return n.lm?v.a.gray:v.a.white}),v.a.black);var W=function(n){var e=n.friends,t=n.lightMode,r=Object(c.useRef)(null),i=e.map((function(n){return Object(N.jsx)("li",{children:Object(N.jsx)(_,{friend:n,lightMode:t})},n._id)}));return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(D,{ref:r,lm:t,className:"grid-friend-list",children:[Object(N.jsx)("button",{onClick:function(){return r.current.scrollLeft-=r.current.clientWidth},children:Object(N.jsx)(A.a,{})}),Object(N.jsxs)("h4",{className:"count",children:["Friends ( ",e.length," )"]}),0===e.length?Object(N.jsx)("div",{}):i,Object(N.jsx)("button",{onClick:function(n){return r.current.scrollLeft+=r.current.clientWidth},children:Object(N.jsx)(A.b,{})})]})})};e.default=function(n){var e=n.colors,t=n.lightMode,r=n.user,i=n.currentUser,l=n.pfp,u=n.postRef,x=n.needsUpdate,h=n.setUpdateStatus,b=Object(p.f)(),f=r||b.params.userId,m=Object(c.useState)(null),j=Object(o.a)(m,2),g=j[0],O=j[1],v=Object(c.useState)([]),w=Object(o.a)(v,2),y=w[0],k=w[1],S=Object(c.useState)(null),U=Object(o.a)(S,2),z=U[0],F=U[1],M=Object(c.useState)(null),C=Object(o.a)(M,2),I=C[0],P=C[1],B=Object(c.useState)([]),R=Object(o.a)(B,2),T=R[0],J=R[1],_=Object(c.useState)(null),A=Object(o.a)(_,2),D=A[0],q=A[1],G=Object(c.useState)(null),H=Object(o.a)(G,2),K=H[0],Q=H[1];return Object(c.useEffect)((function(){!function(){var n=Object(s.a)(a.a.mark((function n(){var e,t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://frozen-thicket-71687.herokuapp.com/users/".concat(f));case 2:return e=n.sent,n.next=5,e.json();case 5:t=n.sent,F(t.pendingFriends.includes(i)),O(t.firstName+" "+t.lastName),P(t.profilePhotoSrc),Q(t.bannerSrc),J(t.friends),q(t.friends.map((function(n){return n._id})).includes(i));case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()}),[f,i]),Object(c.useEffect)((function(){!function(){var n=Object(s.a)(a.a.mark((function n(){var e,t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://frozen-thicket-71687.herokuapp.com/posts/byuser/".concat(f));case 2:return e=n.sent,n.next=5,e.json();case 5:t=n.sent,k(t);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()}),[f]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(E,{currentUser:i,userId:f,pfpSrc:I,lightMode:t,needsUpdate:x,setUpdateStatus:h,userName:g,friendshipPending:z,alreadyFriends:D,bannerSrc:K,setBannerSrc:Q}),Object(N.jsxs)("div",{className:"prof-content-wrap",children:[Object(N.jsx)(W,{friends:T,lightMode:t}),i===f?Object(N.jsx)(L.a,{colors:e,currentUser:i,lightMode:t,setFeed:k,src:l,postRef:u,fromProfile:!0}):Object(N.jsx)("div",{}),Object(N.jsx)(d.a,{user:f,posts:y,setPosts:k,src:I,currentUser:i,pfp:l})]})]})}}}]);
//# sourceMappingURL=8.d60fa998.chunk.js.map