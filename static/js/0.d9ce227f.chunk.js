(this["webpackJsonpreact-front"]=this["webpackJsonpreact-front"]||[]).push([[0],{73:function(n,t,e){"use strict";e.d(t,"a",(function(){return c}));var o=e(7),r=e.n(o),s=e(11),i=e(83),a={maxSizeMB:6,maxWidthOrHeight:1080};function c(n){return p.apply(this,arguments)}function p(){return(p=Object(s.a)(r.a.mark((function n(t){var e,o;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(i.a)(t,a);case 2:return(e=n.sent).lastModifiedDate=Date.now(),e.fileName=t.name,o=new File([e],t.name),n.abrupt("return",o);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},75:function(n,t,e){"use strict";var o=e(4),r=e(5),s=e(7),i=e.n(s),a=e(11),c=e(6),p=e(14),d=e(25);function u(n){return n?n.reduce((function(n,t){var e;return n+(1+(null===(e=t.comments)||void 0===e?void 0:e.length))}),0):1}var l,m=e(17),x=e(81),b=e(15),f=e(18),h=e(2),j=e(1),g=c.b.div(l||(l=Object(r.a)(["\n  display: ",";\n  color: ",";\n  position: absolute;\n  top: 0;\n  right: 10px;\n  color: black;\n  margin-right: 20px;\n  z-index: 3;\n\n  ul {\n    list-style: none;\n    border-radius: 6px;\n    z-index: 2;\n    box-shadow: 0 0.3px 0.9px rgba(0, 0, 0, 0.073),\n      0 0.9px 2.3px rgba(0, 0, 0, 0.106), 0 1.8px 4.8px rgba(0, 0, 0, 0.124),\n      0 3.7px 9.9px rgba(0, 0, 0, 0.139), 0 10px 27px rgba(0, 0, 0, 0.19);\n  }\n  li {\n    display: flex;\n    align-items: center;\n    padding: 5px;\n\n    svg {\n      font-size: 18px;\n    }\n    &:first-child {\n      border-radius: 6px 6px 0 0;\n    }\n\n    &:last-child {\n      border-radius: 0 0 6px 6px;\n    }\n\n    button {\n      border-style: none;\n      background: transparent;\n      color: inherit;\n      font-weight: bold;\n      font-size: 14px;\n    }\n  }\n\n  li.spacer {\n    border-bottom: 1px solid gray;\n    height: 0;\n    padding: 0;\n    margin: 0 5px;\n  }\n\n  li .content {\n    display: flex;\n    align-items: center;\n    padding: 6px;\n    width: 100%;\n    border-radius: 6px;\n  }\n\n  li .content.del {\n    margin-top: 0;\n  }\n\n  .icon {\n    display: ",";\n  }\n"])),(function(n){return n.vis?"flex":"none"}),(function(n){return n.vis?"red":"blue"}),(function(n){return n.spinnerVis?"none":"flex"})),O=new b.a;var v,y=function(n){var t=n.modalVisible,e=n.isPost,r=n.postItem,s=n.commentItem,c=n.toggleModal,p=n.setFeed,d=n.homeFeed,l=n.user,b=n.postAuthor,v=n.setCommentCount,y=n.togglePostEdit,w=n.toggleCommentEditStatus,k=Object(h.useState)(!1),C=Object(o.a)(k,2),N=C[0],z=C[1],S=O.get("token"),F=function(){t&&c()};function I(){return P.apply(this,arguments)}function P(){return(P=Object(a.a)(i.a.mark((function n(){var t,e;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!d){n.next=6;break}return n.next=3,fetch("https://frozen-thicket-71687.herokuapp.com/posts/feed/".concat(l));case 3:t=n.sent,n.next=9;break;case 6:return n.next=8,fetch("https://frozen-thicket-71687.herokuapp.com/posts/byuser/".concat(b));case 8:t=n.sent;case 9:return n.next=11,t.json();case 11:e=n.sent,c(),p(e);case 14:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function _(){return(_=Object(a.a)(i.a.mark((function n(){var t;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=JSON.stringify({postId:r._id}),n.next=3,fetch("https://frozen-thicket-71687.herokuapp.com/posts/delete",{method:"delete",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(S)},body:t}).then((function(){z(!1),c()})).catch((function(n){return console.error(n)}));case 3:I();case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function T(){return(T=Object(a.a)(i.a.mark((function n(t){var e,o,r,a,c,p,d,l;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=[s.post,s._id,s.parentId],o=e[0],r=e[1],c=(a=e[2])?{post:o,commentId:r,parentId:a}:{post:o,commentId:r},p=JSON.stringify(c),n.next=5,fetch("https://frozen-thicket-71687.herokuapp.com/comments/delete",{method:"delete",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(S)},body:p}).catch((function(n){return console.error(n)}));case 5:return d=n.sent,n.next=8,d.json();case 8:l=n.sent,v(u(l.comments)),I();case 11:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(h.useEffect)((function(){return window.addEventListener("click",F),function(){window.removeEventListener("click",F)}})),Object(j.jsx)(g,{vis:t,spinnerVis:N,children:Object(j.jsxs)("ul",{className:"menu",children:[Object(j.jsx)("li",{onClick:function(){e?y():w(),c()},children:Object(j.jsxs)("div",{className:"content",children:[Object(j.jsx)(m.a,{}),Object(j.jsxs)("button",{children:["Edit ",e?"post":"comment"]})]})}),Object(j.jsx)("li",{className:"spacer"}),Object(j.jsx)("li",{onClick:function(n){z(!0),e?function(){_.apply(this,arguments)}():function(n){T.apply(this,arguments)}(n)},children:Object(j.jsxs)("div",{className:"content del",children:[Object(j.jsx)(x.a,{className:"icon"}),Object(j.jsx)(f.a,{className:"spinner",vis:N}),Object(j.jsxs)("button",{children:["Delete ",e?"post":"comment"]})]})})]})})},w=e(23),k=c.b.button(v||(v=Object(r.a)(["\n  font-weight: bold;\n  font-size: 14px;\n"])));var C,N=function(n){var t=n.user,e=n.post,o=n.comment,r=n.setLikeCount;function s(){return(s=Object(a.a)(i.a.mark((function n(){var s,a,c,p;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=e?JSON.stringify({user:t,post:e}):JSON.stringify({user:t,comment:o}),n.next=3,fetch("https://frozen-thicket-71687.herokuapp.com/likes/like-".concat(e?"post":"comment"),{method:"post",headers:{"Content-Type":"application/json"},body:s});case 3:return a=n.sent,n.next=6,a.json();case 6:c=n.sent,p=c.likes.length,r(p);case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(j.jsx)(k,{onClick:function(){return s.apply(this,arguments)},com:o,className:"util",children:"Like"})},z=c.b.div(C||(C=Object(r.a)(['\n  display: flex;\n\n  button {\n    padding: 0;\n    margin-left: 15px;\n    margin-top: 3px;\n    background: none;\n    font-size: 12px;\n    display: flex;\n    align-items: center;\n\n    &::after {\n      content: "";\n      display: inline-block;\n      margin: 0 5px;\n      height: 1px;\n      width: 2px;\n      background: #707070;\n      border-radius: 50%;\n    }\n    &:hover,\n    &:active {\n      background: none;\n      color: inherit;\n      text-decoration: underline;\n    }\n  }\n\n  button.reply {\n    margin: 0;\n    margin-top: 3px;\n    font-size: 12px;\n    font-weight: bold;\n    &::after {\n      display: none;\n    }\n  }\n\n  button.util:hover,\n  button.reply:hover {\n    cursor: pointer;\n  }\n'])));var S,F=function(n){var t=n.comment,e=n.user,o=n.setLikeCount,r=n.focusRef;return Object(j.jsxs)(z,{id:"comment-util",children:[Object(j.jsx)(N,{user:e,setLikeCount:o,comment:t}),Object(j.jsx)("button",{className:"reply",onClick:r,children:"Reply"})]})},I=c.b.div(S||(S=Object(r.a)(["\n  position: ",";\n  bottom: -12px;\n  right: 0;\n  display: grid;\n  grid-auto-flow: column;\n  align-items: center;\n  background: ",";\n  padding: ",";\n  padding-right: 5px;\n  border-radius: 15px;\n  box-shadow: ",";\n\n  .like {\n    path {\n      color: #338ae7;\n    }\n    margin-bottom: 2px;\n    margin-right: 5px;\n    margin-left: 1px;\n  }\n"])),(function(n){return n.isCmt?"absolute":"static"}),(function(n){return n.isCmt?"#393e46":"none"}),(function(n){return n.isCmt?"3px":""}),(function(n){return n.isCmt?"0 0.3px 1.3px rgba(0, 0, 0, 0.31), 0 0.8px 3.5px rgba(0, 0, 0, 0.202), 0 1.8px 8.4px rgba(0, 0, 0, 0.155),0 6px 28px rgba(0, 0, 0, 0.108)":"none"}));var P,_=function(n){var t=n.likeCount,e=n.isCmt,o=n.id;return Object(j.jsxs)(I,{isCmt:e,className:e?"cmt":"",id:o,children:[Object(j.jsx)(m.d,{className:"like"}),Object(j.jsx)("p",{children:t})]})},T=c.b.div(P||(P=Object(r.a)(["\n  .cmt {\n    font-size: 12px;\n  }\n"])));var E,R=function(n){var t=n.likeCount;return Object(j.jsx)(T,{children:Object(j.jsx)(_,{likeCount:t,isCmt:!0,id:"comment-likes"})})},U=e(3),A=c.b.form(E||(E=Object(r.a)(["\n  opacity: ",";\n  height: ",";\n  .wrap {\n    margin-top: ",';\n    margin-left: 15px;\n    display: flex;\n    justify-content: space-between;\n  }\n\n  a {\n    align-self: center;\n  }\n  input[type="text"] {\n    flex: 1;\n    height: 35px;\n    width: 170px;\n    padding-left: 10px;\n    border-style: none;\n    border-radius: 18px;\n    background: #707070;\n    color: ',';\n    font-size: 14px;\n    margin: 0 10px;\n  }\n\n  input[type="submit"] {\n    background: none;\n    font-weight: bold;\n  }\n\n  p {\n    width: max-content;\n    font-size: 12px;\n    padding-top: 3px;\n    padding-left: 55px;\n  }\n'])),(function(n){return n.vis?"100%":"0"}),(function(n){return n.vis?"fit-content":"0"}),(function(n){return n.vis?"10px":"0px"}),U.a.white),V=new b.a;var L,D=function(n){var t=n.subFormVis,e=n.toggleVis,o=n.postId,r=n.commentId,s=n.setFeed,c=n.homeFeed,d=n.postAuthor,l=n.inputRef,m=n.currentUser,x=n.setCommentCount,b=n.parentId,f=n.pfp,h=V.get("token");function g(){return(g=Object(a.a)(i.a.mark((function n(t){var a,p,l,f,j,g,O,v;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),a=t.target[0],p=a.value){n.next=5;break}return n.abrupt("return");case 5:return l={text:p,parentId:b,post:o,comment:r,author:m},f=JSON.stringify(l),n.next=9,fetch("https://frozen-thicket-71687.herokuapp.com/comments/child/new",{method:"POST",type:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(h)},body:f}).catch((function(n){return console.error(n)}));case 9:return j=n.sent,n.next=12,j.json();case 12:if(g=n.sent,!c){n.next=19;break}return n.next=16,fetch("https://frozen-thicket-71687.herokuapp.com/posts/feed/".concat(m));case 16:O=n.sent,n.next=22;break;case 19:return n.next=21,fetch("https://frozen-thicket-71687.herokuapp.com/posts/byuser/".concat(d));case 21:O=n.sent;case 22:return n.next=24,O.json();case 24:v=n.sent,s(v),x(u(g.comments)),e(),a.value="";case 29:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(j.jsxs)(A,{onSubmit:function(n){return g.apply(this,arguments)},vis:t,children:[Object(j.jsxs)("div",{className:"wrap",children:[Object(j.jsx)(p.b,{to:"/profile",children:Object(j.jsx)(w.a,{src:f,size:"25px",userId:m})}),Object(j.jsx)("input",{type:"text",ref:l,id:"comment-input",placeholder:"Write a comment..."})]}),Object(j.jsx)("p",{children:"Press enter to comment"})]})},J=c.b.form(L||(L=Object(r.a)(['\n  width: 100%;\n  margin-left: 10px;\n  padding-right: 10px;\n  input[type="text"] {\n    width: 97%;\n    flex: 1;\n    height: 35px;\n    padding-left: 10px;\n    padding-right: 10px;\n    border-style: none;\n    border-radius: 18px;\n    background: #707070;\n    color: ',";\n    font-size: 14px;\n  }\n  p {\n    font-size: 12px;\n    margin-top: 5px;\n  }\n  input.comment-input {\n    margin-top: 5px;\n    border: 1px solid #a0a0a0;\n  }\n"])),U.a.white);var M,B=function(n){var t=n.setPostText,e=n.postText,o=n.togglePostEdit,r=n.postId,s=n.isPost,c=n.setCommentText,p=n.commentText,d=n.toggleCommentEditStatus,u=n.commentId,l=function(){var n=Object(a.a)(i.a.mark((function n(e){var a,p,l,m,x;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),a=e.target.firstElementChild.value,p=s?{postId:r,newData:a}:{commentId:u,newData:a},l=JSON.stringify(p),n.next=6,fetch("https://frozen-thicket-71687.herokuapp.com/".concat(s?"posts":"comments","/update"),{method:"put",headers:{"Content-Type":"application/json"},body:l});case 6:return m=n.sent,n.next=9,m.json();case 9:x=n.sent,i=x.text,s?t(i):c(i),s?o():d();case 12:case"end":return n.stop()}var i}),n)})));return function(t){return n.apply(this,arguments)}}();return Object(j.jsxs)(J,{onSubmit:l,children:[Object(j.jsx)("input",{type:"text",className:s?"post-input":"comment-input",defaultValue:s?e:p,id:"edit-form"}),Object(j.jsx)("p",{children:"Press enter to submit."})]})},W=c.b.div(M||(M=Object(r.a)(["\n  padding: 5px;\n  padding-right: 15px;\n  margin-left: 25px;\n  position: relative;\n  display: grid;\n  grid-template-columns: 35px auto;\n  grid-template-rows: 1fr auto;\n  column-gap: 10px;\n\n  .pfp-link {\n    height: 100%;\n    grid-column: 1 / 2;\n    grid-row: 1 / -1;\n  }\n\n  .sub-comment-body {\n    position: relative;\n    min-width: 200px;\n    max-width: fit-content;\n    padding: 8px 14px;\n    border-radius: 20px;\n\n    a.user {\n      font-size: 14px;\n    }\n    p.content {\n      font-size: 15px;\n      padding-top: 2px;\n    }\n  }\n\n  & a,\n  & p {\n    grid-column: 2 / 3;\n  }\n\n  .comment-settings {\n    position: absolute;\n    top: 5px;\n    right: 10px;\n    cursor: pointer;\n    font-size: 18px;\n\n    &:hover {\n      color: #777;\n    }\n  }\n\n  &:hover .comment-settings {\n    display: block;\n  }\n\n  @media (min-width: 1280px) {\n    .comment-settings {\n      display: none;\n    }\n  }\n"])));var H,q=function(n){var t=n.comment,e=n.currentUser,r=n.setFeed,s=n.homeFeed,i=n.postAuthor,a=n.setCommentCount,c=n.pfp,u=Object(h.useState)(!1),l=Object(o.a)(u,2),m=l[0],x=l[1],b=Object(h.useState)(t.likes.length),f=Object(o.a)(b,2),g=f[0],O=f[1],v=Object(h.useState)(!1),k=Object(o.a)(v,2),C=k[0],N=k[1],z=Object(h.useState)(!1),S=Object(o.a)(z,2),I=S[0],P=S[1],_=Object(h.useState)(t.text),T=Object(o.a)(_,2),E=T[0],U=T[1],A=t.author.firstName+" "+t.author.lastName,V=t.author._id===e,L=Object(h.useRef)(null),J=function(){return P(!I)};return Object(j.jsxs)(W,{children:[Object(j.jsx)("div",{className:"pfp-link",children:Object(j.jsx)(p.b,{to:"/user/".concat(t.author._id),className:"user",children:Object(j.jsx)(w.a,{src:t.author.profilePhotoSrc,userId:e,size:"35px"})})}),Object(j.jsxs)("div",{className:"sub-comment-body",children:[Object(j.jsx)(p.b,{to:"/user/".concat(t.author._id),className:"user",children:A}),I?Object(j.jsx)(B,{setCommentText:U,commentText:E,commentId:t._id,toggleCommentEditStatus:J}):Object(j.jsx)("p",{className:"content",children:E}),V?Object(j.jsx)(d.b,{className:"comment-settings",onClick:function(){x(!m)}}):Object(j.jsx)("div",{}),Object(j.jsx)(y,{modalVisible:m,toggleModal:x,commentItem:t,setFeed:r,homeFeed:s,user:e,postAuthor:i,setCommentCount:a,toggleCommentEditStatus:J}),g>0?Object(j.jsx)(R,{likeCount:g}):Object(j.jsx)("div",{})]}),Object(j.jsx)(F,{comment:t._id,user:e,setLikeCount:O,focusRef:function(){L.current.focus(),N(!C)}}),Object(j.jsx)(D,{currentUser:e,subFormVis:C,toggleVis:N,inputRef:L,postId:t.post,commentId:t._id,parentId:t.parentId,setFeed:r,homeFeed:s,postAuthor:i,setCommentCount:a,src:t.author.profilePhotoSrc,pfp:c})]})},G=c.b.div(H||(H=Object(r.a)(["\n  padding: 0 5px;\n  margin-left: 10px;\n  margin-right: 10px;\n  position: relative;\n  display: grid;\n  grid-template-columns: 35px auto;\n  grid-template-rows: 1fr auto;\n  column-gap: 10px;\n\n  &:first-child {\n    margin-top: 10px;\n  }\n\n  .pfp-link {\n    height: 100%;\n    grid-column: 1 / 2;\n    grid-row: 1 / -1;\n  }\n\n  .comment-body {\n    position: relative;\n    min-width: 250px;\n    max-width: fit-content;\n    padding: 8px 14px;\n    border-radius: 20px;\n\n    a.user {\n      font-size: 14px;\n    }\n    p.content {\n      font-size: 15px;\n      padding-top: 2px;\n    }\n  }\n\n  & a,\n  & p {\n    grid-column: 2 / 3;\n  }\n\n  .comment-settings {\n    position: absolute;\n    top: 5px;\n    right: 10px;\n    cursor: pointer;\n    font-size: 18px;\n\n    &:hover {\n      color: #777;\n    }\n  }\n\n  &:hover .comment-settings {\n    display: block;\n  }\n\n  @media (min-width: 1280px) {\n    .comment-settings {\n      display: none;\n    }\n  }\n\n  .sub-comments {\n    margin-top: ",";\n    margin-left: -20px;\n  }\n"])),(function(n){return n.subFormVis?"50px":"0"}));var K,Q=function(n){var t=n.comment,e=n.currentUser,r=n.setFeed,s=n.homeFeed,i=n.postAuthor,a=n.setCommentCount,c=n.pfp,u=Object(h.useState)(!1),l=Object(o.a)(u,2),m=l[0],x=l[1],b=Object(h.useState)(t.likes.length),f=Object(o.a)(b,2),g=f[0],O=f[1],v=Object(h.useState)(!1),k=Object(o.a)(v,2),C=k[0],N=k[1],z=Object(h.useState)(!1),S=Object(o.a)(z,2),I=S[0],P=S[1],_=Object(h.useState)(t.text),T=Object(o.a)(_,2),E=T[0],U=T[1],A=t.author.firstName+" "+t.author.lastName,V=t.author._id===e,L=Object(h.useRef)(null),J=function(){return P(!I)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(G,{className:"comment",subFormVis:C,children:[Object(j.jsx)("div",{className:"pfp-link",children:Object(j.jsx)(p.b,{to:"/user/".concat(t.author._id),className:"user",children:Object(j.jsx)(w.a,{src:t.author.profilePhotoSrc,userId:t.author._id,size:"35px"})})}),Object(j.jsxs)("div",{className:"comment-body",children:[Object(j.jsx)(p.b,{to:"/user/".concat(t.author._id),className:"user",children:A}),I?Object(j.jsx)(B,{setCommentText:U,commentText:E,commentId:t._id,toggleCommentEditStatus:J}):Object(j.jsx)("p",{className:"content",children:E}),V?Object(j.jsx)(d.b,{className:"comment-settings",onClick:function(){x(!m)}}):Object(j.jsx)("div",{}),Object(j.jsx)(y,{modalVisible:m,toggleModal:x,commentItem:t,setFeed:r,homeFeed:s,user:e,postAuthor:i,setCommentCount:a,toggleCommentEditStatus:J}),g>0?Object(j.jsx)(R,{likeCount:g}):Object(j.jsx)("div",{})]}),Object(j.jsx)(F,{comment:t._id,user:e,setLikeCount:O,focusRef:function(){L.current.focus(),N(!C)}}),Object(j.jsx)(D,{currentUser:e,subFormVis:C,toggleVis:N,inputRef:L,postId:t.post,commentId:t._id,parentId:t._id,setFeed:r,homeFeed:s,postAuthor:i,setCommentCount:a,pfp:c})]}),Object(j.jsx)("div",{className:"sub-comments",children:t.comments.map((function(n){return Object(j.jsx)("div",{className:"sub-comment",children:Object(j.jsx)(q,{postAuthor:i,comment:n,parentId:n.parentId,currentUser:e,setFeed:r,homeFeed:s,setCommentCount:a,pfp:c})},n._id)}))})]})},X=c.b.form(K||(K=Object(r.a)(['\n  margin: 0 10px;\n  padding-bottom: 10px;\n\n  .wrap {\n    display: flex;\n    justify-content: space-between;\n    margin-top: 10px;\n    margin-left: 5px;\n  }\n\n  input[type="text"] {\n    flex: 1;\n    height: 35px;\n    padding-left: 10px;\n    padding-right: 10px;\n    border-style: none;\n    border-radius: 18px;\n    background: #707070;\n    color: ',';\n    font-size: 14px;\n    margin: 0 10px;\n    z-index: 2;\n  }\n\n  input[type="submit"] {\n    background: none;\n    font-weight: bold;\n  }\n\n  p {\n    font-size: 12px;\n    padding-top: 3px;\n    padding-left: 55px;\n  }\n'])),U.a.white),Y=new b.a;var Z,$=function(n){var t=n.postId,e=n.setFeed,o=n.homeFeed,r=n.postAuthor,s=n.inputRef,c=n.currentUser,d=n.setCommentCount,l=n.setCommentsVisible,m=(n.src,n.pfp),x=Y.get("token");function b(){return(b=Object(a.a)(i.a.mark((function n(s){var a,p,m,b,f,h,j,g;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s.preventDefault(),a=s.target[0],p=a.value){n.next=5;break}return n.abrupt("return");case 5:return m={text:p,post:t,author:c},b=JSON.stringify(m),n.next=9,fetch("https://frozen-thicket-71687.herokuapp.com/comments/new",{method:"POST",type:"cors",body:b,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(x)}}).catch((function(n){return console.error(n)}));case 9:return f=n.sent,n.next=12,f.json();case 12:if(h=n.sent,!o){n.next=19;break}return n.next=16,fetch("https://frozen-thicket-71687.herokuapp.com/posts/feed/".concat(c));case 16:j=n.sent,n.next=22;break;case 19:return n.next=21,fetch("https://frozen-thicket-71687.herokuapp.com/posts/byuser/".concat(r));case 21:j=n.sent;case 22:return n.next=24,j.json();case 24:g=n.sent,e(g),d(u(h.comments)),l(),a.value="";case 29:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(j.jsxs)(X,{onSubmit:function(n){return b.apply(this,arguments)},children:[Object(j.jsxs)("div",{className:"wrap",children:[Object(j.jsx)(p.b,{to:"/profile",children:Object(j.jsx)(w.a,{size:"35px",src:m,userId:c})}),Object(j.jsx)("input",{type:"text",ref:s,id:"comment-input",placeholder:"Write a comment..."})]}),Object(j.jsx)("p",{children:"Press enter to comment"})]})},nn=e(39),tn=e.n(nn),en=c.b.div(Z||(Z=Object(r.a)(["\n  display: grid;\n  justify-items: stretch;\n  grid-auto-flow: column;\n  column-gap: 4px;\n  border-bottom: 1px solid gray;\n  border-top: 1px solid gray;\n  padding: 4px 0;\n  margin-left: 10px;\n  margin-right: 10px;\n  & button {\n    font-weight: bold;\n    font-size: 14px;\n  }\n\n  button.util {\n    background: none;\n    &:hover,\n    &:active {\n      background: #707070aa;\n    }\n  }\n"])));var on,rn=function(n){var t=n.user,e=n.post,o=n.setLikeCount,r=n.focusRef;return Object(j.jsxs)(en,{children:[Object(j.jsx)(N,{user:t,post:e,setLikeCount:o}),Object(j.jsx)("button",{onClick:r,className:"util",children:"Comment"})]})},sn=c.b.div(on||(on=Object(r.a)(["\n  font-size: 15px;\n  display: flex;\n  padding: 0 10px;\n  margin-top: 5px;\n\n  .likes,\n  .post-comments {\n    margin-top: 5px;\n    flex: 1;\n    display: flex;\n  }\n  .likes {\n    justify-content: start;\n  }\n  .post-comments {\n    display: ",";\n    justify-content: flex-end;\n    -webkit-justify-content: flex-end;\n    margin-right: 4px;\n\n    &:hover {\n      text-decoration: underline;\n      cursor: pointer;\n    }\n  }\n"])),(function(n){return n.commentCount?"flex":"none"}));var an,cn=function(n){var t=n.likeCount,e=n.commentCount,o=n.toggleComments;return Object(j.jsxs)(sn,{commentCount:e,children:[Object(j.jsx)("div",{className:"likes",children:t>0?Object(j.jsx)(_,{likeCount:t}):Object(j.jsx)("div",{})}),Object(j.jsx)("div",{className:"post-comments",onClick:o,children:1===e?e+" Comment":e>0?e+" Comments":Object(j.jsx)("div",{})})]})},pn=c.b.div(an||(an=Object(r.a)(["\n  width: 100%;\n  border-radius: 5px;\n  margin: 20px 0px;\n  box-shadow: 0 0.1px 0.8px rgba(0, 0, 0, 0.02),\n    0 0.1px 1.9px rgba(0, 0, 0, 0.028), 0 0.3px 3.5px rgba(0, 0, 0, 0.035),\n    0 0.4px 6.3px rgba(0, 0, 0, 0.042), 0 0.8px 11.7px rgba(0, 0, 0, 0.05);\n\n  &:hover {\n    transition: box-shadow 0.05s ease;\n    box-shadow: 0 -0.4px 1.1px rgba(0, 0, 0, 0.047),\n      0 -0.7px 2.5px rgba(0, 0, 0, 0.063), 0 -0.9px 4.5px rgba(0, 0, 0, 0.067),\n      0 -0.8px 7.4px rgba(0, 0, 0, 0.067), 0 0.4px 12.2px rgba(0, 0, 0, 0.066);\n  }\n\n  .user-info {\n    display: grid;\n    grid-template-columns: 60px auto;\n    grid-template-rows: 15px auto;\n    row-gap: 10px;\n    padding: 6px 5px 0px;\n    margin-bottom: 10px;\n\n    p {\n      font-size: 13px;\n      font-weight: bold;\n      color: #aaa;\n    }\n\n    a,\n    p {\n      width: fit-content;\n    }\n\n    a:hover {\n      text-decoration: underline;\n    }\n  }\n\n  .post {\n    position: relative;\n    padding: 5px 0;\n    padding-bottom: 10px;\n    // border-bottom: 1px solid gray;\n    position: relative;\n\n    .pfp-link {\n      grid-column: 1 / 2;\n      grid-row: 1 / -1;\n      justify-self: center;\n      align-self: center;\n    }\n\n    p.content {\n      margin-left: 10px;\n      line-height: 23px;\n      font-size: 15px;\n    }\n  }\n\n  .post-settings {\n    position: absolute;\n    top: 6px;\n    right: 10px;\n    cursor: pointer;\n    font-size: 24px;\n\n    &:hover {\n      color: #777;\n    }\n  }\n\n  .post:hover .post-settings {\n    display: block;\n  }\n\n  .comments {\n    display: ",";\n  }\n\n  .photo-wrap {\n    width: 100%;\n    margin-top: 5px;\n    display: flex;\n    justify-content: center;\n\n    img {\n      width: 100%;\n      // max-width: 100%;\n    }\n  }\n\n  @media (min-width: 300px) {\n    .post-settings {\n      display: block;\n    }\n  }\n\n  @media (min-width: 1280px) {\n    .post-settings {\n      display: none;\n    }\n  }\n"])),(function(n){return n.cmtsVis?"block":"none"}));var dn,un=function(n){var t=n.post,e=n.setFeed,r=n.homeFeed,s=n.src,c=n.currentUser,l=n.pfp,m=Object(h.useState)(!1),x=Object(o.a)(m,2),b=x[0],f=x[1],g=Object(h.useState)(t.likes.length),O=Object(o.a)(g,2),v=O[0],k=O[1],C=Object(h.useState)(u(t.comments)),N=Object(o.a)(C,2),z=N[0],S=N[1],F=Object(h.useState)(!0),I=Object(o.a)(F,2),P=I[0],_=I[1],T=Object(h.useState)(!1),E=Object(o.a)(T,2),R=E[0],U=E[1],A=Object(h.useState)(t.text),V=Object(o.a)(A,2),L=V[0],D=V[1],J=Object(h.useState)(null),M=Object(o.a)(J,2),W=M[0],H=M[1],q=t.author._id===c,G=Object(h.useRef)(null);Object(h.useEffect)((function(){!function(){var n=Object(a.a)(i.a.mark((function n(){var e;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.photo){n.next=5;break}e=t.photo.key,H("https://frozen-thicket-71687.herokuapp.com/images/".concat(e)),n.next=6;break;case 5:return n.abrupt("return");case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()}),[W,t.photo]);var K=function(){return U(!R)};return Object(j.jsxs)(pn,{className:"postItem",cmtsVis:P,children:[Object(j.jsxs)("div",{className:"post",children:[Object(j.jsxs)("div",{className:"user-info",children:[Object(j.jsx)("div",{className:"pfp-link",children:Object(j.jsx)(p.b,{to:"/user/".concat(t.author._id),className:"user",children:Object(j.jsx)(w.a,{src:t.author.profilePhotoSrc,size:"40px"})})}),Object(j.jsxs)(p.b,{to:"/user/".concat(t.author._id),className:"user",children:[t.author.firstName," ",t.author.lastName]}),Object(j.jsx)("p",{children:tn()(t.createdAt).fromNow()})]}),R?Object(j.jsx)(B,{setPostText:D,postText:L,togglePostEdit:K,postId:t._id,isPost:!0}):Object(j.jsx)("p",{className:"content",children:L}),t.photo?Object(j.jsx)("div",{className:"photo-wrap",children:Object(j.jsx)("img",{src:W,alt:"post",loading:"lazy"})}):Object(j.jsx)("div",{}),Object(j.jsx)(cn,{likeCount:v,commentCount:z,toggleComments:function(){return _(!P)}}),q?Object(j.jsx)(d.b,{className:"post-settings",onClick:function(){return f(!b)}}):Object(j.jsx)("div",{}),Object(j.jsx)(y,{modalVisible:b,toggleModal:f,postItem:t,user:c,setFeed:e,homeFeed:r,setCommentCount:S,togglePostEdit:K,postAuthor:t.author._id,isPost:!0})]}),Object(j.jsx)(rn,{user:c,post:t._id,setLikeCount:k,focusRef:function(){return G.current.focus()}}),Object(j.jsx)("div",{className:"comments",children:t.comments.map((function(n){return Object(j.jsx)("div",{children:Object(j.jsx)(Q,{comment:n,currentUser:c,setFeed:e,homeFeed:r,postAuthor:t.author._id,setCommentCount:S,pfp:l})},n._id)}))}),Object(j.jsx)($,{currentUser:c,postId:t._id,postAuthor:t.author._id,setFeed:e,homeFeed:r,inputRef:G,setCommentCount:S,setCommentsVisible:function(){return _(!0)},src:s,pfp:l})]})},ln=e(37),mn=e.n(ln),xn=c.b.div(dn||(dn=Object(r.a)(["\n  background: #777;\n  width: 95%;\n  max-width: 750px;\n  padding: 18px;\n  border-radius: 8px;\n  margin-bottom: 10px;\n  box-shadow: 0 0.1px 0.8px rgba(0, 0, 0, 0.02),\n    0 0.1px 1.9px rgba(0, 0, 0, 0.028), 0 0.3px 3.5px rgba(0, 0, 0, 0.035),\n    0 0.4px 6.3px rgba(0, 0, 0, 0.042), 0 0.8px 11.7px rgba(0, 0, 0, 0.05);\n\n  .post-detail {\n    display: flex;\n    margin-bottom: 15px;\n  }\n\n  .detail-right {\n    margin-left: 10px;\n    width: 100%;\n    display: grid;\n    align-content: space-between;\n  }\n  .author {\n    width: 200px;\n  }\n  .posted-at {\n    width: 100px;\n  }\n\n  .text {\n    margin-bottom: 8px;\n  }\n  .post-body {\n    height: 200px;\n  }\n  .comments {\n    margin-top: 15px;\n  }\n  .comment {\n    margin-top: 12px;\n    display: grid;\n    grid-auto-flow: column;\n    justify-content: start;\n    gap: 10px;\n  }\n"])));var bn,fn=function(){return Object(j.jsx)(xn,{className:"loading",id:"post-loader",children:Object(j.jsxs)(ln.SkeletonTheme,{color:"#d8d8d8",highlightColor:"#f0f0f0",children:[Object(j.jsxs)("div",{className:"post-detail",children:[Object(j.jsx)(mn.a,{circle:"true",height:40,width:40,className:"pfp"}),Object(j.jsxs)("div",{className:"detail-right",children:[Object(j.jsx)(mn.a,{className:"author"}),Object(j.jsx)(mn.a,{className:"posted-at"})]})]}),Object(j.jsx)(mn.a,{className:"text",count:3}),Object(j.jsxs)("div",{className:"comments",children:[Object(j.jsxs)("div",{className:"comment",children:[Object(j.jsx)(mn.a,{circle:!0,height:35,width:35}),Object(j.jsx)("div",{className:"cmts-right",children:Object(j.jsx)(mn.a,{height:55,width:200})})]}),Object(j.jsxs)("div",{className:"comment",children:[Object(j.jsx)(mn.a,{circle:!0,height:35,width:35}),Object(j.jsx)("div",{className:"cmts-right",children:Object(j.jsx)(mn.a,{height:55,width:260})})]}),Object(j.jsxs)("div",{className:"comment",children:[Object(j.jsx)(mn.a,{circle:!0,height:35,width:35}),Object(j.jsx)("div",{className:"cmts-right",children:Object(j.jsx)(mn.a,{height:55,width:150})})]})]})]})})},hn=e(82),jn=c.b.div(bn||(bn=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  .wrap {\n    width: 95%;\n    max-width: 750px;\n  }\n"]))),gn=Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(fn,{}),Object(j.jsx)(fn,{}),Object(j.jsx)(fn,{})]});t.a=function(n){var t=n.homeFeed,e=n.posts,r=n.setPosts,s=n.src,i=n.currentUser,a=n.pfp,c=Object(h.useState)(5),p=Object(o.a)(c,2),d=p[0],u=p[1];return Object(j.jsx)("div",{className:"grid-feed",children:Object(j.jsx)(hn.a,{dataLength:d,next:function(){return u(d+5)},hasMore:(null===e||void 0===e?void 0:e.length)!==d,children:Object(j.jsx)(jn,{className:"grid-feed",children:e?Object(j.jsx)("div",{className:"wrap",children:e.slice(0,d).map((function(n){return Object(j.jsx)("div",{className:"post-wrap",children:Object(j.jsx)(un,{post:n,setFeed:r,homeFeed:t,src:s,currentUser:i,pfp:a})},n._id)}))}):gn})})})}},76:function(n,t,e){"use strict";var o=e(7),r=e.n(o),s=e(11),i=e(4),a=e(5),c=e(2),p=e(6),d=e(17),u=e(74),l=e(1);var m=function(n){var t=n.toggleImgModal,e=n.focusRef;return Object(l.jsxs)("div",{className:"post-types",children:[Object(l.jsxs)("div",{className:"post-icon",onClick:t,children:[Object(l.jsx)(d.e,{}),Object(l.jsx)("p",{id:"post-icon-text",children:"Photo"})]}),Object(l.jsxs)("div",{className:"post-icon",onClick:e,children:[Object(l.jsx)(u.b,{}),Object(l.jsx)("p",{id:"post-icon-text",children:"Text"})]})]})},x=e(77),b=e(23);var f,h=function(n){var t=n.handleSubmit,e=n.src,o=n.currentUser,r=n.handleInputChange,s=n.text,i=n.postRef;return Object(l.jsxs)("form",{onSubmit:t,className:"txt-form",children:[Object(l.jsxs)("div",{className:"wrap",children:[Object(l.jsx)("div",{className:"pfp",children:Object(l.jsx)(b.a,{src:e,userId:o,size:"37px"})}),Object(l.jsx)("input",{type:"text",onChange:r,value:s,ref:i}),Object(l.jsx)("div",{className:"placeholder",id:s?"moved":" ",children:"What's on your mind?"})]}),Object(l.jsx)("p",{children:"Press enter to post"})]})},j=e(15),g=p.b.div(f||(f=Object(a.a)(["\n  background: ",";\n  border: 1px solid ",'11;\n  padding: 18px;\n  padding-bottom: 6px;\n  border-radius: 8px;\n  margin: 10px auto;\n  position: relative;\n  width: 95%;\n  max-width: 750px;\n  box-shadow: 0 0.1px 0.8px rgba(0, 0, 0, 0.02),\n    0 0.1px 1.9px rgba(0, 0, 0, 0.028), 0 0.3px 3.5px rgba(0, 0, 0, 0.035),\n    0 0.4px 6.3px rgba(0, 0, 0, 0.042), 0 0.8px 11.7px rgba(0, 0, 0, 0.05);\n\n  form {\n    display: flex;\n    flex-flow: column nowrap;\n  }\n\n  .wrap {\n    display: flex;\n  }\n\n  .pfp {\n    margin-right: 10px;\n  }\n\n  input[type="text"] {\n    background: ',";\n    padding-left: 10px;\n    border-style: none;\n    border-radius: 18px;\n    height: 37px;\n    width: 100%;\n    opacity: 60%;\n    font-size: 15px;\n    color: ",";\n\n    &:focus {\n      outline: none;\n    }\n  }\n\n  .txt-form {\n    padding-bottom: 10px;\n    border-bottom: 1px solid gray;\n    border-bottom: 1px solid gray;\n  }\n\n  .placeholder {\n    color: ",';\n    position: absolute;\n    top: 28px;\n    left: 75px;\n    font-size: 15px;\n    transition: top 0.2s ease, left 0.2s ease, font-size 0.2s ease;\n    pointer-events: none;\n  }\n\n  input[type="text"]:focus + div.placeholder {\n    color: ',";\n    font-size: 12px;\n    top: 2px;\n    left: 70px;\n    transition: top 0.2s ease, left 0.2s ease, font-size 0.2s ease;\n  }\n\n  #moved {\n    top: 2px;\n    left: 70px;\n    color: ",";\n    font-size: 12px;\n    transition: top 0.2s ease, left 0.2s ease, font-size 0.2s ease;\n  }\n\n  p {\n    font-size: 12px;\n    padding-top: 3px;\n    padding-left: 57px;\n  }\n\n  .post-types {\n    display: grid;\n    grid-auto-flow: column;\n    margin-top: 7px;\n  }\n\n  .post-icon {\n    display: grid;\n    grid-auto-flow: column;\n    justify-content: center;\n    font-size: 28px;\n    cursor: pointer;\n    padding: 5px 0;\n    border-radius: 8px;\n\n    &:hover,\n    &:active {\n      background: #707070aa;\n    }\n\n    p {\n      padding: 0;\n      padding-left: 5px;\n      width: fit-content;\n      justify-self: start;\n      align-self: center;\n      font-size: 15px;\n      font-weight: bold;\n    }\n  }\n"])),(function(n){var t=n.lm,e=n.g;return t?"#eee":e}),(function(n){var t=n.lm,e=n.g,o=n.w;return t?e:o}),(function(n){return n.lm?"#d8d8d8":"#707070"}),(function(n){return n.lm?"#000":"#fff"}),(function(n){var t=n.lm,e=n.g,o=n.w;return t?e:o}),(function(n){var t=n.lm,e=n.g,o=n.w;return t?e:o}),(function(n){var t=n.lm,e=n.g,o=n.w;return t?e:o})),O=new j.a;t.a=function(n){var t=n.colors,e=n.postRef,o=n.currentUser,a=n.lightMode,p=n.setFeed,d=n.homeFeed,u=n.src,b=n.fromProfile,f=Object(c.useState)(""),j=Object(i.a)(f,2),v=j[0],y=j[1],w=Object(c.useState)(!1),k=Object(i.a)(w,2),C=k[0],N=k[1],z=t.black,S=t.gray,F=t.white,I=t.red,P=t.yellow,_=O.get("token"),T=function(){return N(!C)};function E(){return(E=Object(s.a)(r.a.mark((function n(t){var o,s,i,a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),v){n.next=3;break}return n.abrupt("return");case 3:return o={homeFeed:d,text:v},s=JSON.stringify(o),n.next=7,fetch("https://frozen-thicket-71687.herokuapp.com/posts/new",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(_)},body:s});case 7:return i=n.sent,n.next=10,i.json();case 10:a=n.sent,p(a),y(""),e.current.blur();case 14:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(g,{r:I,y:P,b:z,g:S,w:F,lm:a,textIsEmpty:""===v,className:"grid-status-form",children:[Object(l.jsx)(h,{handleSubmit:function(n){return E.apply(this,arguments)},src:u,currentUser:o,handleInputChange:function(n){y(n.target.value)},text:v,postRef:e}),Object(l.jsx)(m,{toggleImgModal:T,focusRef:function(){return e.current.focus()}}),Object(l.jsx)(x.a,{toggle:T,user:o,vis:C,setFeed:p,postInput:!0,fromProfile:b})]})})}},77:function(n,t,e){"use strict";var o,r=e(24),s=e(5),i=e(2),a=e(6),c=e(7),p=e.n(c),d=e(11),u=e(4),l=e(17),m=e(3),x=e(15),b=e(18),f=e(73),h=e(1),j=a.b.form(o||(o=Object(s.a)(['\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  position: relative;\n  z-index: 10;\n  width: 100%;\n  max-width: 400px;\n  max-height: 90vh;\n  padding-bottom: 15px;\n  border-radius: 8px;\n  box-shadow: 0 0.1px 0.8px rgba(0, 0, 0, 0.02),\n    0 0.1px 1.9px rgba(0, 0, 0, 0.028), 0 0.3px 3.5px rgba(0, 0, 0, 0.035),\n    0 0.4px 6.3px rgba(0, 0, 0, 0.042), 0 0.8px 11.7px rgba(0, 0, 0, 0.05);\n\n  input[type="file"] {\n    display: none;\n  }\n\n  .icon {\n    font-size: 100px;\n    cursor: pointer;\n    color: ',';\n    justify-self: center;\n  }\n\n  label {\n    height: fit-content;\n    width: fit-content;\n    display: grid;\n    flex-direction: column;\n    grid-auto-flow: row;\n    justify-content: center;\n    margin-bottom: 10px;\n\n    p.upload-txt {\n      padding: 0;\n      text-align: center;\n      font-size: 14px;\n\n      &:hover {\n        text-decoration: underline;\n        cursor: pointer;\n      }\n    }\n  }\n\n  input[type="submit"] {\n    margin-top: 20px;\n    width: 95%;\n    max-width: 400px;\n    font-size: 18px;\n    padding: 10px;\n\n    &:hover,\n    &:active {\n      background: ',";\n      cursor: pointer;\n    }\n  }\n\n  img[src] {\n    margin-top: 15px;\n    max-width: 95%;\n    max-height: 300px;\n  }\n\n  #esc {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    height: 40px;\n    width: 40px;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n\n    &:hover,\n    &:active {\n      opacity: 80%;\n    }\n\n    span {\n      display: block;\n      height: 2px;\n      width: 25px;\n      background: ",";\n      border-radius: 8px;\n\n      &:first-child {\n        transform: rotate(45deg);\n        position: absolute;\n        left: 8px;\n      }\n\n      &:last-child {\n        transform: rotate(-45deg);\n        position: absolute;\n        left: 8px;\n      }\n    }\n  }\n\n  input#img-text-input {\n    width: 95%;\n    min-height: 35px;\n    max-width: 400px;\n    font-size: 14px;\n\n    &:hover {\n      opacity: 70%;\n    }\n  }\n\n  .img-error {\n    display: ",";\n    padding: 5px;\n    padding-top: 20px;\n    font-size: 14px;\n    text-align: center;\n  }\n\n  .spinner {\n    position: absolute;\n    bottom: 26px;\n    left: ",";\n  }\n\n  @media (min-width: 420px) {\n    .spinner {\n      left: ",";\n    }\n  }\n  @media (min-width: 520px) {\n    .spinner {\n      left: ",";\n    }\n  }\n"])),m.a.blue,m.a.blue,m.a.gray,(function(n){return n.imgError?"flex":"none"}),(function(n){return n.pfp?"10%":"33%"}),(function(n){return n.pfp?"16%":"36%"}),(function(n){return n.pfp?"20%":"150px"})),g=new x.a;var O,v=function(n){var t=n.user,e=n.toggleOff,o=n.profile,r=n.setFeed,s=n.setUpdateStatus,a=n.postInput,c=n.fromProfile,m=Object(i.useState)(null),x=Object(u.a)(m,2),O=x[0],v=x[1],y=Object(i.useState)(null),w=Object(u.a)(y,2),k=w[0],C=w[1],N=Object(i.useState)(""),z=Object(u.a)(N,2),S=z[0],F=z[1],I=Object(i.useState)(!1),P=Object(u.a)(I,2),_=P[0],T=P[1],E=Object(i.useState)(!1),R=Object(u.a)(E,2),U=R[0],A=R[1],V=g.get("token"),L=function(){var n=Object(d.a)(p.a.mark((function n(e){var i,a,u,l;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),O&&!U){n.next=3;break}return n.abrupt("return");case 3:return T(!0),n.next=6,Object(f.a)(O);case 6:return i=n.sent,(a=new FormData).append("file",i),a.append("text",S),u="".concat(o?"profile":"posts","/").concat(c?"profile":"home","/").concat(t),l="https://frozen-thicket-71687.herokuapp.com/upload/".concat(u),n.next=14,fetch(l,{method:"post",body:a,headers:{Authorization:"Bearer ".concat(V)}}).then(function(){var n=Object(d.a)(p.a.mark((function n(t){var e;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.json();case 2:e=n.sent,o?s(!0):r(e),D(),T(!1);case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()).catch((function(n){return console.error(n)}));case 14:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),D=function(){e(),v(null),C(null),F(""),A(!1),T(!1)};return Object(h.jsxs)(j,{id:"img-form",onSubmit:L,encType:"multipart/form-data",className:"modal-component",pfp:o,imgError:U,children:[Object(h.jsx)("input",{type:"file",name:a?"post-file":"file",id:a?"post-file":"file",accept:".png, .jpeg, .jpg",onChange:function(n){v(n.target.files[0]),C(URL.createObjectURL(n.target.files[0])),U&&A(!1),n.target.files[0].size>6e6&&A(!0)},className:"modal-component"}),Object(h.jsxs)("label",{htmlFor:a?"post-file":"file",className:"modal-component",children:[Object(h.jsx)(l.e,{className:"upload-icon icon modal-component"}),Object(h.jsx)("p",{className:"upload-txt modal-component",children:"Upload an image"})]}),o?Object(h.jsx)("div",{}):Object(h.jsx)("input",{type:"text",id:"img-text-input",placeholder:"What's on your mind?",onChange:function(n){return F(n.target.value)},value:S,className:"modal-component"}),Object(h.jsx)("img",{src:k,alt:"",className:"modal-component"}),Object(h.jsx)("p",{className:"img-error",children:"This image is too large! If you really want to post it, please compress it."}),Object(h.jsx)("input",{type:"submit",value:o?"Change profile picture":"Post",className:"modal-component",disabled:_}),Object(h.jsx)(b.a,{className:"spinner",vis:_}),Object(h.jsxs)("button",{id:"esc",onClick:D,className:"modal-component",children:[Object(h.jsx)("span",{}),Object(h.jsx)("span",{})]})]})},y=a.b.div(O||(O=Object(s.a)(["\n  display: ",";\n  justify-content: center;\n  position: fixed;\n  top: 20px;\n  left: 0;\n  width: 80%;\n  margin: 0 10%;\n  z-index: 3;\n  animation: comeFromTop 0.2s cubic-bezier(0.18, 0.89, 0.32, 1.28);\n\n  @keyframes comeFromTop {\n    from {\n      top: -50px;\n    }\n  }\n"])),(function(n){return n.vis?"flex":"none"}));t.a=function(n){var t=n.toggle,e=n.user,o=n.vis,s=n.profile,a=n.setFeed,c=n.setUpdateStatus,p=n.postInput,d=n.fromProfile,u=function(n){"path"!==n.target.tagName&&(Object(r.a)(n.target.classList).includes("modal-component")||o&&t())};return Object(i.useEffect)((function(){return window.addEventListener("click",u),function(){window.removeEventListener("click",u)}})),Object(h.jsx)(y,{vis:o,children:Object(h.jsx)(v,{user:e,toggleOff:t,profile:s,setFeed:a,setUpdateStatus:c,postInput:p,fromProfile:d})})}}}]);
//# sourceMappingURL=0.d9ce227f.chunk.js.map